{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/github.svg","webpack:///./src/ChatContainer.vue?0471","webpack:///../src/utils/constants.js","webpack:///../src/utils/media-file.js","webpack:///./src/App.vue?ceea","webpack:///./src/database/index.js","webpack:///./src/database/firestore.js","webpack:///./src/database/storage.js","webpack:///./src/ChatContainer.vue?35a8","webpack:///./src/database/firebase.js","webpack:///./src/utils/dates.js","webpack:///../src/lib/ChatWindow.vue?ac89","webpack:///../src/lib/RoomsList/RoomsList.vue?3da1","webpack:///../src/components/Loader/Loader.vue?94fe","webpack:///../src/components/Loader/Loader.vue","webpack:///../src/components/Loader/Loader.vue?80cf","webpack:///../src/components/Loader/Loader.vue?8dc0","webpack:///../src/lib/RoomsList/RoomsSearch/RoomsSearch.vue?b6dc","webpack:///../src/components/SvgIcon/SvgIcon.vue?8c6f","webpack:///../src/components/SvgIcon/SvgIcon.vue","webpack:///../src/components/SvgIcon/SvgIcon.vue?5b2b","webpack:///../src/components/SvgIcon/SvgIcon.vue?3f21","webpack:///../src/lib/RoomsList/RoomsSearch/RoomsSearch.vue","webpack:///../src/lib/RoomsList/RoomsSearch/RoomsSearch.vue?8f04","webpack:///../src/lib/RoomsList/RoomsSearch/RoomsSearch.vue?c8da","webpack:///../src/lib/RoomsList/RoomContent/RoomContent.vue?13d4","webpack:///../src/components/FormatMessage/FormatMessage.vue?468a","webpack:///../src/utils/format-string.js","webpack:///../src/components/FormatMessage/FormatMessage.vue","webpack:///../src/components/FormatMessage/FormatMessage.vue?f517","webpack:///../src/components/FormatMessage/FormatMessage.vue?d065","webpack:///../src/utils/typing-text.js","webpack:///../src/lib/RoomsList/RoomContent/RoomContent.vue","webpack:///../src/lib/RoomsList/RoomContent/RoomContent.vue?6c02","webpack:///../src/lib/RoomsList/RoomContent/RoomContent.vue?2270","webpack:///../src/utils/filter-items.js","webpack:///../src/lib/RoomsList/RoomsList.vue","webpack:///../src/utils/mp3-encoder.js","webpack:///../src/lib/RoomsList/RoomsList.vue?54fa","webpack:///../src/lib/RoomsList/RoomsList.vue?91f3","webpack:///../src/lib/Room/Room.vue?82fd","webpack:///../src/lib/Room/RoomHeader/RoomHeader.vue?9311","webpack:///../src/lib/Room/RoomHeader/RoomHeader.vue","webpack:///../src/lib/Room/RoomHeader/RoomHeader.vue?4a2e","webpack:///../src/lib/Room/RoomHeader/RoomHeader.vue?9a9c","webpack:///../src/lib/Room/RoomFooter/RoomFooter.vue?fd29","webpack:///../src/components/EmojiPickerContainer/EmojiPickerContainer.vue?ff79","webpack:///../src/components/EmojiPickerContainer/EmojiPickerContainer.vue","webpack:///../src/components/EmojiPickerContainer/EmojiPickerContainer.vue?769b","webpack:///../src/components/EmojiPickerContainer/EmojiPickerContainer.vue?b6d2","webpack:///../src/lib/Room/RoomFooter/RoomFiles/RoomFiles.vue?51b1","webpack:///../src/lib/Room/RoomFooter/RoomFiles/RoomFile/RoomFile.vue?6175","webpack:///../src/lib/Room/RoomFooter/RoomFiles/RoomFile/RoomFile.vue","webpack:///../src/lib/Room/RoomFooter/RoomFiles/RoomFile/RoomFile.vue?2d28","webpack:///../src/lib/Room/RoomFooter/RoomFiles/RoomFile/RoomFile.vue?65ab","webpack:///../src/lib/Room/RoomFooter/RoomFiles/RoomFiles.vue","webpack:///../src/lib/Room/RoomFooter/RoomFiles/RoomFiles.vue?3224","webpack:///../src/lib/Room/RoomFooter/RoomFiles/RoomFiles.vue?de3b","webpack:///../src/lib/Room/RoomFooter/RoomMessageReply/RoomMessageReply.vue?5470","webpack:///../src/lib/Room/RoomMessage/AudioPlayer/AudioPlayer.vue?8323","webpack:///../src/lib/Room/RoomMessage/AudioPlayer/AudioControl/AudioControl.vue?d608","webpack:///../src/lib/Room/RoomMessage/AudioPlayer/AudioControl/AudioControl.vue","webpack:///../src/lib/Room/RoomMessage/AudioPlayer/AudioControl/AudioControl.vue?3fce","webpack:///../src/lib/Room/RoomMessage/AudioPlayer/AudioControl/AudioControl.vue?116a","webpack:///../src/lib/Room/RoomMessage/AudioPlayer/AudioPlayer.vue","webpack:///../src/lib/Room/RoomMessage/AudioPlayer/AudioPlayer.vue?29c4","webpack:///../src/lib/Room/RoomMessage/AudioPlayer/AudioPlayer.vue?7402","webpack:///../src/lib/Room/RoomFooter/RoomMessageReply/RoomMessageReply.vue","webpack:///../src/lib/Room/RoomFooter/RoomMessageReply/RoomMessageReply.vue?4935","webpack:///../src/lib/Room/RoomFooter/RoomMessageReply/RoomMessageReply.vue?0d00","webpack:///../src/lib/Room/RoomFooter/RoomUsersTag/RoomUsersTag.vue?7c20","webpack:///../src/lib/Room/RoomFooter/RoomUsersTag/RoomUsersTag.vue","webpack:///../src/lib/Room/RoomFooter/RoomUsersTag/RoomUsersTag.vue?a51b","webpack:///../src/lib/Room/RoomFooter/RoomUsersTag/RoomUsersTag.vue?75be","webpack:///../src/lib/Room/RoomFooter/RoomEmojis/RoomEmojis.vue?c8a9","webpack:///../src/lib/Room/RoomFooter/RoomEmojis/RoomEmojis.vue","webpack:///../src/lib/Room/RoomFooter/RoomEmojis/RoomEmojis.vue?8093","webpack:///../src/lib/Room/RoomFooter/RoomEmojis/RoomEmojis.vue?4f1e","webpack:///../src/lib/Room/RoomFooter/RoomTemplatesText/RoomTemplatesText.vue?8b2b","webpack:///../src/lib/Room/RoomFooter/RoomTemplatesText/RoomTemplatesText.vue","webpack:///../src/lib/Room/RoomFooter/RoomTemplatesText/RoomTemplatesText.vue?d0b3","webpack:///../src/lib/Room/RoomFooter/RoomTemplatesText/RoomTemplatesText.vue?4f16","webpack:///../src/utils/recorder.js","webpack:///../src/lib/Room/RoomFooter/RoomFooter.vue","webpack:///../src/lib/Room/RoomFooter/RoomFooter.vue?dbf4","webpack:///../src/lib/Room/RoomFooter/RoomFooter.vue?b48d","webpack:///../src/lib/Room/RoomMessage/RoomMessage.vue?7795","webpack:///../src/lib/Room/RoomMessage/MessageReply/MessageReply.vue?783a","webpack:///../src/lib/Room/RoomMessage/MessageReply/MessageReply.vue","webpack:///../src/lib/Room/RoomMessage/MessageReply/MessageReply.vue?3f31","webpack:///../src/lib/Room/RoomMessage/MessageReply/MessageReply.vue?f6aa","webpack:///../src/lib/Room/RoomMessage/MessageFiles/MessageFiles.vue?5fd8","webpack:///../src/components/ProgressBar/ProgressBar.vue?f224","webpack:///../src/components/ProgressBar/ProgressBar.vue","webpack:///../src/components/ProgressBar/ProgressBar.vue?8927","webpack:///../src/components/ProgressBar/ProgressBar.vue?f7ce","webpack:///../src/lib/Room/RoomMessage/MessageFiles/MessageFile/MessageFile.vue?c9df","webpack:///../src/lib/Room/RoomMessage/MessageFiles/MessageFile/MessageFile.vue","webpack:///../src/lib/Room/RoomMessage/MessageFiles/MessageFile/MessageFile.vue?431f","webpack:///../src/lib/Room/RoomMessage/MessageFiles/MessageFile/MessageFile.vue?9434","webpack:///../src/lib/Room/RoomMessage/MessageFiles/MessageFiles.vue","webpack:///../src/lib/Room/RoomMessage/MessageFiles/MessageFiles.vue?9b47","webpack:///../src/lib/Room/RoomMessage/MessageFiles/MessageFiles.vue?6265","webpack:///../src/lib/Room/RoomMessage/MessageActions/MessageActions.vue?3253","webpack:///../src/lib/Room/RoomMessage/MessageActions/MessageActions.vue","webpack:///../src/lib/Room/RoomMessage/MessageActions/MessageActions.vue?9d9e","webpack:///../src/lib/Room/RoomMessage/MessageActions/MessageActions.vue?1ed5","webpack:///../src/lib/Room/RoomMessage/MessageReactions/MessageReactions.vue?f860","webpack:///../src/lib/Room/RoomMessage/MessageReactions/MessageReactions.vue","webpack:///../src/lib/Room/RoomMessage/MessageReactions/MessageReactions.vue?7b9e","webpack:///../src/lib/Room/RoomMessage/MessageReactions/MessageReactions.vue?bc13","webpack:///../src/lib/Room/RoomMessage/RoomMessage.vue","webpack:///../src/lib/Room/RoomMessage/RoomMessage.vue?96d6","webpack:///../src/lib/Room/RoomMessage/RoomMessage.vue?563b","webpack:///../src/lib/Room/Room.vue","webpack:///../src/lib/Room/Room.vue?fec6","webpack:///../src/lib/Room/Room.vue?a7fa","webpack:///../src/lib/MediaPreview/MediaPreview.vue?48d5","webpack:///../src/lib/MediaPreview/MediaPreview.vue","webpack:///../src/lib/MediaPreview/MediaPreview.vue?8f7c","webpack:///../src/lib/MediaPreview/MediaPreview.vue?c7d5","webpack:///../src/locales/index.js","webpack:///../src/themes/index.js","webpack:///../src/lib/ChatWindow.vue","webpack:///../src/lib/ChatWindow.vue?5b21","webpack:///../src/lib/ChatWindow.vue?f3f4","webpack:///src/ChatContainer.vue","webpack:///./src/ChatContainer.vue?8289","webpack:///./src/ChatContainer.vue","webpack:///src/App.vue","webpack:///./src/App.vue?4c4f","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/App.vue?6656","webpack:///../src/utils/mobile-detection.js","webpack:///../src/utils/data-validation.js","webpack:///../src/lib/ChatWindow.vue?167a","webpack:///./src/assets/logo.png"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","IMAGE_TYPES","VIDEO_TYPES","AUDIO_TYPES","checkMediaType","types","file","type","some","toLowerCase","includes","isImageFile","isVideoFile","isImageVideoFile","isAudioFile","_vm","this","_h","$createElement","_c","_self","staticClass","class","isDevice","theme","_v","_e","directives","rawName","expression","on","$event","$$selectedVal","Array","filter","target","options","selected","map","val","_value","currentUserId","multiple","_l","user","_id","domProps","_s","username","_m","attrs","showDemoOptions","staticRenderFns","config","JSON","parse","process","initializeApp","firestoreDb","getFirestore","realtimeDb","getDatabase","storage","getStorage","USERS_PATH","ROOMS_PATH","MESSAGES_PATH","MESSAGE_PATH","roomId","TIMESTAMP_FIELD","LAST_UPDATED_FIELD","TYPING_USERS_FIELD","MESSAGE_REACTIONS_FIELD","ROOM_USERS_FIELD","firestoreListener","onSnapshot","deleteDbField","deleteField","getDocuments","query","getDocs","then","docs","formatQueryDataArray","getDocument","ref","getDoc","doc","formatQueryDataObject","addDocument","addDoc","setDocument","path","docId","setDoc","updateDocument","updateDoc","deleteDocument","deleteDoc","usersRef","collection","userRef","userId","getAllUsers","getUser","addUser","addIdentifiedUser","updateUser","deleteUser","roomsRef","roomRef","roomsQuery","roomsPerPage","lastRoom","where","orderBy","limit","startAfter","getAllRooms","getRooms","addRoom","updateRoom","deleteRoom","getUserRooms","addRoomUser","arrayUnion","removeRoomUser","arrayRemove","updateRoomTypingUsers","action","arrayUpdate","messagesRef","messageRef","messageId","getMessages","messagesPerPage","lastLoadedMessage","getMessage","addMessage","updateMessage","deleteMessage","listenRooms","callback","rooms","paginatedMessagesQuery","previousLastLoadedMessage","startAt","endAt","listenMessages","messages","queryData","id","queryDataArray","formattedData","forEach","lastMessageQuery","listenLastMessage","updateMessageReactions","reactionUnicode","FILES_PATH","fileRef","fileName","deleteFile","deleteObject","extension","getFileDownloadUrl","getDownloadURL","uploadFileTask","uploadFileRef","uploadBytesResumable","blob","contentType","listenUploadImageProgress","error","success","uploadTask","snap","progress","Math","round","bytesTransferred","totalBytes","_error","snapshot","url","preventDefault","createRoom","arguments","composing","addRoomUsername","disableForm","addNewRoom","invitedUsername","inviteRoomId","deleteRoomUser","removeUserId","removeRoomId","screenHeight","styles","loadedRooms","loadingRooms","messagesLoaded","roomsLoaded","roomActions","menuActions","messageSelectionActions","roomMessage","templatesText","fetchMoreRooms","fetchMessages","sendMessage","editMessage","openFile","openUserTag","menuActionHandler","messageSelectionActionHandler","sendMessageReaction","typingMessage","$emit","opened","firebaseListener","onValue","userStatusRef","updateUserOnlineStatus","isOfflineData","state","lastChanged","serverTimestamp","isOnlineData","connectedRef","onDisconnect","set","zeroPad","num","pad","String","padStart","isSameDay","d1","d2","getFullYear","getMonth","getDate","parseTimestamp","timestamp","format","date","seconds","Date","getHours","getMinutes","month","year","day","Intl","DateTimeFormat","formatTimestamp","timestampFormat","style","height","cssVars","singleRoom","orderedRooms","room","showSearch","showAddRoom","showRoomsList","textFormatting","linkOptions","isMobile","scrollDistance","fetchRoom","loadingMoreRooms","roomActionHandler","scopedSlots","_u","fn","_t","loadFirstRoom","messageActions","autoScroll","showSendIcon","showFiles","showAudio","audioBitRate","audioSampleRate","showEmojis","showReactionEmojis","showNewMessagesDivider","showFooter","roomInfoEnabled","textareaActionEnabled","userTagsEnabled","emojisSuggestionEnabled","acceptedFiles","usernameOptions","toggleRoomsList","roomInfo","openFailedMessage","messageActionHandler","textareaActionHandler","previewFile","showMediaPreview","textMessages","searchRoom","idx","ROOMS_EMPTY","fRoom","selectedRoomId","openRoom","showLoader","infinite","show","props","component","showSearchBar","SEARCH","size","svgId","svgItem","path2","param","search","add","toggle","menu","close","paperclip","send","emoji","document","pencil","checkmark","eye","dropdown","deleted","microphone","computed","components","SvgIcon","required","emits","userStatus","roomName","lastMessage","new","typingUsers","distributed","seen","message","isAudio","formattedDuration","getLastMessage","users","unreadCount","stopPropagation","roomMenuOpened","title","singleLine","disabled","formattedContent","tag","bold","italic","strike","underline","inline","multiline","reply","href","rel","openTag","image","linkify","require","text","doLinkify","typeMarkdown","multilineCode","inlineCode","pseudoMarkdown","end","allowed_chars","json","compileToJSON","html","compileToHTML","concat","linkifyResult","str","minIndexOf","minIndexOfKey","links","find","minIndexFromLink","indexOf","keys","startingValue","io","strLeft","substr","strLink","strRight","char","replace","match","RegExp","start","content","item","parseContent","iterateContent","it","removeDuplicates","items","Set","array","arr","spaces","linkifiedMessage","methods","checkType","checkImageType","index","setImageSize","formatTags","usertags","initialContent","status","IS_TYPING","join","FormatMessage","clickOutside","isMessageCheckmarkVisible","closeRoomMenu","prop","startsWith","v","formatString","string","normalize","lamejs","Loader","RoomsSearch","RoomContent","filteredRooms","observer","watch","deep","handler","newVal","oldVal","setTimeout","immediate","initIntersectionObserver","root","rootMargin","threshold","ev","loadMoreRooms","touchStart","ROOM_EMPTY","messageSelectionEnabled","selectedMessages","onContainerScroll","loadingMessages","MESSAGES_EMPTY","CONVERSATION_STARTED","indexId","editedMessageId","newMessages","onMessageAdded","selectMessage","unselectMessage","scrollToBottom","scrollMessagesCount","initReplyMessage","initEditMessage","selectedMessagesTotal","CANCEL_SELECT_MESSAGE","messageSelectionAnimationEnded","menuOpened","closeMenu","shadowFooter","filteredEmojis","selectEmojiItem","activeUpOrDownEmojis","selectEmoji","filteredUsersTag","selectUsersTagItem","activeUpOrDownUsersTag","selectUserTag","filteredTemplatesText","selectTemplatesTextItem","activeUpOrDownTemplatesText","selectTemplateText","messageReply","resetMessage","files","removeFile","stopRecorder","recordedTime","toggleRecorder","editedMessage","TYPE_MESSAGE","onChangeInput","_k","keyCode","escapeTextarea","ctrlKey","shiftKey","altKey","metaKey","selectItem","updateActiveUpOrDown","onPasteImage","emojiOpened","addEmoji","proxy","launchFilePicker","staticStyle","onFileChange","isMessageEmpty","isFileLoading","emojiReaction","openEmoji","emojiPickerHeight","top","positionTop","emojiPickerTop","right","emojiPickerRight","display","positionRight","unicode","addCustomStyling","setEmojiPickerPosition","clientY","innerWidth","innerHeight","roomFooterTop","bottom","footerHeight","loading","localUrl","isImage","isVideo","RoomFile","firstFile","playback","onUpdateProgress","playerUniqId","audioSource","onMouseDown","width","percentage","isMouseDown","left","onMouseUp","onMouseMove","calculateLineHeadPosition","element","pos","AudioControl","src","isPlaying","duration","playedTime","mounted","convertTimeMMSS","resetProgress","onTimeUpdate","updateProgressTime","AudioPlayer","isOtherFile","activeItem","activeUpOrDown","template","_","missing","Mp3Encoder","Error","bitRate","sampleRate","dataBuffer","encoder","arrayBuffer","maxSamples","samples","_convertBuffer","remaining","subarray","buffer","encodeBuffer","Int8Array","flush","Blob","now","URL","createObjectURL","input","output","max","min","Float32Array","out","Int16Array","_floatTo16BitPCM","beforeRecording","pauseRecording","afterRecording","micFailed","encoderOptions","bufferSize","records","isPause","isRecording","volume","_duration","constraints","video","audio","channelCount","echoCancellation","navigator","mediaDevices","getUserMedia","_micCaptured","_micError","lameEncoder","stream","getTracks","track","stop","disconnect","processor","context","record","finish","AudioContext","webkitAudioContext","createMediaStreamSource","createScriptProcessor","onaudioprocess","sample","inputBuffer","getChannelData","sum","encode","parseFloat","currentTime","toFixed","sqrt","connect","destination","EmojiPickerContainer","RoomFiles","RoomMessageReply","RoomUsersTag","RoomEmojis","RoomTemplatesText","cursorRangePosition","fileDialog","emojisDB","keepKeyboardOpen","selectedUsersTag","recorder","beforeDestroy","getTextareaRef","focusTextarea","disableMobileFocus","resizeTextarea","getComputedStyle","el","getPropertyValue","pasteEvent","direction","space","position","fileURL","typeIndex","fetch","blobFile","loadedFile","recording","newContent","replyMessage","usersTag","messageContent","firstTag","secondTag","updateFooterLists","updateFooterList","tagChar","updateShowUsersTag","updateShowTemplatesText","getCharPosition","endPosition","updateEmojis","emojis","resetFooterList","resetTextareaSize","preventKeyboardFromClosing","initRecorder","newMessage","NEW_MESSAGES","roomUsers","senderId","avatar","hasSenderUserAvatar","messageOffset","isMessageHover","isMessageSelected","onHoverMessage","onLeaveMessage","MESSAGE_DELETED","progressTime","hoverAudioProgress","edited","messageHover","hoverMessageId","optionsOpened","failure","hasCurrentUserAvatar","replyUsername","radius","strokeDashoffset","strokeLinecap","circumference","stroke","normalizedRadius","imageHover","imageResponsive","isImageLoading","preview","ProgressBar","imageLoading","maxHeight","loaderTop","checkImgLoad","event","MessageFile","imageVideoFiles","otherFiles","filteredMessageActions","isMessageActions","isMessageReactions","openOptions","menuOptionsTop","optionsClosing","closeOptions","closeEmoji","updateMessageHover","reaction","float","MessageReply","MessageFiles","MessageActions","MessageReactions","showUsername","showDate","isCheckmarkVisible","obj","messagesValidation","canEditMessage","resetMessageHover","remove","RoomHeader","RoomFooter","RoomMessage","infiniteState","loadingMoreMessages","scrollIcon","showNoMessages","showNoRoom","showMessagesStarted","preventTopScroll","touchEvent","addEventListener","once","touchEnd","posXStart","posYStart","onRoomChanged","unwatch","resetMessageSelection","e","loadMoreMessages","messageReaction","getBottomScroll","behavior","closeModal","IS_ONLINE","LAST_SEEN","defaultThemeStyles","light","general","color","colorButtonClear","colorButton","backgroundColorButton","backgroundInput","colorPlaceholder","colorCaret","colorSpinner","borderStyle","backgroundScrollIcon","container","border","borderRadius","boxShadow","header","background","colorRoomName","colorRoomInfo","footer","borderStyleInput","borderInputSelected","backgroundReply","backgroundTagActive","backgroundTag","sidemenu","backgroundHover","backgroundActive","colorActive","borderColorSearch","backgroundMe","colorStarted","backgroundDeleted","backgroundSelected","colorDeleted","colorUsername","colorTimestamp","backgroundDate","colorDate","backgroundSystem","colorSystem","backgroundMedia","colorReplyUsername","colorReply","colorTag","backgroundImage","colorNewMessages","backgroundScrollCounter","colorScrollCounter","backgroundReaction","borderStyleReaction","backgroundReactionHover","borderStyleReactionHover","colorReactionCounter","backgroundReactionMe","borderStyleReactionMe","backgroundReactionHoverMe","borderStyleReactionHoverMe","colorReactionCounterMe","backgroundAudioRecord","backgroundAudioLine","backgroundAudioProgress","backgroundAudioProgressSelector","colorFileExtension","markdown","colorMulti","colorMessage","colorStateOnline","colorStateOffline","backgroundCounterBadge","colorCounterBadge","icons","closeImage","closeOutline","closePreview","sendDisabled","checkmarkSeen","dropdownMessage","dropdownMessageBackground","dropdownRoom","dropdownScroll","audioPlay","audioPause","audioCancel","audioConfirm","dark","cssThemeVars","roomsValidation","partcipantsValidation","RoomsList","Room","MediaPreview","responsiveBreakpoint","roomsListOpened","roomsOrder","onlyMe","newAfterScrollUp","receive","mediaPreviewEnabled","minUsers","currentUser","locales","customStyles","defaultStyles","created","updateResponsive","reset","ChatWindow","startRooms","endRooms","allUsers","loadingLastMessageByRoom","roomsLoadedCount","selectedRoom","roomsListeners","listeners","typingMessageCache","removeUsers","firebaseService","resetRooms","resetMessages","fetchRooms","firestoreService","roomUserIds","rawUsers","Promise","roomList","formattedRooms","roomContacts","formatLastMessage","markMessagesSeen","formatMessage","formattedMessage","sender_id","lastUpdated","storageService","uploadFile","resolve","f","updateFileProgress","fileUrl","formattedFiles","messageFile","userId2","query1","query2","loadRoom","listener","foundRoom","listenUsersOnlineStatus","inviteUser","removeUser","alert","resetForms","ChatContainer","showChat","updatingData","showOptions","resetData","addData","user1","user2","user3","location","Vue","productionTip","render","h","App","$mount","detectMobile","userAgent","getUserAgent","userAgentPart","test","vendor","opera","roomsValidate","validate","every","validType","isArray","checkObjectValid","participantsValidate","messagesValidate","undefined"],"mappings":"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,uKACA,iBADA,SAGA4tB,GACAt2B,6BAJA,uBAGAuG,EAHA,EAGAA,GAHA,SAMA+vB,KAAAz2B,QANA,uBAQAy2B,GACArjB,0BACAikB,uBAVA,OAaA,gBACA,qBACA,eAfA,+CAkBAgB,WA/lBA,SA+lBA92B,GACA,kBACA,qBAGAwD,YApmBA,WAomBA,uKACA,iBADA,SAGA0xB,GACAt2B,6BAJA,uBAGAuG,EAHA,EAGAA,GAHA,SAMA+vB,KAAAz2B,QANA,uBAQAy2B,oBARA,OAUA,oBACA,qBACA,eAZA,+CAeA6B,WAnnBA,SAmnBA/2B,GACA,kBACA,oBACA,4EAGA8H,eAznBA,WAynBA,+JACA,iBADA,SAGAotB,EACA,eACA,gBALA,OAQA,oBACA,kBACA,eAVA,8CAaA5xB,WAtoBA,SAsoBAtD,GAAA,iKACAmM,EAAA,kDAEAA,0BAAA,0CACAA,0BAAA,wCAJA,yCAMA6qB,8DANA,cASA9B,wBAAA,aACAl9B,uBACAk9B,WACA,SACAzjB,6BACAskB,oCAdA,SAoBAb,KApBA,OAsBA,eAtBA,8CAyBA+B,WA/pBA,WAgqBA,oBACA,qBACA,wBACA,uBACA,wBACA,uBACA,wBCx1BwU,MCQpU,I,UAAY,gBACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QC2CA,IACfnmB,YACAomB,kBAGAl/B,KALA,WAMA,OACAoF,cACA+5B,YACAtlB,OACA,CACApT,2BACAG,gBACAopB,kEAEA,CACAvpB,2BACAG,gBACAopB,mEAEA,CACAvpB,2BACAG,gBACAopB,OACA,6GAGA3pB,qCACAlB,YACA4B,mBACAq4B,kBAIAvmB,UACAwmB,YADA,WAEA,6CAIA1f,OACAtZ,cADA,WACA,WACA,iBACA2Z,uBAAA,8BAIAoH,QA/CA,WA+CA,WACA,oCACA1jB,8CACA,oDAIAsa,SACAshB,UADA,WACA,WACApC,sBAAA,aACAl9B,qBAAA,6JACAk9B,2BAAA,aACAl9B,uBACAk9B,cACA,SACAzjB,6BACAskB,GACA,gBACAtkB,KACAvV,YATA,OAgBAg5B,QAhBA,8FAAAl9B,OAoBAk9B,sBAAA,aACAl9B,uBACAk9B,eAIAqC,QA7BA,WA6BA,yKACA,kBAEAC,EAAA,WAHA,SAIAtC,WAJA,cAMAuC,EAAA,WANA,SAOAvC,WAPA,cASAwC,EAAA,WATA,UAUAxC,WAVA,yBAYAA,GACArjB,oBACAikB,uBAdA,yBAgBAZ,GACArjB,oBACAikB,uBAlBA,yBAoBAZ,GACArjB,oBACAikB,uBAtBA,yBAwBAZ,GACArjB,0BACAikB,uBA1BA,QA6BA,kBACA6B,kBA9BA,iDCjJ8T,MCQ1T,I,UAAY,gBACd,GACA,EACA34B,GACA,EACA,KACA,KACA,OAIa,M,QChBf44B,OAAI34B,OAAO44B,eAAgB,EAE3B,IAAID,OAAI,CACPE,OAAQ,SAAAC,GAAC,OAAIA,EAAEC,OACbC,OAAO,S,oCCPV,W,0ICAO,SAASC,IACf,IAAIC,EAAYC,IAEZC,EAAgBF,EAAUvjB,OAAO,EAAG,GAExC,MACC,sVAAsV0jB,KACrVH,IAED,8+CAA8+CG,KAC7+CD,GAKH,SAASD,IACR,IAAID,EACHvV,UAAUuV,WAAavV,UAAU2V,QAAU78B,OAAO88B,OAAS,KAE5D,IAAKL,EAAW,MAAM,IAAIlY,MAAM,8CAEhC,OAAOkY,I,uSCrBD,SAASpF,EAAgBzH,GAC/B,IAAMmN,EAAgB,CACrB,CAAEt9B,IAAK,SAAUgB,KAAM,CAAC,SAAU,WAClC,CAAEhB,IAAK,WAAYgB,KAAM,CAAC,WAC1B,CAAEhB,IAAK,QAASgB,KAAM,CAAC,WAGlBu8B,EAAW,SAACpN,EAAKjc,GACtB,OAAOA,EAAMspB,OAAM,SAAA5hB,GAClB,IAAI6hB,GAAY,EAQhB,OANqB,UAAjB7hB,EAAK5a,KAAK,IAAkB0B,MAAMg7B,QAAQvN,EAAIvU,EAAK5b,OAE5C4b,EAAK5a,KAAKkY,MAAK,SAAAvZ,GAAC,OAAIA,IAAM,eAAOwwB,EAAIvU,EAAK5b,YADpDy9B,GAAY,GAKNA,GAAaE,EAAiBxN,EAAKvU,EAAK5b,SAIjD,IAAKu9B,EAASpN,EAAKmN,GAClB,MAAM,IAAIxY,MACT,qGAKI,SAAS+S,EAAsB1H,GACrC,IAAMyN,EAAuB,CAC5B,CAAE59B,IAAK,MAAOgB,KAAM,CAAC,SAAU,WAC/B,CAAEhB,IAAK,WAAYgB,KAAM,CAAC,YAGrBu8B,EAAW,SAACpN,EAAKjc,GACtB,OAAOA,EAAMspB,OAAM,SAAA5hB,GAClB,IAAM6hB,EAAY7hB,EAAK5a,KAAKkY,MAAK,SAAAvZ,GAAC,OAAIA,IAAM,eAAOwwB,EAAIvU,EAAK5b,SAC5D,OAAOy9B,GAAaE,EAAiBxN,EAAKvU,EAAK5b,SAIjD,IAAKu9B,EAASpN,EAAKyN,GAClB,MAAM,IAAI9Y,MACT,2FAKI,SAASsL,EAAmBD,GAClC,IAAM0N,EAAmB,CACxB,CAAE79B,IAAK,MAAOgB,KAAM,CAAC,SAAU,WAC/B,CAAEhB,IAAK,UAAWgB,KAAM,CAAC,SAAU,WACnC,CAAEhB,IAAK,WAAYgB,KAAM,CAAC,SAAU,YAG/Bu8B,EAAW,SAACpN,EAAKjc,GACtB,OAAOA,EAAMspB,OAAM,SAAA5hB,GAClB,IAAM6hB,EAAY7hB,EAAK5a,KAAKkY,MAAK,SAAAvZ,GAAC,OAAIA,IAAM,eAAOwwB,EAAIvU,EAAK5b,SAC5D,OAAOy9B,GAAaE,EAAiBxN,EAAKvU,EAAK5b,SAIjD,IAAKu9B,EAASpN,EAAK0N,GAClB,MAAM,IAAI/Y,MACT,wHAKH,SAAS6Y,EAAiBxN,EAAKnwB,GAC9B,OACC1C,OAAOC,UAAUC,eAAeC,KAAK0yB,EAAKnwB,IAC7B,OAAbmwB,EAAInwB,SACS89B,IAAb3N,EAAInwB,K,yDCzEN,W,mBCAApB,EAAOD,QAAU","file":"js/app.6d0a8c2d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/vue-advanced-chat/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/github.07883e93.svg\";","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatContainer.vue?vue&type=style&index=0&id=62e5eb8d&lang=scss&scoped=true&\"","export const IMAGE_TYPES = ['png', 'jpg', 'jpeg', 'webp', 'svg', 'gif']\nexport const VIDEO_TYPES = ['mp4', 'video/ogg', 'webm', 'quicktime']\nexport const AUDIO_TYPES = ['mp3', 'audio/ogg', 'wav', 'mpeg']\n","import { IMAGE_TYPES, VIDEO_TYPES, AUDIO_TYPES } from './constants'\n\nfunction checkMediaType(types, file) {\n\tif (!file || !file.type) return\n\treturn types.some(t => file.type.toLowerCase().includes(t))\n}\n\nexport function isImageFile(file) {\n\treturn checkMediaType(IMAGE_TYPES, file)\n}\n\nexport function isVideoFile(file) {\n\treturn checkMediaType(VIDEO_TYPES, file)\n}\n\nexport function isImageVideoFile(file) {\n\treturn checkMediaType(IMAGE_TYPES, file) || checkMediaType(VIDEO_TYPES, file)\n}\n\nexport function isAudioFile(file) {\n\treturn checkMediaType(AUDIO_TYPES, file)\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"app-container\",class:{ 'app-mobile': _vm.isDevice, 'app-mobile-dark': _vm.theme === 'dark' }},[(_vm.showOptions)?_c('span',{staticClass:\"user-logged\",class:{ 'user-logged-dark': _vm.theme === 'dark' }},[_vm._v(\" Logged as \")]):_vm._e(),(_vm.showOptions)?_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentUserId),expression:\"currentUserId\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.currentUserId=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.users),function(user){return _c('option',{key:user._id,domProps:{\"value\":user._id}},[_vm._v(\" \"+_vm._s(user.username)+\" \")])}),0):_vm._e(),(_vm.showOptions)?_c('div',{staticClass:\"button-theme\"},[_c('button',{staticClass:\"button-light\",on:{\"click\":function($event){_vm.theme = 'light'}}},[_vm._v(\" Light \")]),_c('button',{staticClass:\"button-dark\",on:{\"click\":function($event){_vm.theme = 'dark'}}},[_vm._v(\" Dark \")]),_vm._m(0)]):_vm._e(),(_vm.showChat)?_c('chat-container',{attrs:{\"current-user-id\":_vm.currentUserId,\"theme\":_vm.theme,\"is-device\":_vm.isDevice},on:{\"show-demo-options\":function($event){_vm.showDemoOptions = $event}}}):_vm._e()],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"button-github\"},[_c('a',{attrs:{\"href\":\"https://github.com/antoine92190/vue-advanced-chat\"}},[_c('img',{attrs:{\"src\":require(\"@/assets/github.svg\")}})])])}]\n\nexport { render, staticRenderFns }","import { initializeApp } from 'firebase/app'\nimport { getDatabase } from 'firebase/database'\nimport { getFirestore } from 'firebase/firestore'\nimport { getStorage } from 'firebase/storage'\n\nconst config =\n\tprocess.env.NODE_ENV === 'development'\n\t\t? JSON.parse(process.env.VUE_APP_FIREBASE_CONFIG)\n\t\t: JSON.parse(process.env.VUE_APP_FIREBASE_CONFIG_PUBLIC)\n\ninitializeApp(config)\n\nexport const firestoreDb = getFirestore()\nexport const realtimeDb = getDatabase()\nexport const storage = getStorage()\n","import { firestoreDb } from '@/database'\n\nimport {\n\taddDoc,\n\tarrayRemove,\n\tarrayUnion,\n\tcollection,\n\tdeleteDoc,\n\tdeleteField,\n\tdoc,\n\tendAt,\n\tgetDoc,\n\tgetDocs,\n\tlimit,\n\tonSnapshot,\n\torderBy,\n\tquery,\n\tsetDoc,\n\tstartAfter,\n\tstartAt,\n\tupdateDoc,\n\twhere\n} from 'firebase/firestore'\n\nconst USERS_PATH = 'users'\nconst ROOMS_PATH = 'chatRooms'\nconst MESSAGES_PATH = 'messages'\nconst MESSAGE_PATH = roomId => {\n\treturn `${ROOMS_PATH}/${roomId}/${MESSAGES_PATH}`\n}\n\nconst TIMESTAMP_FIELD = 'timestamp'\nconst LAST_UPDATED_FIELD = 'lastUpdated'\nconst TYPING_USERS_FIELD = 'typingUsers'\nconst MESSAGE_REACTIONS_FIELD = 'reactions'\nconst ROOM_USERS_FIELD = 'users'\n\nexport const firestoreListener = onSnapshot\nexport const deleteDbField = deleteField()\n\nconst getDocuments = query => {\n\treturn getDocs(query).then(docs => {\n\t\treturn { data: formatQueryDataArray(docs), docs: docs.docs }\n\t})\n}\n\nconst getDocument = ref => {\n\treturn getDoc(ref).then(doc => formatQueryDataObject(doc))\n}\n\nconst addDocument = (ref, data) => {\n\treturn addDoc(ref, data)\n}\n\nconst setDocument = (path, docId, data) => {\n\treturn setDoc(doc(firestoreDb, path, docId), data)\n}\n\nconst updateDocument = (ref, data) => {\n\treturn updateDoc(ref, data)\n}\n\nconst deleteDocument = (ref, docId) => {\n\treturn deleteDoc(doc(firestoreDb, ref, docId))\n}\n\n// USERS\nconst usersRef = collection(firestoreDb, USERS_PATH)\n\nconst userRef = userId => {\n\treturn doc(firestoreDb, USERS_PATH, userId)\n}\n\nexport const getAllUsers = () => {\n\treturn getDocuments(query(usersRef))\n}\n\nexport const getUser = userId => {\n\treturn getDocument(userRef(userId))\n}\n\nexport const addUser = data => {\n\treturn addDocument(usersRef, data)\n}\n\nexport const addIdentifiedUser = (userId, data) => {\n\treturn setDocument(USERS_PATH, userId, data)\n}\n\nexport const updateUser = (userId, data) => {\n\treturn updateDocument(userRef(userId), data)\n}\n\nexport const deleteUser = userId => {\n\treturn deleteDocument(USERS_PATH, userId)\n}\n\n// ROOMS\nconst roomsRef = collection(firestoreDb, ROOMS_PATH)\n\nconst roomRef = roomId => {\n\treturn doc(firestoreDb, ROOMS_PATH, roomId)\n}\n\nexport const roomsQuery = (currentUserId, roomsPerPage, lastRoom) => {\n\tif (lastRoom) {\n\t\treturn query(\n\t\t\troomsRef,\n\t\t\twhere(USERS_PATH, 'array-contains', currentUserId),\n\t\t\torderBy(LAST_UPDATED_FIELD, 'desc'),\n\t\t\tlimit(roomsPerPage),\n\t\t\tstartAfter(lastRoom)\n\t\t)\n\t} else {\n\t\treturn query(\n\t\t\troomsRef,\n\t\t\twhere(USERS_PATH, 'array-contains', currentUserId),\n\t\t\torderBy(LAST_UPDATED_FIELD, 'desc'),\n\t\t\tlimit(roomsPerPage)\n\t\t)\n\t}\n}\n\nexport const getAllRooms = () => {\n\treturn getDocuments(query(roomsRef))\n}\n\nexport const getRooms = query => {\n\treturn getDocuments(query)\n}\n\nexport const addRoom = data => {\n\treturn addDocument(roomsRef, data)\n}\n\nexport const updateRoom = (roomId, data) => {\n\treturn updateDocument(roomRef(roomId), data)\n}\n\nexport const deleteRoom = roomId => {\n\treturn deleteDocument(ROOMS_PATH, roomId)\n}\n\nexport const getUserRooms = (currentUserId, userId) => {\n\treturn getDocuments(\n\t\tquery(roomsRef, where(USERS_PATH, '==', [currentUserId, userId]))\n\t)\n}\n\nexport const addRoomUser = (roomId, userId) => {\n\treturn updateRoom(roomId, {\n\t\t[ROOM_USERS_FIELD]: arrayUnion(userId)\n\t})\n}\n\nexport const removeRoomUser = (roomId, userId) => {\n\treturn updateRoom(roomId, {\n\t\t[ROOM_USERS_FIELD]: arrayRemove(userId)\n\t})\n}\n\nexport const updateRoomTypingUsers = (roomId, currentUserId, action) => {\n\tconst arrayUpdate =\n\t\taction === 'add' ? arrayUnion(currentUserId) : arrayRemove(currentUserId)\n\n\treturn updateRoom(roomId, { [TYPING_USERS_FIELD]: arrayUpdate })\n}\n\n// MESSAGES\nconst messagesRef = roomId => {\n\treturn collection(firestoreDb, MESSAGE_PATH(roomId))\n}\n\nconst messageRef = (roomId, messageId) => {\n\treturn doc(firestoreDb, MESSAGE_PATH(roomId), messageId)\n}\n\nexport const getMessages = (roomId, messagesPerPage, lastLoadedMessage) => {\n\tif (lastLoadedMessage) {\n\t\treturn getDocuments(\n\t\t\tquery(\n\t\t\t\tmessagesRef(roomId),\n\t\t\t\torderBy(TIMESTAMP_FIELD, 'desc'),\n\t\t\t\tlimit(messagesPerPage),\n\t\t\t\tstartAfter(lastLoadedMessage)\n\t\t\t)\n\t\t)\n\t} else if (messagesPerPage) {\n\t\treturn getDocuments(\n\t\t\tquery(\n\t\t\t\tmessagesRef(roomId),\n\t\t\t\torderBy(TIMESTAMP_FIELD, 'desc'),\n\t\t\t\tlimit(messagesPerPage)\n\t\t\t)\n\t\t)\n\t} else {\n\t\treturn getDocuments(messagesRef(roomId))\n\t}\n}\n\nexport const getMessage = (roomId, messageId) => {\n\treturn getDocument(messageRef(roomId, messageId))\n}\n\nexport const addMessage = (roomId, data) => {\n\treturn addDocument(messagesRef(roomId), data)\n}\n\nexport const updateMessage = (roomId, messageId, data) => {\n\treturn updateDocument(messageRef(roomId, messageId), data)\n}\n\nexport const deleteMessage = (roomId, messageId) => {\n\treturn deleteDocument(MESSAGE_PATH(roomId), messageId)\n}\n\nexport const listenRooms = (query, callback) => {\n\treturn firestoreListener(query, rooms => {\n\t\tcallback(formatQueryDataArray(rooms))\n\t})\n}\n\nexport const paginatedMessagesQuery = (\n\troomId,\n\tlastLoadedMessage,\n\tpreviousLastLoadedMessage\n) => {\n\tif (lastLoadedMessage && previousLastLoadedMessage) {\n\t\treturn query(\n\t\t\tmessagesRef(roomId),\n\t\t\torderBy(TIMESTAMP_FIELD),\n\t\t\tstartAt(lastLoadedMessage),\n\t\t\tendAt(previousLastLoadedMessage)\n\t\t)\n\t} else if (lastLoadedMessage) {\n\t\treturn query(\n\t\t\tmessagesRef(roomId),\n\t\t\torderBy(TIMESTAMP_FIELD),\n\t\t\tstartAt(lastLoadedMessage)\n\t\t)\n\t} else if (previousLastLoadedMessage) {\n\t\treturn query(\n\t\t\tmessagesRef(roomId),\n\t\t\torderBy(TIMESTAMP_FIELD),\n\t\t\tendAt(previousLastLoadedMessage)\n\t\t)\n\t} else {\n\t\treturn query(messagesRef(roomId), orderBy(TIMESTAMP_FIELD))\n\t}\n}\n\nexport const listenMessages = (\n\troomId,\n\tlastLoadedMessage,\n\tpreviousLastLoadedMessage,\n\tcallback\n) => {\n\treturn firestoreListener(\n\t\tpaginatedMessagesQuery(\n\t\t\troomId,\n\t\t\tlastLoadedMessage,\n\t\t\tpreviousLastLoadedMessage\n\t\t),\n\t\tmessages => {\n\t\t\tcallback(formatQueryDataArray(messages))\n\t\t}\n\t)\n}\n\nconst formatQueryDataObject = queryData => {\n\treturn { ...queryData.data(), id: queryData.id }\n}\n\nconst formatQueryDataArray = queryDataArray => {\n\tconst formattedData = []\n\n\tqueryDataArray.forEach(data => {\n\t\tformattedData.push(formatQueryDataObject(data))\n\t})\n\treturn formattedData\n}\n\nconst lastMessageQuery = roomId => {\n\treturn query(messagesRef(roomId), orderBy(TIMESTAMP_FIELD, 'desc'), limit(1))\n}\n\nexport const listenLastMessage = (roomId, callback) => {\n\treturn firestoreListener(query(lastMessageQuery(roomId)), messages => {\n\t\tcallback(formatQueryDataArray(messages))\n\t})\n}\n\nexport const updateMessageReactions = (\n\troomId,\n\tmessageId,\n\tcurrentUserId,\n\treactionUnicode,\n\taction\n) => {\n\tconst arrayUpdate =\n\t\taction === 'add' ? arrayUnion(currentUserId) : arrayRemove(currentUserId)\n\n\treturn updateMessage(roomId, messageId, {\n\t\t[`${MESSAGE_REACTIONS_FIELD}.${reactionUnicode}`]: arrayUpdate\n\t})\n}\n","import { storage } from '@/database'\n\nimport {\n\tdeleteObject,\n\tgetDownloadURL,\n\tref,\n\tuploadBytesResumable\n} from 'firebase/storage'\n\nconst FILES_PATH = 'files'\n\nconst fileRef = (currentUserId, messageId, fileName) => {\n\treturn ref(storage, `${FILES_PATH}/${currentUserId}/${messageId}/${fileName}`)\n}\n\nexport const deleteFile = (currentUserId, messageId, file) => {\n\treturn deleteObject(\n\t\tfileRef(\n\t\t\tcurrentUserId,\n\t\t\tmessageId,\n\t\t\t`${file.name}.${file.extension || file.type}`\n\t\t)\n\t)\n}\n\nexport const getFileDownloadUrl = ref => {\n\treturn getDownloadURL(ref)\n}\n\nexport const uploadFileTask = (currentUserId, messageId, file, type) => {\n\tconst uploadFileRef = fileRef(\n\t\tcurrentUserId,\n\t\tmessageId,\n\t\t`${file.name}.${type}`\n\t)\n\n\treturn uploadBytesResumable(uploadFileRef, file.blob, {\n\t\tcontentType: type\n\t})\n}\n\nexport const listenUploadImageProgress = (\n\tcurrentUserId,\n\tmessageId,\n\tfile,\n\ttype,\n\tcallback,\n\terror,\n\tsuccess\n) => {\n\tconst uploadTask = uploadFileTask(currentUserId, messageId, file, type)\n\n\tuploadTask.on(\n\t\t'state_changed',\n\t\tsnap => {\n\t\t\tconst progress = Math.round(\n\t\t\t\t(snap.bytesTransferred / snap.totalBytes) * 100\n\t\t\t)\n\t\t\tcallback(progress)\n\t\t},\n\t\t_error => {\n\t\t\terror(_error)\n\t\t},\n\t\tasync () => {\n\t\t\tconst url = await getFileDownloadUrl(uploadTask.snapshot.ref)\n\t\t\tsuccess(url)\n\t\t}\n\t)\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"window-container\",class:{ 'window-mobile': _vm.isDevice }},[(_vm.addNewRoom)?_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.createRoom.apply(null, arguments)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addRoomUsername),expression:\"addRoomUsername\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Add username\"},domProps:{\"value\":(_vm.addRoomUsername)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addRoomUsername=$event.target.value}}}),_c('button',{attrs:{\"type\":\"submit\",\"disabled\":_vm.disableForm || !_vm.addRoomUsername}},[_vm._v(\" Create Room \")]),_c('button',{staticClass:\"button-cancel\",on:{\"click\":function($event){_vm.addNewRoom = false}}},[_vm._v(\" Cancel \")])]):_vm._e(),(_vm.inviteRoomId)?_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.addRoomUser.apply(null, arguments)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.invitedUsername),expression:\"invitedUsername\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Add username\"},domProps:{\"value\":(_vm.invitedUsername)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.invitedUsername=$event.target.value}}}),_c('button',{attrs:{\"type\":\"submit\",\"disabled\":_vm.disableForm || !_vm.invitedUsername}},[_vm._v(\" Add User \")]),_c('button',{staticClass:\"button-cancel\",on:{\"click\":function($event){_vm.inviteRoomId = null}}},[_vm._v(\" Cancel \")])]):_vm._e(),(_vm.removeRoomId)?_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.deleteRoomUser.apply(null, arguments)}}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.removeUserId),expression:\"removeUserId\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.removeUserId=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"default\":\"\",\"value\":\"\"}},[_vm._v(\" Select User \")]),_vm._l((_vm.removeUsers),function(user){return _c('option',{key:user._id,domProps:{\"value\":user._id}},[_vm._v(\" \"+_vm._s(user.username)+\" \")])})],2),_c('button',{attrs:{\"type\":\"submit\",\"disabled\":_vm.disableForm || !_vm.removeUserId}},[_vm._v(\" Remove User \")]),_c('button',{staticClass:\"button-cancel\",on:{\"click\":function($event){_vm.removeRoomId = null}}},[_vm._v(\" Cancel \")])]):_vm._e(),_c('chat-window',{attrs:{\"height\":_vm.screenHeight,\"theme\":_vm.theme,\"styles\":_vm.styles,\"current-user-id\":_vm.currentUserId,\"room-id\":_vm.roomId,\"rooms\":_vm.loadedRooms,\"loading-rooms\":_vm.loadingRooms,\"messages\":_vm.messages,\"messages-loaded\":_vm.messagesLoaded,\"rooms-loaded\":_vm.roomsLoaded,\"room-actions\":_vm.roomActions,\"menu-actions\":_vm.menuActions,\"message-selection-actions\":_vm.messageSelectionActions,\"room-message\":_vm.roomMessage,\"templates-text\":_vm.templatesText},on:{\"fetch-more-rooms\":_vm.fetchMoreRooms,\"fetch-messages\":_vm.fetchMessages,\"send-message\":_vm.sendMessage,\"edit-message\":_vm.editMessage,\"delete-message\":_vm.deleteMessage,\"open-file\":_vm.openFile,\"open-user-tag\":_vm.openUserTag,\"add-room\":_vm.addRoom,\"room-action-handler\":_vm.menuActionHandler,\"menu-action-handler\":_vm.menuActionHandler,\"message-selection-action-handler\":_vm.messageSelectionActionHandler,\"send-message-reaction\":_vm.sendMessageReaction,\"typing-message\":_vm.typingMessage,\"toggle-rooms-list\":function($event){return _vm.$emit('show-demo-options', $event.opened)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { realtimeDb } from '@/database'\n\nimport {\n\tonDisconnect,\n\tonValue,\n\tref,\n\tserverTimestamp,\n\tset\n} from 'firebase/database'\n\nexport const firebaseListener = onValue\n\nexport const userStatusRef = userId => {\n\treturn ref(realtimeDb, '/status/' + userId)\n}\n\nexport const updateUserOnlineStatus = currentUserId => {\n\tconst isOfflineData = {\n\t\tstate: 'offline',\n\t\tlastChanged: serverTimestamp()\n\t}\n\n\tconst isOnlineData = {\n\t\tstate: 'online',\n\t\tlastChanged: serverTimestamp()\n\t}\n\n\tconst connectedRef = ref(realtimeDb, '.info/connected')\n\n\tonValue(connectedRef, snap => {\n\t\tif (snap.val() === true) {\n\t\t\tonDisconnect(userStatusRef(currentUserId))\n\t\t\t\t.set(isOfflineData)\n\t\t\t\t.then(() => {\n\t\t\t\t\tset(userStatusRef(currentUserId), isOnlineData)\n\t\t\t\t})\n\t\t}\n\t})\n}\n","const zeroPad = (num, pad) => {\n\treturn String(num).padStart(pad, '0')\n}\n\nconst isSameDay = (d1, d2) => {\n\treturn (\n\t\td1.getFullYear() === d2.getFullYear() &&\n\t\td1.getMonth() === d2.getMonth() &&\n\t\td1.getDate() === d2.getDate()\n\t)\n}\n\nexport const parseTimestamp = (timestamp, format = '') => {\n\tif (!timestamp) return\n\n\tconst date = timestamp.seconds\n\t\t? new Date(timestamp.seconds * 1000)\n\t\t: timestamp\n\n\tif (format === 'HH:mm') {\n\t\treturn `${zeroPad(date.getHours(), 2)}:${zeroPad(date.getMinutes(), 2)}`\n\t} else if (format === 'DD MMMM YYYY') {\n\t\tconst options = { month: 'long', year: 'numeric', day: 'numeric' }\n\t\treturn `${new Intl.DateTimeFormat('en-GB', options).format(date)}`\n\t} else if (format === 'DD/MM/YY') {\n\t\tconst options = { month: 'numeric', year: 'numeric', day: 'numeric' }\n\t\treturn `${new Intl.DateTimeFormat('en-GB', options).format(date)}`\n\t} else if (format === 'DD MMMM, HH:mm') {\n\t\tconst options = { month: 'long', day: 'numeric' }\n\t\treturn `${new Intl.DateTimeFormat('en-GB', options).format(\n\t\t\tdate\n\t\t)}, ${zeroPad(date.getHours(), 2)}:${zeroPad(date.getMinutes(), 2)}`\n\t}\n\n\treturn date\n}\n\nexport const formatTimestamp = (date, timestamp) => {\n\tconst timestampFormat = isSameDay(date, new Date()) ? 'HH:mm' : 'DD/MM/YY'\n\tconst result = parseTimestamp(timestamp, timestampFormat)\n\treturn timestampFormat === 'HH:mm' ? `Today, ${result}` : result\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vac-card-window\",style:([{ height: _vm.height }, _vm.cssVars])},[_c('div',{staticClass:\"vac-chat-container\"},[(!_vm.singleRoom)?_c('rooms-list',{attrs:{\"current-user-id\":_vm.currentUserId,\"rooms\":_vm.orderedRooms,\"loading-rooms\":_vm.loadingRooms,\"rooms-loaded\":_vm.roomsLoaded,\"room\":_vm.room,\"room-actions\":_vm.roomActions,\"text-messages\":_vm.t,\"show-search\":_vm.showSearch,\"show-add-room\":_vm.showAddRoom,\"show-rooms-list\":_vm.showRoomsList,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions,\"is-mobile\":_vm.isMobile,\"scroll-distance\":_vm.scrollDistance},on:{\"fetch-room\":_vm.fetchRoom,\"fetch-more-rooms\":_vm.fetchMoreRooms,\"loading-more-rooms\":function($event){_vm.loadingMoreRooms = $event},\"add-room\":_vm.addRoom,\"room-action-handler\":_vm.roomActionHandler},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)}):_vm._e(),_c('room',{attrs:{\"current-user-id\":_vm.currentUserId,\"rooms\":_vm.rooms,\"room-id\":_vm.room.roomId || '',\"load-first-room\":_vm.loadFirstRoom,\"messages\":_vm.messages,\"room-message\":_vm.roomMessage,\"messages-loaded\":_vm.messagesLoaded,\"menu-actions\":_vm.menuActions,\"message-actions\":_vm.messageActions,\"message-selection-actions\":_vm.messageSelectionActions,\"auto-scroll\":_vm.autoScroll,\"show-send-icon\":_vm.showSendIcon,\"show-files\":_vm.showFiles,\"show-audio\":_vm.showAudio,\"audio-bit-rate\":_vm.audioBitRate,\"audio-sample-rate\":_vm.audioSampleRate,\"show-emojis\":_vm.showEmojis,\"show-reaction-emojis\":_vm.showReactionEmojis,\"show-new-messages-divider\":_vm.showNewMessagesDivider,\"show-footer\":_vm.showFooter,\"text-messages\":_vm.t,\"single-room\":_vm.singleRoom,\"show-rooms-list\":_vm.showRoomsList,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions,\"is-mobile\":_vm.isMobile,\"loading-rooms\":_vm.loadingRooms,\"room-info-enabled\":_vm.roomInfoEnabled,\"textarea-action-enabled\":_vm.textareaActionEnabled,\"user-tags-enabled\":_vm.userTagsEnabled,\"emojis-suggestion-enabled\":_vm.emojisSuggestionEnabled,\"scroll-distance\":_vm.scrollDistance,\"accepted-files\":_vm.acceptedFiles,\"templates-text\":_vm.templatesText,\"username-options\":_vm.usernameOptions},on:{\"toggle-rooms-list\":_vm.toggleRoomsList,\"room-info\":_vm.roomInfo,\"fetch-messages\":_vm.fetchMessages,\"send-message\":_vm.sendMessage,\"edit-message\":_vm.editMessage,\"delete-message\":_vm.deleteMessage,\"open-file\":_vm.openFile,\"open-user-tag\":_vm.openUserTag,\"open-failed-message\":_vm.openFailedMessage,\"menu-action-handler\":_vm.menuActionHandler,\"message-action-handler\":_vm.messageActionHandler,\"message-selection-action-handler\":_vm.messageSelectionActionHandler,\"send-message-reaction\":_vm.sendMessageReaction,\"typing-message\":_vm.typingMessage,\"textarea-action-handler\":_vm.textareaActionHandler},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})],1),_c('transition',{attrs:{\"name\":\"vac-fade-preview\",\"appear\":\"\"}},[(_vm.showMediaPreview)?_c('media-preview',{attrs:{\"file\":_vm.previewFile},on:{\"close-media-preview\":function($event){_vm.showMediaPreview = false}}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showRoomsList),expression:\"showRoomsList\"}],staticClass:\"vac-rooms-container\",class:{ 'vac-rooms-container-full': _vm.isMobile, 'vac-app-border-r': !_vm.isMobile }},[_vm._t(\"rooms-header\"),_vm._t(\"rooms-list-search\",function(){return [_c('rooms-search',{attrs:{\"rooms\":_vm.rooms,\"loading-rooms\":_vm.loadingRooms,\"text-messages\":_vm.textMessages,\"show-search\":_vm.showSearch,\"show-add-room\":_vm.showAddRoom},on:{\"search-room\":_vm.searchRoom,\"add-room\":function($event){return _vm.$emit('add-room')}},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})]}),_c('loader',{attrs:{\"show\":_vm.loadingRooms},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(idx,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)}),(!_vm.loadingRooms && !_vm.rooms.length)?_c('div',{staticClass:\"vac-rooms-empty\"},[_vm._t(\"rooms-empty\",function(){return [_vm._v(\" \"+_vm._s(_vm.textMessages.ROOMS_EMPTY)+\" \")]})],2):_vm._e(),(!_vm.loadingRooms)?_c('div',{staticClass:\"vac-room-list\",attrs:{\"id\":\"rooms-list\"}},[_vm._l((_vm.filteredRooms),function(fRoom){return _c('div',{key:fRoom.roomId,staticClass:\"vac-room-item\",class:{ 'vac-room-selected': _vm.selectedRoomId === fRoom.roomId },attrs:{\"id\":fRoom.roomId},on:{\"click\":function($event){return _vm.openRoom(fRoom)}}},[_c('room-content',{attrs:{\"current-user-id\":_vm.currentUserId,\"room\":fRoom,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions,\"text-messages\":_vm.textMessages,\"room-actions\":_vm.roomActions},on:{\"room-action-handler\":function($event){return _vm.$emit('room-action-handler', $event)}},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})],1)}),_c('transition',{attrs:{\"name\":\"vac-fade-message\"}},[(_vm.rooms.length && !_vm.loadingRooms)?_c('div',{attrs:{\"id\":\"infinite-loader-rooms\"}},[_c('loader',{attrs:{\"show\":_vm.showLoader,\"infinite\":true},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(idx,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})],1):_vm._e()])],2):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"vac-fade-spinner\",\"appear\":\"\"}},[(_vm.show)?_c('div',{staticClass:\"vac-loader-wrapper\",class:{\n\t\t\t'vac-container-center': !_vm.infinite,\n\t\t\t'vac-container-top': _vm.infinite\n\t\t}},[_vm._t(\"spinner-icon\",function(){return [_c('div',{attrs:{\"id\":\"vac-circle\"}})]},null,{ show: _vm.show, infinite: _vm.infinite })],2):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<transition name=\"vac-fade-spinner\" appear>\n\t\t<div\n\t\t\tv-if=\"show\"\n\t\t\tclass=\"vac-loader-wrapper\"\n\t\t\t:class=\"{\n\t\t\t\t'vac-container-center': !infinite,\n\t\t\t\t'vac-container-top': infinite\n\t\t\t}\"\n\t\t>\n\t\t\t<slot name=\"spinner-icon\" v-bind=\"{ show, infinite }\">\n\t\t\t\t<div id=\"vac-circle\" />\n\t\t\t</slot>\n\t\t</div>\n\t</transition>\n</template>\n\n<script>\nexport default {\n\tname: 'Loader',\n\n\tprops: {\n\t\tshow: { type: Boolean, default: false },\n\t\tinfinite: { type: Boolean, default: false }\n\t}\n}\n</script>\n","import mod from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Loader.vue?vue&type=template&id=2c0ab9be&\"\nimport script from \"./Loader.vue?vue&type=script&lang=js&\"\nexport * from \"./Loader.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n\t\t'vac-box-search': _vm.showSearchBar,\n\t\t'vac-box-empty': !_vm.showSearchBar\n\t}},[(_vm.showSearch)?[(!_vm.loadingRooms && _vm.rooms.length)?_c('div',{staticClass:\"vac-icon-search\"},[_vm._t(\"search-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"search\"}})]})],2):_vm._e(),(!_vm.loadingRooms && _vm.rooms.length)?_c('input',{staticClass:\"vac-input\",attrs:{\"type\":\"search\",\"placeholder\":_vm.textMessages.SEARCH,\"autocomplete\":\"off\"},on:{\"input\":function($event){return _vm.$emit('search-room', $event)}}}):_vm._e()]:_vm._e(),(_vm.showAddRoom)?_c('div',{staticClass:\"vac-svg-button vac-add-icon\",on:{\"click\":function($event){return _vm.$emit('add-room')}}},[_vm._t(\"add-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"add\"}})]})],2):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"version\":\"1.1\",\"width\":\"24\",\"height\":\"24\",\"viewBox\":(\"0 0 \" + _vm.size + \" \" + _vm.size)}},[_c('path',{attrs:{\"id\":_vm.svgId,\"d\":_vm.svgItem[_vm.name].path}}),(_vm.svgItem[_vm.name].path2)?_c('path',{attrs:{\"id\":_vm.svgId,\"d\":_vm.svgItem[_vm.name].path2}}):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<svg\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\t\tversion=\"1.1\"\n\t\twidth=\"24\"\n\t\theight=\"24\"\n\t\t:viewBox=\"`0 0 ${size} ${size}`\"\n\t>\n\t\t<path :id=\"svgId\" :d=\"svgItem[name].path\" />\n\t\t<path v-if=\"svgItem[name].path2\" :id=\"svgId\" :d=\"svgItem[name].path2\" />\n\t</svg>\n</template>\n\n<script>\nexport default {\n\tname: 'SvgIcon',\n\n\tprops: {\n\t\tname: { type: String, default: null },\n\t\tparam: { type: String, default: null }\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tsvgItem: {\n\t\t\t\tsearch: {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z'\n\t\t\t\t},\n\t\t\t\tadd: {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z'\n\t\t\t\t},\n\t\t\t\ttoggle: {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M5,13L9,17L7.6,18.42L1.18,12L7.6,5.58L9,7L5,11H21V13H5M21,6V8H11V6H21M21,16V18H11V16H21Z'\n\t\t\t\t},\n\n\t\t\t\tmenu: {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z'\n\t\t\t\t},\n\t\t\t\tclose: {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z'\n\t\t\t\t},\n\t\t\t\tfile: {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M14,17H7V15H14M17,13H7V11H17M17,9H7V7H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z'\n\t\t\t\t},\n\t\t\t\tpaperclip: {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M16.5,6V17.5A4,4 0 0,1 12.5,21.5A4,4 0 0,1 8.5,17.5V5A2.5,2.5 0 0,1 11,2.5A2.5,2.5 0 0,1 13.5,5V15.5A1,1 0 0,1 12.5,16.5A1,1 0 0,1 11.5,15.5V6H10V15.5A2.5,2.5 0 0,0 12.5,18A2.5,2.5 0 0,0 15,15.5V5A4,4 0 0,0 11,1A4,4 0 0,0 7,5V17.5A5.5,5.5 0 0,0 12.5,23A5.5,5.5 0 0,0 18,17.5V6H16.5Z'\n\t\t\t\t},\n\t\t\t\t'close-outline': {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z'\n\t\t\t\t},\n\t\t\t\tsend: {\n\t\t\t\t\tpath: 'M2,21L23,12L2,3V10L17,12L2,14V21Z'\n\t\t\t\t},\n\t\t\t\temoji: {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z'\n\t\t\t\t},\n\t\t\t\tdocument: {\n\t\t\t\t\tpath: 'M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z'\n\t\t\t\t},\n\t\t\t\tpencil: {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z'\n\t\t\t\t},\n\t\t\t\tcheckmark: {\n\t\t\t\t\tpath: 'M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z'\n\t\t\t\t},\n\t\t\t\t'double-checkmark': {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z'\n\t\t\t\t},\n\t\t\t\teye: {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z'\n\t\t\t\t},\n\t\t\t\tdropdown: {\n\t\t\t\t\tpath: 'M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z'\n\t\t\t\t},\n\t\t\t\tdeleted: {\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z'\n\t\t\t\t},\n\t\t\t\tmicrophone: {\n\t\t\t\t\tsize: 'large',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M432.8,216.4v39.2c0,45.2-15.3,84.3-45.2,118.4c-29.8,33.2-67.3,52.8-111.6,57.9v40.9h78.4c5.1,0,10.2,1.7,13.6,6c4.3,4.3,6,8.5,6,13.6c0,5.1-1.7,10.2-6,13.6c-4.3,4.3-8.5,6-13.6,6H157.6c-5.1,0-10.2-1.7-13.6-6c-4.3-4.3-6-8.5-6-13.6c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6H236v-40.9c-44.3-5.1-81.8-23.9-111.6-57.9s-45.2-73.3-45.2-118.4v-39.2c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6s10.2,1.7,13.6,6c4.3,4.3,6,8.5,6,13.6v39.2c0,37.5,13.6,70.7,40,97.1s59.6,40,97.1,40s70.7-13.6,97.1-40c26.4-26.4,40-59.6,40-97.1v-39.2c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6c5.1,0,10.2,1.7,13.6,6C430.2,206.2,432.8,211.3,432.8,216.4z M353.5,98v157.6c0,27.3-9.4,50.3-29,69c-19.6,19.6-42.6,29-69,29s-50.3-9.4-69-29c-19.6-19.6-29-42.6-29-69V98c0-27.3,9.4-50.3,29-69c19.6-19.6,42.6-29,69-29s50.3,9.4,69,29C344.2,47.7,353.5,71.6,353.5,98z'\n\t\t\t\t},\n\t\t\t\t'audio-play': {\n\t\t\t\t\tsize: 'medium',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M43.331,21.237L7.233,0.397c-0.917-0.529-2.044-0.529-2.96,0c-0.916,0.528-1.48,1.505-1.48,2.563v41.684   c0,1.058,0.564,2.035,1.48,2.563c0.458,0.268,0.969,0.397,1.48,0.397c0.511,0,1.022-0.133,1.48-0.397l36.098-20.84   c0.918-0.529,1.479-1.506,1.479-2.564S44.247,21.767,43.331,21.237z'\n\t\t\t\t},\n\t\t\t\t'audio-pause': {\n\t\t\t\t\tsize: 'medium',\n\t\t\t\t\tpath:\n\t\t\t\t\t\t'M17.991,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C4.729,2.969,7.698,0,11.36,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z',\n\t\t\t\t\tpath2:\n\t\t\t\t\t\t'M42.877,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C29.616,2.969,32.585,0,36.246,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z'\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tsvgId() {\n\t\t\tconst param = this.param ? '-' + this.param : ''\n\t\t\treturn `vac-icon-${this.name}${param}`\n\t\t},\n\t\tsize() {\n\t\t\tconst item = this.svgItem[this.name]\n\n\t\t\tif (item.size === 'large') return 512\n\t\t\telse if (item.size === 'medium') return 48\n\t\t\telse return 24\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./SvgIcon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SvgIcon.vue?vue&type=template&id=e01c0bf4&\"\nimport script from \"./SvgIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./SvgIcon.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div\n\t\t:class=\"{\n\t\t\t'vac-box-search': showSearchBar,\n\t\t\t'vac-box-empty': !showSearchBar\n\t\t}\"\n\t>\n\t\t<template v-if=\"showSearch\">\n\t\t\t<div v-if=\"!loadingRooms && rooms.length\" class=\"vac-icon-search\">\n\t\t\t\t<slot name=\"search-icon\">\n\t\t\t\t\t<svg-icon name=\"search\" />\n\t\t\t\t</slot>\n\t\t\t</div>\n\t\t\t<input\n\t\t\t\tv-if=\"!loadingRooms && rooms.length\"\n\t\t\t\ttype=\"search\"\n\t\t\t\t:placeholder=\"textMessages.SEARCH\"\n\t\t\t\tautocomplete=\"off\"\n\t\t\t\tclass=\"vac-input\"\n\t\t\t\t@input=\"$emit('search-room', $event)\"\n\t\t\t/>\n\t\t</template>\n\t\t<div\n\t\t\tv-if=\"showAddRoom\"\n\t\t\tclass=\"vac-svg-button vac-add-icon\"\n\t\t\t@click=\"$emit('add-room')\"\n\t\t>\n\t\t\t<slot name=\"add-icon\">\n\t\t\t\t<svg-icon name=\"add\" />\n\t\t\t</slot>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport SvgIcon from '../../../components/SvgIcon/SvgIcon'\n\nexport default {\n\tname: 'RoomsSearch',\n\tcomponents: { SvgIcon },\n\n\tprops: {\n\t\ttextMessages: { type: Object, required: true },\n\t\tshowSearch: { type: Boolean, required: true },\n\t\tshowAddRoom: { type: Boolean, required: true },\n\t\trooms: { type: Array, required: true },\n\t\tloadingRooms: { type: Boolean, required: true }\n\t},\n\n\temits: ['search-room', 'add-room'],\n\n\tcomputed: {\n\t\tshowSearchBar() {\n\t\t\treturn this.showSearch || this.showAddRoom\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsSearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomsSearch.vue?vue&type=template&id=1fc42a9b&\"\nimport script from \"./RoomsSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomsSearch.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vac-room-container\"},[_vm._t(\"room-list-item\",function(){return [_vm._t(\"room-list-avatar\",function(){return [(_vm.room.avatar)?_c('div',{staticClass:\"vac-avatar\",style:({ 'background-image': (\"url('\" + (_vm.room.avatar) + \"')\") })}):_vm._e()]},null,{ room: _vm.room }),_c('div',{staticClass:\"vac-name-container vac-text-ellipsis\"},[_c('div',{staticClass:\"vac-title-container\"},[(_vm.userStatus)?_c('div',{staticClass:\"vac-state-circle\",class:{ 'vac-state-online': _vm.userStatus === 'online' }}):_vm._e(),_c('div',{staticClass:\"vac-room-name vac-text-ellipsis\"},[_vm._v(\" \"+_vm._s(_vm.room.roomName)+\" \")]),(_vm.room.lastMessage)?_c('div',{staticClass:\"vac-text-date\"},[_vm._v(\" \"+_vm._s(_vm.room.lastMessage.timestamp)+\" \")]):_vm._e()]),_c('div',{staticClass:\"vac-text-last\",class:{\n\t\t\t\t\t'vac-message-new':\n\t\t\t\t\t\t_vm.room.lastMessage && _vm.room.lastMessage.new && !_vm.typingUsers\n\t\t\t\t}},[(_vm.isMessageCheckmarkVisible)?_c('span',[_vm._t(\"checkmark-icon\",function(){return [_c('svg-icon',{staticClass:\"vac-icon-check\",attrs:{\"name\":_vm.room.lastMessage.distributed\n\t\t\t\t\t\t\t\t\t? 'double-checkmark'\n\t\t\t\t\t\t\t\t\t: 'checkmark',\"param\":_vm.room.lastMessage.seen ? 'seen' : ''}})]},null,{ message: _vm.room.lastMessage })],2):_vm._e(),(_vm.room.lastMessage && !_vm.room.lastMessage.deleted && _vm.isAudio)?_c('div',{staticClass:\"vac-text-ellipsis\"},[_vm._t(\"microphone-icon\",function(){return [_c('svg-icon',{staticClass:\"vac-icon-microphone\",attrs:{\"name\":\"microphone\"}})]}),_vm._v(\" \"+_vm._s(_vm.formattedDuration)+\" \")],2):(_vm.room.lastMessage)?_c('format-message',{attrs:{\"content\":_vm.getLastMessage,\"deleted\":!!_vm.room.lastMessage.deleted && !_vm.typingUsers,\"users\":_vm.room.users,\"linkify\":false,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions,\"single-line\":true},scopedSlots:_vm._u([{key:\"deleted-icon\",fn:function(data){return [_vm._t(\"deleted-icon\",null,null,data)]}}],null,true)}):_vm._e(),(!_vm.room.lastMessage && _vm.typingUsers)?_c('div',{staticClass:\"vac-text-ellipsis\"},[_vm._v(\" \"+_vm._s(_vm.typingUsers)+\" \")]):_vm._e(),_c('div',{staticClass:\"vac-room-options-container\"},[(_vm.room.unreadCount)?_c('div',{staticClass:\"vac-badge-counter vac-room-badge\"},[_vm._v(\" \"+_vm._s(_vm.room.unreadCount)+\" \")]):_vm._e(),_vm._t(\"room-list-options\",function(){return [(_vm.roomActions.length)?_c('div',{staticClass:\"vac-svg-button vac-list-room-options\",on:{\"click\":function($event){$event.stopPropagation();_vm.roomMenuOpened = _vm.room.roomId}}},[_vm._t(\"room-list-options-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"dropdown\",\"param\":\"room\"}})]})],2):_vm._e(),(_vm.roomActions.length)?_c('transition',{attrs:{\"name\":\"vac-slide-left\"}},[(_vm.roomMenuOpened === _vm.room.roomId)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.closeRoomMenu),expression:\"closeRoomMenu\"}],staticClass:\"vac-menu-options\"},[_c('div',{staticClass:\"vac-menu-list\"},_vm._l((_vm.roomActions),function(action){return _c('div',{key:action.name},[_c('div',{staticClass:\"vac-menu-item\",on:{\"click\":function($event){$event.stopPropagation();return _vm.roomActionHandler(action)}}},[_vm._v(\" \"+_vm._s(action.title)+\" \")])])}),0)]):_vm._e()]):_vm._e()]},null,{ room: _vm.room })],2)],1)])]},null,{ room: _vm.room })],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vac-format-message-wrapper\",class:{ 'vac-text-ellipsis': _vm.singleLine }},[(!_vm.textFormatting.disabled)?_c('div',{class:{ 'vac-text-ellipsis': _vm.singleLine }},_vm._l((_vm.linkifiedMessage),function(message,i){return _c('div',{key:i,staticClass:\"vac-format-container\"},[_c(message.url ? 'a' : 'span',{tag:\"component\",class:{\n\t\t\t\t\t'vac-text-ellipsis': _vm.singleLine,\n\t\t\t\t\t'vac-text-bold': message.bold,\n\t\t\t\t\t'vac-text-italic': _vm.deleted || message.italic,\n\t\t\t\t\t'vac-text-strike': message.strike,\n\t\t\t\t\t'vac-text-underline': message.underline,\n\t\t\t\t\t'vac-text-inline-code': !_vm.singleLine && message.inline,\n\t\t\t\t\t'vac-text-multiline-code': !_vm.singleLine && message.multiline,\n\t\t\t\t\t'vac-text-tag': !_vm.singleLine && !_vm.reply && message.tag\n\t\t\t\t},attrs:{\"href\":message.href,\"target\":message.href ? _vm.linkOptions.target : null,\"rel\":message.href ? _vm.linkOptions.rel : null},on:{\"click\":function($event){return _vm.openTag(message)}}},[_vm._t(\"deleted-icon\",function(){return [(_vm.deleted)?_c('svg-icon',{staticClass:\"vac-icon-deleted\",attrs:{\"name\":\"deleted\"}}):_vm._e()]},null,{ deleted: _vm.deleted }),(message.url && message.image)?[_c('div',{staticClass:\"vac-image-link-container\"},[_c('div',{staticClass:\"vac-image-link\",style:({\n\t\t\t\t\t\t\t\t'background-image': (\"url('\" + (message.value) + \"')\"),\n\t\t\t\t\t\t\t\theight: message.height\n\t\t\t\t\t\t\t})})]),_c('div',{staticClass:\"vac-image-link-message\"},[_c('span',[_vm._v(_vm._s(message.value))])])]:[_c('span',[_vm._v(_vm._s(message.value))])]],2)],1)}),0):_c('div',[_vm._v(\" \"+_vm._s(_vm.formattedContent)+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const linkify = require('linkifyjs')\n// require('linkifyjs/plugins/hashtag')(linkify)\n\nexport default (text, doLinkify, textFormatting) => {\n\tconst typeMarkdown = {\n\t\tbold: textFormatting.bold,\n\t\titalic: textFormatting.italic,\n\t\tstrike: textFormatting.strike,\n\t\tunderline: textFormatting.underline,\n\t\tmultilineCode: textFormatting.multilineCode,\n\t\tinlineCode: textFormatting.inlineCode\n\t}\n\n\tconst pseudoMarkdown = {\n\t\t[typeMarkdown.bold]: {\n\t\t\tend: '\\\\' + typeMarkdown.bold,\n\t\t\tallowed_chars: '.',\n\t\t\ttype: 'bold'\n\t\t},\n\t\t[typeMarkdown.italic]: {\n\t\t\tend: typeMarkdown.italic,\n\t\t\tallowed_chars: '.',\n\t\t\ttype: 'italic'\n\t\t},\n\t\t[typeMarkdown.strike]: {\n\t\t\tend: typeMarkdown.strike,\n\t\t\tallowed_chars: '.',\n\t\t\ttype: 'strike'\n\t\t},\n\t\t[typeMarkdown.underline]: {\n\t\t\tend: typeMarkdown.underline,\n\t\t\tallowed_chars: '.',\n\t\t\ttype: 'underline'\n\t\t},\n\t\t[typeMarkdown.multilineCode]: {\n\t\t\tend: typeMarkdown.multilineCode,\n\t\t\tallowed_chars: '(.|\\n)',\n\t\t\ttype: 'multiline-code'\n\t\t},\n\t\t[typeMarkdown.inlineCode]: {\n\t\t\tend: typeMarkdown.inlineCode,\n\t\t\tallowed_chars: '.',\n\t\t\ttype: 'inline-code'\n\t\t},\n\t\t'<usertag>': {\n\t\t\tallowed_chars: '.',\n\t\t\tend: '</usertag>',\n\t\t\ttype: 'tag'\n\t\t}\n\t}\n\n\tconst json = compileToJSON(text, pseudoMarkdown)\n\n\tconst html = compileToHTML(json, pseudoMarkdown)\n\n\tconst result = [].concat.apply([], html)\n\n\tif (doLinkify) linkifyResult(result)\n\n\treturn result\n}\n\nfunction compileToJSON(str, pseudoMarkdown) {\n\tlet result = []\n\tlet minIndexOf = -1\n\tlet minIndexOfKey = null\n\n\tlet links = linkify.find(str)\n\tlet minIndexFromLink = false\n\n\tif (links.length > 0) {\n\t\tminIndexOf = str.indexOf(links[0].value)\n\t\tminIndexFromLink = true\n\t}\n\n\tObject.keys(pseudoMarkdown).forEach(startingValue => {\n\t\tconst io = str.indexOf(startingValue)\n\t\tif (io >= 0 && (minIndexOf < 0 || io < minIndexOf)) {\n\t\t\tminIndexOf = io\n\t\t\tminIndexOfKey = startingValue\n\t\t\tminIndexFromLink = false\n\t\t}\n\t})\n\n\tif (minIndexFromLink && minIndexOfKey !== -1) {\n\t\tlet strLeft = str.substr(0, minIndexOf)\n\t\tlet strLink = str.substr(minIndexOf, links[0].value.length)\n\t\tlet strRight = str.substr(minIndexOf + links[0].value.length)\n\t\tresult.push(strLeft)\n\t\tresult.push(strLink)\n\t\tresult = result.concat(compileToJSON(strRight, pseudoMarkdown))\n\t\treturn result\n\t}\n\n\tif (minIndexOfKey) {\n\t\tlet strLeft = str.substr(0, minIndexOf)\n\t\tconst char = minIndexOfKey\n\t\tlet strRight = str.substr(minIndexOf + char.length)\n\n\t\tif (str.replace(/\\s/g, '').length === char.length * 2) {\n\t\t\treturn [str]\n\t\t}\n\n\t\tconst match = strRight.match(\n\t\t\tnew RegExp(\n\t\t\t\t'^(' +\n\t\t\t\t\t(pseudoMarkdown[char].allowed_chars || '.') +\n\t\t\t\t\t'*' +\n\t\t\t\t\t(pseudoMarkdown[char].end ? '?' : '') +\n\t\t\t\t\t')' +\n\t\t\t\t\t(pseudoMarkdown[char].end\n\t\t\t\t\t\t? '(' + pseudoMarkdown[char].end + ')'\n\t\t\t\t\t\t: ''),\n\t\t\t\t'm'\n\t\t\t)\n\t\t)\n\t\tif (!match || !match[1]) {\n\t\t\tstrLeft = strLeft + char\n\t\t\tresult.push(strLeft)\n\t\t} else {\n\t\t\tif (strLeft) {\n\t\t\t\tresult.push(strLeft)\n\t\t\t}\n\t\t\tconst object = {\n\t\t\t\tstart: char,\n\t\t\t\tcontent: compileToJSON(match[1], pseudoMarkdown),\n\t\t\t\tend: match[2],\n\t\t\t\ttype: pseudoMarkdown[char].type\n\t\t\t}\n\t\t\tresult.push(object)\n\t\t\tstrRight = strRight.substr(match[0].length)\n\t\t}\n\t\tresult = result.concat(compileToJSON(strRight, pseudoMarkdown))\n\t\treturn result\n\t} else {\n\t\tif (str) {\n\t\t\treturn [str]\n\t\t} else {\n\t\t\treturn []\n\t\t}\n\t}\n}\n\nfunction compileToHTML(json, pseudoMarkdown) {\n\tconst result = []\n\n\tjson.forEach(item => {\n\t\tif (typeof item === 'string') {\n\t\t\tresult.push({ types: [], value: item })\n\t\t} else {\n\t\t\tif (pseudoMarkdown[item.start]) {\n\t\t\t\tresult.push(parseContent(item))\n\t\t\t}\n\t\t}\n\t})\n\n\treturn result\n}\n\nfunction parseContent(item) {\n\tconst result = []\n\titerateContent(item, result, [])\n\treturn result\n}\n\nfunction iterateContent(item, result, types) {\n\titem.content.forEach(it => {\n\t\tif (typeof it === 'string') {\n\t\t\tresult.push({\n\t\t\t\ttypes: removeDuplicates(types.concat([item.type])),\n\t\t\t\tvalue: it\n\t\t\t})\n\t\t} else {\n\t\t\titerateContent(\n\t\t\t\tit,\n\t\t\t\tresult,\n\t\t\t\tremoveDuplicates([it.type].concat([item.type]).concat(types))\n\t\t\t)\n\t\t}\n\t})\n}\n\nfunction removeDuplicates(items) {\n\treturn [...new Set(items)]\n}\n\nfunction linkifyResult(array) {\n\tconst result = []\n\n\tarray.forEach(arr => {\n\t\tconst links = linkify.find(arr.value)\n\n\t\tif (links.length) {\n\t\t\tconst spaces = arr.value.replace(links[0].value, '')\n\t\t\tresult.push({ types: arr.types, value: spaces })\n\n\t\t\tarr.types = ['url'].concat(arr.types)\n\t\t\tarr.href = links[0].href\n\t\t\tarr.value = links[0].value\n\t\t}\n\n\t\tresult.push(arr)\n\t})\n\n\treturn result\n}\n","<template>\n\t<div\n\t\tclass=\"vac-format-message-wrapper\"\n\t\t:class=\"{ 'vac-text-ellipsis': singleLine }\"\n\t>\n\t\t<div\n\t\t\tv-if=\"!textFormatting.disabled\"\n\t\t\t:class=\"{ 'vac-text-ellipsis': singleLine }\"\n\t\t>\n\t\t\t<div\n\t\t\t\tv-for=\"(message, i) in linkifiedMessage\"\n\t\t\t\t:key=\"i\"\n\t\t\t\tclass=\"vac-format-container\"\n\t\t\t>\n\t\t\t\t<component\n\t\t\t\t\t:is=\"message.url ? 'a' : 'span'\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t'vac-text-ellipsis': singleLine,\n\t\t\t\t\t\t'vac-text-bold': message.bold,\n\t\t\t\t\t\t'vac-text-italic': deleted || message.italic,\n\t\t\t\t\t\t'vac-text-strike': message.strike,\n\t\t\t\t\t\t'vac-text-underline': message.underline,\n\t\t\t\t\t\t'vac-text-inline-code': !singleLine && message.inline,\n\t\t\t\t\t\t'vac-text-multiline-code': !singleLine && message.multiline,\n\t\t\t\t\t\t'vac-text-tag': !singleLine && !reply && message.tag\n\t\t\t\t\t}\"\n\t\t\t\t\t:href=\"message.href\"\n\t\t\t\t\t:target=\"message.href ? linkOptions.target : null\"\n\t\t\t\t\t:rel=\"message.href ? linkOptions.rel : null\"\n\t\t\t\t\t@click=\"openTag(message)\"\n\t\t\t\t>\n\t\t\t\t\t<slot name=\"deleted-icon\" v-bind=\"{ deleted }\">\n\t\t\t\t\t\t<svg-icon v-if=\"deleted\" name=\"deleted\" class=\"vac-icon-deleted\" />\n\t\t\t\t\t</slot>\n\t\t\t\t\t<template v-if=\"message.url && message.image\">\n\t\t\t\t\t\t<div class=\"vac-image-link-container\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"vac-image-link\"\n\t\t\t\t\t\t\t\t:style=\"{\n\t\t\t\t\t\t\t\t\t'background-image': `url('${message.value}')`,\n\t\t\t\t\t\t\t\t\theight: message.height\n\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"vac-image-link-message\">\n\t\t\t\t\t\t\t<span>{{ message.value }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t<span>{{ message.value }}</span>\n\t\t\t\t\t</template>\n\t\t\t\t</component>\n\t\t\t</div>\n\t\t</div>\n\t\t<div v-else>\n\t\t\t{{ formattedContent }}\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport SvgIcon from '../SvgIcon/SvgIcon'\n\nimport formatString from '../../utils/format-string'\nimport { IMAGE_TYPES } from '../../utils/constants'\n\nexport default {\n\tname: 'FormatMessage',\n\tcomponents: { SvgIcon },\n\n\tprops: {\n\t\tcontent: { type: [String, Number], required: true },\n\t\tdeleted: { type: Boolean, default: false },\n\t\tusers: { type: Array, default: () => [] },\n\t\tlinkify: { type: Boolean, default: true },\n\t\tsingleLine: { type: Boolean, default: false },\n\t\treply: { type: Boolean, default: false },\n\t\ttextFormatting: { type: Object, required: true },\n\t\tlinkOptions: { type: Object, required: true }\n\t},\n\n\temits: ['open-user-tag'],\n\n\tcomputed: {\n\t\tlinkifiedMessage() {\n\t\t\tconst message = formatString(\n\t\t\t\tthis.formatTags(this.content),\n\t\t\t\tthis.linkify && !this.linkOptions.disabled,\n\t\t\t\tthis.textFormatting\n\t\t\t)\n\n\t\t\tmessage.forEach(m => {\n\t\t\t\tm.url = this.checkType(m, 'url')\n\t\t\t\tm.bold = this.checkType(m, 'bold')\n\t\t\t\tm.italic = this.checkType(m, 'italic')\n\t\t\t\tm.strike = this.checkType(m, 'strike')\n\t\t\t\tm.underline = this.checkType(m, 'underline')\n\t\t\t\tm.inline = this.checkType(m, 'inline-code')\n\t\t\t\tm.multiline = this.checkType(m, 'multiline-code')\n\t\t\t\tm.tag = this.checkType(m, 'tag')\n\t\t\t\tm.image = this.checkImageType(m)\n\t\t\t})\n\n\t\t\treturn message\n\t\t},\n\t\tformattedContent() {\n\t\t\treturn this.formatTags(this.content)\n\t\t}\n\t},\n\n\tmethods: {\n\t\tcheckType(message, type) {\n\t\t\treturn message.types.indexOf(type) !== -1\n\t\t},\n\t\tcheckImageType(message) {\n\t\t\tlet index = message.value.lastIndexOf('.')\n\t\t\tconst slashIndex = message.value.lastIndexOf('/')\n\t\t\tif (slashIndex > index) index = -1\n\n\t\t\tconst type = message.value.substring(index + 1, message.value.length)\n\n\t\t\tconst isMedia =\n\t\t\t\tindex > 0 && IMAGE_TYPES.some(t => type.toLowerCase().includes(t))\n\n\t\t\tif (isMedia) this.setImageSize(message)\n\n\t\t\treturn isMedia\n\t\t},\n\t\tsetImageSize(message) {\n\t\t\tconst image = new Image()\n\t\t\timage.src = message.value\n\n\t\t\timage.addEventListener('load', onLoad)\n\n\t\t\tfunction onLoad(img) {\n\t\t\t\tconst ratio = img.path[0].width / 150\n\t\t\t\tmessage.height = Math.round(img.path[0].height / ratio) + 'px'\n\t\t\t\timage.removeEventListener('load', onLoad)\n\t\t\t}\n\t\t},\n\t\tformatTags(content) {\n\t\t\tconst firstTag = '<usertag>'\n\t\t\tconst secondTag = '</usertag>'\n\n\t\t\tconst usertags = [...content.matchAll(new RegExp(firstTag, 'gi'))].map(\n\t\t\t\ta => a.index\n\t\t\t)\n\n\t\t\tconst initialContent = content\n\n\t\t\tusertags.forEach(index => {\n\t\t\t\tconst userId = initialContent.substring(\n\t\t\t\t\tindex + firstTag.length,\n\t\t\t\t\tinitialContent.indexOf(secondTag, index)\n\t\t\t\t)\n\n\t\t\t\tconst user = this.users.find(user => user._id === userId)\n\n\t\t\t\tcontent = content.replaceAll(userId, `@${user?.username || 'unknown'}`)\n\t\t\t})\n\n\t\t\treturn content\n\t\t},\n\t\topenTag(message) {\n\t\t\tif (!this.singleLine && this.checkType(message, 'tag')) {\n\t\t\t\tconst user = this.users.find(\n\t\t\t\t\tu => message.value.indexOf(u.username) !== -1\n\t\t\t\t)\n\t\t\t\tthis.$emit('open-user-tag', user)\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./FormatMessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./FormatMessage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FormatMessage.vue?vue&type=template&id=934b3d7e&\"\nimport script from \"./FormatMessage.vue?vue&type=script&lang=js&\"\nexport * from \"./FormatMessage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default (room, currentUserId, textMessages) => {\n\tif (room.typingUsers && room.typingUsers.length) {\n\t\tconst typingUsers = room.users.filter(user => {\n\t\t\tif (user._id === currentUserId) return\n\t\t\tif (room.typingUsers.indexOf(user._id) === -1) return\n\t\t\tif (user.status && user.status.state === 'offline') return\n\t\t\treturn true\n\t\t})\n\n\t\tif (!typingUsers.length) return\n\n\t\tif (room.users.length === 2) {\n\t\t\treturn textMessages.IS_TYPING\n\t\t} else {\n\t\t\treturn (\n\t\t\t\ttypingUsers.map(user => user.username).join(', ') +\n\t\t\t\t' ' +\n\t\t\t\ttextMessages.IS_TYPING\n\t\t\t)\n\t\t}\n\t}\n}\n","<template>\n\t<div class=\"vac-room-container\">\n\t\t<slot name=\"room-list-item\" v-bind=\"{ room }\">\n\t\t\t<slot name=\"room-list-avatar\" v-bind=\"{ room }\">\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"room.avatar\"\n\t\t\t\t\tclass=\"vac-avatar\"\n\t\t\t\t\t:style=\"{ 'background-image': `url('${room.avatar}')` }\"\n\t\t\t\t/>\n\t\t\t</slot>\n\t\t\t<div class=\"vac-name-container vac-text-ellipsis\">\n\t\t\t\t<div class=\"vac-title-container\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"userStatus\"\n\t\t\t\t\t\tclass=\"vac-state-circle\"\n\t\t\t\t\t\t:class=\"{ 'vac-state-online': userStatus === 'online' }\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div class=\"vac-room-name vac-text-ellipsis\">\n\t\t\t\t\t\t{{ room.roomName }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"room.lastMessage\" class=\"vac-text-date\">\n\t\t\t\t\t\t{{ room.lastMessage.timestamp }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"vac-text-last\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t'vac-message-new':\n\t\t\t\t\t\t\troom.lastMessage && room.lastMessage.new && !typingUsers\n\t\t\t\t\t}\"\n\t\t\t\t>\n\t\t\t\t\t<span v-if=\"isMessageCheckmarkVisible\">\n\t\t\t\t\t\t<slot name=\"checkmark-icon\" v-bind=\"{ message: room.lastMessage }\">\n\t\t\t\t\t\t\t<svg-icon\n\t\t\t\t\t\t\t\t:name=\"\n\t\t\t\t\t\t\t\t\troom.lastMessage.distributed\n\t\t\t\t\t\t\t\t\t\t? 'double-checkmark'\n\t\t\t\t\t\t\t\t\t\t: 'checkmark'\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t:param=\"room.lastMessage.seen ? 'seen' : ''\"\n\t\t\t\t\t\t\t\tclass=\"vac-icon-check\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</span>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"room.lastMessage && !room.lastMessage.deleted && isAudio\"\n\t\t\t\t\t\tclass=\"vac-text-ellipsis\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<slot name=\"microphone-icon\">\n\t\t\t\t\t\t\t<svg-icon name=\"microphone\" class=\"vac-icon-microphone\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t{{ formattedDuration }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<format-message\n\t\t\t\t\t\tv-else-if=\"room.lastMessage\"\n\t\t\t\t\t\t:content=\"getLastMessage\"\n\t\t\t\t\t\t:deleted=\"!!room.lastMessage.deleted && !typingUsers\"\n\t\t\t\t\t\t:users=\"room.users\"\n\t\t\t\t\t\t:linkify=\"false\"\n\t\t\t\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t\t\t\t:link-options=\"linkOptions\"\n\t\t\t\t\t\t:single-line=\"true\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<template #deleted-icon=\"data\">\n\t\t\t\t\t\t\t<slot name=\"deleted-icon\" v-bind=\"data\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</format-message>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"!room.lastMessage && typingUsers\"\n\t\t\t\t\t\tclass=\"vac-text-ellipsis\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ typingUsers }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"vac-room-options-container\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if=\"room.unreadCount\"\n\t\t\t\t\t\t\tclass=\"vac-badge-counter vac-room-badge\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ room.unreadCount }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<slot name=\"room-list-options\" v-bind=\"{ room }\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tv-if=\"roomActions.length\"\n\t\t\t\t\t\t\t\tclass=\"vac-svg-button vac-list-room-options\"\n\t\t\t\t\t\t\t\t@click.stop=\"roomMenuOpened = room.roomId\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<slot name=\"room-list-options-icon\">\n\t\t\t\t\t\t\t\t\t<svg-icon name=\"dropdown\" param=\"room\" />\n\t\t\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<transition v-if=\"roomActions.length\" name=\"vac-slide-left\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tv-if=\"roomMenuOpened === room.roomId\"\n\t\t\t\t\t\t\t\t\tv-click-outside=\"closeRoomMenu\"\n\t\t\t\t\t\t\t\t\tclass=\"vac-menu-options\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\"vac-menu-list\">\n\t\t\t\t\t\t\t\t\t\t<div v-for=\"action in roomActions\" :key=\"action.name\">\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"vac-menu-item\"\n\t\t\t\t\t\t\t\t\t\t\t\t@click.stop=\"roomActionHandler(action)\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{{ action.title }}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</transition>\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</slot>\n\t</div>\n</template>\n\n<script>\nimport vClickOutside from 'v-click-outside'\n\nimport SvgIcon from '../../../components/SvgIcon/SvgIcon'\nimport FormatMessage from '../../../components/FormatMessage/FormatMessage'\n\nimport typingText from '../../../utils/typing-text'\nconst { isAudioFile } = require('../../../utils/media-file')\n\nexport default {\n\tname: 'RoomsContent',\n\tcomponents: {\n\t\tSvgIcon,\n\t\tFormatMessage\n\t},\n\n\tdirectives: {\n\t\tclickOutside: vClickOutside.directive\n\t},\n\n\tprops: {\n\t\tcurrentUserId: { type: [String, Number], required: true },\n\t\troom: { type: Object, required: true },\n\t\ttextFormatting: { type: Object, required: true },\n\t\tlinkOptions: { type: Object, required: true },\n\t\ttextMessages: { type: Object, required: true },\n\t\troomActions: { type: Array, required: true }\n\t},\n\n\temits: ['room-action-handler'],\n\n\tdata() {\n\t\treturn {\n\t\t\troomMenuOpened: null\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tgetLastMessage() {\n\t\t\tconst isTyping = this.typingUsers\n\t\t\tif (isTyping) return isTyping\n\n\t\t\tconst content = this.room.lastMessage.deleted\n\t\t\t\t? this.textMessages.MESSAGE_DELETED\n\t\t\t\t: this.room.lastMessage.content\n\n\t\t\tif (this.room.users.length <= 2) {\n\t\t\t\treturn content\n\t\t\t}\n\n\t\t\tconst user = this.room.users.find(\n\t\t\t\tuser => user._id === this.room.lastMessage.senderId\n\t\t\t)\n\n\t\t\tif (this.room.lastMessage.username) {\n\t\t\t\treturn `${this.room.lastMessage.username} - ${content}`\n\t\t\t} else if (!user || user._id === this.currentUserId) {\n\t\t\t\treturn content\n\t\t\t}\n\n\t\t\treturn `${user.username} - ${content}`\n\t\t},\n\t\tuserStatus() {\n\t\t\tif (!this.room.users || this.room.users.length !== 2) return\n\n\t\t\tconst user = this.room.users.find(u => u._id !== this.currentUserId)\n\t\t\tif (user && user.status) return user.status.state\n\n\t\t\treturn null\n\t\t},\n\t\ttypingUsers() {\n\t\t\treturn typingText(this.room, this.currentUserId, this.textMessages)\n\t\t},\n\t\tisMessageCheckmarkVisible() {\n\t\t\treturn (\n\t\t\t\t!this.typingUsers &&\n\t\t\t\tthis.room.lastMessage &&\n\t\t\t\t!this.room.lastMessage.deleted &&\n\t\t\t\tthis.room.lastMessage.senderId === this.currentUserId &&\n\t\t\t\t(this.room.lastMessage.saved ||\n\t\t\t\t\tthis.room.lastMessage.distributed ||\n\t\t\t\t\tthis.room.lastMessage.seen)\n\t\t\t)\n\t\t},\n\t\tformattedDuration() {\n\t\t\tconst file = this.room.lastMessage?.files?.[0]\n\n\t\t\tif (file) {\n\t\t\t\tif (!file.duration) {\n\t\t\t\t\treturn `${file.name}.${file.extension}`\n\t\t\t\t}\n\n\t\t\t\tlet s = Math.floor(file.duration)\n\t\t\t\treturn (s - (s %= 60)) / 60 + (s > 9 ? ':' : ':0') + s\n\t\t\t}\n\n\t\t\treturn ''\n\t\t},\n\t\tisAudio() {\n\t\t\treturn this.room.lastMessage.files\n\t\t\t\t? isAudioFile(this.room.lastMessage.files[0])\n\t\t\t\t: false\n\t\t}\n\t},\n\n\tmethods: {\n\t\troomActionHandler(action) {\n\t\t\tthis.closeRoomMenu()\n\t\t\tthis.$emit('room-action-handler', { action, roomId: this.room.roomId })\n\t\t},\n\t\tcloseRoomMenu() {\n\t\t\tthis.roomMenuOpened = null\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomContent.vue?vue&type=template&id=6888cbad&\"\nimport script from \"./RoomContent.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomContent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default (items, prop, val, startsWith = false) => {\n\tif (!val || val === '') return items\n\n\treturn items.filter(v => {\n\t\tif (startsWith) return formatString(v[prop]).startsWith(formatString(val))\n\t\treturn formatString(v[prop]).includes(formatString(val))\n\t})\n}\n\nfunction formatString(string) {\n\treturn string\n\t\t.toLowerCase()\n\t\t.normalize('NFD')\n\t\t.replace(/[\\u0300-\\u036f]/g, '')\n}\n","<template>\n\t<div\n\t\tv-show=\"showRoomsList\"\n\t\tclass=\"vac-rooms-container\"\n\t\t:class=\"{ 'vac-rooms-container-full': isMobile, 'vac-app-border-r': !isMobile }\"\n\t>\n\t\t<slot name=\"rooms-header\" />\n\n\t\t<slot name=\"rooms-list-search\">\n\t\t\t<rooms-search\n\t\t\t\t:rooms=\"rooms\"\n\t\t\t\t:loading-rooms=\"loadingRooms\"\n\t\t\t\t:text-messages=\"textMessages\"\n\t\t\t\t:show-search=\"showSearch\"\n\t\t\t\t:show-add-room=\"showAddRoom\"\n\t\t\t\t@search-room=\"searchRoom\"\n\t\t\t\t@add-room=\"$emit('add-room')\"\n\t\t\t>\n\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t</template>\n\t\t\t</rooms-search>\n\t\t</slot>\n\n\t\t<loader :show=\"loadingRooms\">\n\t\t\t<template v-for=\"(idx, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t</template>\n\t\t</loader>\n\n\t\t<div v-if=\"!loadingRooms && !rooms.length\" class=\"vac-rooms-empty\">\n\t\t\t<slot name=\"rooms-empty\">\n\t\t\t\t{{ textMessages.ROOMS_EMPTY }}\n\t\t\t</slot>\n\t\t</div>\n\n\t\t<div v-if=\"!loadingRooms\" id=\"rooms-list\" class=\"vac-room-list\">\n\t\t\t<div\n\t\t\t\tv-for=\"fRoom in filteredRooms\"\n\t\t\t\t:id=\"fRoom.roomId\"\n\t\t\t\t:key=\"fRoom.roomId\"\n\t\t\t\tclass=\"vac-room-item\"\n\t\t\t\t:class=\"{ 'vac-room-selected': selectedRoomId === fRoom.roomId }\"\n\t\t\t\t@click=\"openRoom(fRoom)\"\n\t\t\t>\n\t\t\t\t<room-content\n\t\t\t\t\t:current-user-id=\"currentUserId\"\n\t\t\t\t\t:room=\"fRoom\"\n\t\t\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t\t\t:link-options=\"linkOptions\"\n\t\t\t\t\t:text-messages=\"textMessages\"\n\t\t\t\t\t:room-actions=\"roomActions\"\n\t\t\t\t\t@room-action-handler=\"$emit('room-action-handler', $event)\"\n\t\t\t\t>\n\t\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t\t</template>\n\t\t\t\t</room-content>\n\t\t\t</div>\n\t\t\t<transition name=\"vac-fade-message\">\n\t\t\t\t<div v-if=\"rooms.length && !loadingRooms\" id=\"infinite-loader-rooms\">\n\t\t\t\t\t<loader :show=\"showLoader\" :infinite=\"true\">\n\t\t\t\t\t\t<template v-for=\"(idx, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</loader>\n\t\t\t\t</div>\n\t\t\t</transition>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport Loader from '../../components/Loader/Loader'\n\nimport RoomsSearch from './RoomsSearch/RoomsSearch'\nimport RoomContent from './RoomContent/RoomContent'\n\nimport filteredItems from '../../utils/filter-items'\n\nexport default {\n\tname: 'RoomsList',\n\tcomponents: {\n\t\tLoader,\n\t\tRoomsSearch,\n\t\tRoomContent\n\t},\n\n\tprops: {\n\t\tcurrentUserId: { type: [String, Number], required: true },\n\t\ttextMessages: { type: Object, required: true },\n\t\tshowRoomsList: { type: Boolean, required: true },\n\t\tshowSearch: { type: Boolean, required: true },\n\t\tshowAddRoom: { type: Boolean, required: true },\n\t\ttextFormatting: { type: Object, required: true },\n\t\tlinkOptions: { type: Object, required: true },\n\t\tisMobile: { type: Boolean, required: true },\n\t\trooms: { type: Array, required: true },\n\t\tloadingRooms: { type: Boolean, required: true },\n\t\troomsLoaded: { type: Boolean, required: true },\n\t\troom: { type: Object, required: true },\n\t\troomActions: { type: Array, required: true },\n\t\tscrollDistance: { type: Number, required: true }\n\t},\n\n\temits: [\n\t\t'add-room',\n\t\t'room-action-handler',\n\t\t'loading-more-rooms',\n\t\t'fetch-room',\n\t\t'fetch-more-rooms'\n\t],\n\n\tdata() {\n\t\treturn {\n\t\t\tfilteredRooms: this.rooms || [],\n\t\t\tobserver: null,\n\t\t\tshowLoader: true,\n\t\t\tloadingMoreRooms: false,\n\t\t\tselectedRoomId: ''\n\t\t}\n\t},\n\n\twatch: {\n\t\trooms: {\n\t\t\tdeep: true,\n\t\t\thandler(newVal, oldVal) {\n\t\t\t\tthis.filteredRooms = newVal\n\t\t\t\tif (newVal.length !== oldVal.length || this.roomsLoaded) {\n\t\t\t\t\tthis.loadingMoreRooms = false\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tloadingRooms(val) {\n\t\t\tif (!val) {\n\t\t\t\tsetTimeout(() => this.initIntersectionObserver())\n\t\t\t}\n\t\t},\n\t\tloadingMoreRooms(val) {\n\t\t\tthis.$emit('loading-more-rooms', val)\n\t\t},\n\t\troomsLoaded: {\n\t\t\timmediate: true,\n\t\t\thandler(val) {\n\t\t\t\tif (val) {\n\t\t\t\t\tthis.loadingMoreRooms = false\n\t\t\t\t\tif (!this.loadingRooms) {\n\t\t\t\t\t\tthis.showLoader = false\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\troom: {\n\t\t\timmediate: true,\n\t\t\thandler(val) {\n\t\t\t\tif (val && !this.isMobile) this.selectedRoomId = val.roomId\n\t\t\t}\n\t\t}\n\t},\n\n\tmethods: {\n\t\tinitIntersectionObserver() {\n\t\t\tif (this.observer) {\n\t\t\t\tthis.showLoader = true\n\t\t\t\tthis.observer.disconnect()\n\t\t\t}\n\n\t\t\tconst loader = document.getElementById('infinite-loader-rooms')\n\n\t\t\tif (loader) {\n\t\t\t\tconst options = {\n\t\t\t\t\troot: document.getElementById('rooms-list'),\n\t\t\t\t\trootMargin: `${this.scrollDistance}px`,\n\t\t\t\t\tthreshold: 0\n\t\t\t\t}\n\n\t\t\t\tthis.observer = new IntersectionObserver(entries => {\n\t\t\t\t\tif (entries[0].isIntersecting) {\n\t\t\t\t\t\tthis.loadMoreRooms()\n\t\t\t\t\t}\n\t\t\t\t}, options)\n\n\t\t\t\tthis.observer.observe(loader)\n\t\t\t}\n\t\t},\n\t\tsearchRoom(ev) {\n\t\t\tthis.filteredRooms = filteredItems(\n\t\t\t\tthis.rooms,\n\t\t\t\t'roomName',\n\t\t\t\tev.target.value\n\t\t\t)\n\t\t},\n\t\topenRoom(room) {\n\t\t\tif (room.roomId === this.room.roomId && !this.isMobile) return\n\t\t\tif (!this.isMobile) this.selectedRoomId = room.roomId\n\t\t\tthis.$emit('fetch-room', { room })\n\t\t},\n\t\tloadMoreRooms() {\n\t\t\tif (this.loadingMoreRooms) return\n\n\t\t\tif (this.roomsLoaded) {\n\t\t\t\tthis.loadingMoreRooms = false\n\t\t\t\tthis.showLoader = false\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.$emit('fetch-more-rooms')\n\t\t\tthis.loadingMoreRooms = true\n\t\t}\n\t}\n}\n</script>\n","// Credits to https://github.com/grishkovelli/vue-audio-recorder\n\nlet lamejs\ntry {\n\tlamejs = require('lamejs')\n} catch (_) {\n\tlamejs = { missing: true }\n}\n\nconst { Mp3Encoder } = lamejs\n\nexport default class {\n\tconstructor(config) {\n\t\tif (lamejs.missing) {\n\t\t\tthrow new Error(\n\t\t\t\t'You must add lamejs in your dependencies to use the audio recorder. Please run \"npm install lamejs --save\"'\n\t\t\t)\n\t\t}\n\n\t\tthis.bitRate = config.bitRate\n\t\tthis.sampleRate = config.sampleRate\n\t\tthis.dataBuffer = []\n\t\tthis.encoder = new Mp3Encoder(1, this.sampleRate, this.bitRate)\n\t}\n\n\tencode(arrayBuffer) {\n\t\tconst maxSamples = 1152\n\t\tconst samples = this._convertBuffer(arrayBuffer)\n\t\tlet remaining = samples.length\n\n\t\tfor (let i = 0; remaining >= 0; i += maxSamples) {\n\t\t\tconst left = samples.subarray(i, i + maxSamples)\n\t\t\tconst buffer = this.encoder.encodeBuffer(left)\n\t\t\tthis.dataBuffer.push(new Int8Array(buffer))\n\t\t\tremaining -= maxSamples\n\t\t}\n\t}\n\n\tfinish() {\n\t\tthis.dataBuffer.push(this.encoder.flush())\n\t\tconst blob = new Blob(this.dataBuffer, { type: 'audio/mp3' })\n\t\tthis.dataBuffer = []\n\n\t\treturn {\n\t\t\tid: Date.now(),\n\t\t\tblob: blob,\n\t\t\turl: URL.createObjectURL(blob)\n\t\t}\n\t}\n\n\t_floatTo16BitPCM(input, output) {\n\t\tfor (let i = 0; i < input.length; i++) {\n\t\t\tconst s = Math.max(-1, Math.min(1, input[i]))\n\t\t\toutput[i] = s < 0 ? s * 0x8000 : s * 0x7fff\n\t\t}\n\t}\n\n\t_convertBuffer(arrayBuffer) {\n\t\tconst data = new Float32Array(arrayBuffer)\n\t\tconst out = new Int16Array(arrayBuffer.length)\n\t\tthis._floatTo16BitPCM(data, out)\n\t\treturn out\n\t}\n}\n","import mod from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomsList.vue?vue&type=template&id=e9cbf0d4&\"\nimport script from \"./RoomsList.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomsList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:((_vm.isMobile && !_vm.showRoomsList) || !_vm.isMobile || _vm.singleRoom),expression:\"(isMobile && !showRoomsList) || !isMobile || singleRoom\"}],staticClass:\"vac-col-messages\",on:{\"touchstart\":_vm.touchStart}},[(_vm.showNoRoom)?_vm._t(\"no-room-selected\",function(){return [_c('div',{staticClass:\"vac-container-center vac-room-empty\"},[_c('div',[_vm._v(_vm._s(_vm.textMessages.ROOM_EMPTY))])])]}):_c('room-header',{attrs:{\"current-user-id\":_vm.currentUserId,\"text-messages\":_vm.textMessages,\"single-room\":_vm.singleRoom,\"show-rooms-list\":_vm.showRoomsList,\"is-mobile\":_vm.isMobile,\"room-info-enabled\":_vm.roomInfoEnabled,\"menu-actions\":_vm.menuActions,\"room\":_vm.room,\"message-selection-enabled\":_vm.messageSelectionEnabled,\"message-selection-actions\":_vm.messageSelectionActions,\"selected-messages-total\":_vm.selectedMessages.length},on:{\"toggle-rooms-list\":function($event){return _vm.$emit('toggle-rooms-list')},\"room-info\":function($event){return _vm.$emit('room-info')},\"menu-action-handler\":function($event){return _vm.$emit('menu-action-handler', $event)},\"message-selection-action-handler\":_vm.messageSelectionActionHandler,\"cancel-message-selection\":function($event){_vm.messageSelectionEnabled = false}},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)}),_c('div',{ref:\"scrollContainer\",staticClass:\"vac-container-scroll\",attrs:{\"id\":\"messages-list\"},on:{\"scroll\":_vm.onContainerScroll}},[_c('loader',{attrs:{\"show\":_vm.loadingMessages},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(idx,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)}),_c('div',{staticClass:\"vac-messages-container\"},[_c('div',{class:{ 'vac-messages-hidden': _vm.loadingMessages }},[_c('transition',{attrs:{\"name\":\"vac-fade-message\"}},[_c('div',[(_vm.showNoMessages)?_c('div',{staticClass:\"vac-text-started\"},[_vm._t(\"messages-empty\",function(){return [_vm._v(\" \"+_vm._s(_vm.textMessages.MESSAGES_EMPTY)+\" \")]})],2):_vm._e(),(_vm.showMessagesStarted)?_c('div',{staticClass:\"vac-text-started\"},[_vm._v(\" \"+_vm._s(_vm.textMessages.CONVERSATION_STARTED)+\" \"+_vm._s(_vm.messages[0].date)+\" \")]):_vm._e()])]),(_vm.messages.length && !_vm.messagesLoaded)?_c('div',{attrs:{\"id\":\"infinite-loader-messages\"}},[_c('loader',{attrs:{\"show\":true,\"infinite\":true},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(idx,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})],1):_vm._e(),_c('transition-group',{key:_vm.roomId,attrs:{\"name\":\"vac-fade-message\",\"tag\":\"span\"}},_vm._l((_vm.messages),function(m,i){return _c('div',{key:m.indexId || m._id},[_c('room-message',{attrs:{\"current-user-id\":_vm.currentUserId,\"message\":m,\"index\":i,\"messages\":_vm.messages,\"edited-message-id\":_vm.editedMessageId,\"message-actions\":_vm.messageActions,\"room-users\":_vm.room.users,\"text-messages\":_vm.textMessages,\"new-messages\":_vm.newMessages,\"show-reaction-emojis\":_vm.showReactionEmojis,\"show-new-messages-divider\":_vm.showNewMessagesDivider,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions,\"username-options\":_vm.usernameOptions,\"message-selection-enabled\":_vm.messageSelectionEnabled,\"selected-messages\":_vm.selectedMessages},on:{\"message-added\":_vm.onMessageAdded,\"message-action-handler\":_vm.messageActionHandler,\"open-file\":_vm.openFile,\"open-user-tag\":_vm.openUserTag,\"open-failed-message\":function($event){return _vm.$emit('open-failed-message', $event)},\"send-message-reaction\":_vm.sendMessageReaction,\"select-message\":_vm.selectMessage,\"unselect-message\":_vm.unselectMessage},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(idx,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})],1)}),0)],1)])],1),(!_vm.loadingMessages)?_c('div',[_c('transition',{attrs:{\"name\":\"vac-bounce\"}},[(_vm.scrollIcon)?_c('div',{staticClass:\"vac-icon-scroll\",on:{\"click\":_vm.scrollToBottom}},[_c('transition',{attrs:{\"name\":\"vac-bounce\"}},[(_vm.scrollMessagesCount)?_c('div',{staticClass:\"vac-badge-counter vac-messages-count\"},[_vm._v(\" \"+_vm._s(_vm.scrollMessagesCount)+\" \")]):_vm._e()]),_vm._t(\"scroll-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"dropdown\",\"param\":\"scroll\"}})]})],2):_vm._e()])],1):_vm._e(),_c('room-footer',{attrs:{\"room\":_vm.room,\"room-id\":_vm.roomId,\"room-message\":_vm.roomMessage,\"text-messages\":_vm.textMessages,\"show-send-icon\":_vm.showSendIcon,\"show-files\":_vm.showFiles,\"show-audio\":_vm.showAudio,\"show-emojis\":_vm.showEmojis,\"show-footer\":_vm.showFooter,\"accepted-files\":_vm.acceptedFiles,\"textarea-action-enabled\":_vm.textareaActionEnabled,\"user-tags-enabled\":_vm.userTagsEnabled,\"emojis-suggestion-enabled\":_vm.emojisSuggestionEnabled,\"templates-text\":_vm.templatesText,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions,\"audio-bit-rate\":_vm.audioBitRate,\"audio-sample-rate\":_vm.audioSampleRate,\"init-reply-message\":_vm.initReplyMessage,\"init-edit-message\":_vm.initEditMessage},on:{\"update-edited-message-id\":function($event){_vm.editedMessageId = $event},\"edit-message\":function($event){return _vm.$emit('edit-message', $event)},\"send-message\":function($event){return _vm.$emit('send-message', $event)},\"typing-message\":function($event){return _vm.$emit('typing-message', $event)},\"textarea-action-handler\":function($event){return _vm.$emit('textarea-action-handler', $event)}},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(idx,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vac-room-header vac-app-border-b\"},[_vm._t(\"room-header\",function(){return [_c('div',{staticClass:\"vac-room-wrapper\"},[_c('transition',{attrs:{\"name\":\"vac-slide-up\"}},[(_vm.messageSelectionEnabled)?_c('div',{staticClass:\"vac-room-selection\"},[_vm._l((_vm.messageSelectionActions),function(action){return _c('div',{key:action.name,attrs:{\"id\":action.name}},[_c('div',{staticClass:\"vac-selection-button\",on:{\"click\":function($event){return _vm.messageSelectionActionHandler(action)}}},[_vm._v(\" \"+_vm._s(action.title)+\" \"),_c('span',{staticClass:\"vac-selection-button-count\"},[_vm._v(\" \"+_vm._s(_vm.selectedMessagesTotal)+\" \")])])])}),_c('div',{staticClass:\"vac-selection-cancel vac-item-clickable\",on:{\"click\":function($event){return _vm.$emit('cancel-message-selection')}}},[_vm._v(\" \"+_vm._s(_vm.textMessages.CANCEL_SELECT_MESSAGE)+\" \")])],2):_vm._e()]),(!_vm.messageSelectionEnabled && _vm.messageSelectionAnimationEnded)?[(!_vm.singleRoom)?_c('div',{staticClass:\"vac-svg-button vac-toggle-button\",class:{ 'vac-rotate-icon-init': !_vm.isMobile, 'vac-rotate-icon': !_vm.showRoomsList && !_vm.isMobile },on:{\"click\":function($event){return _vm.$emit('toggle-rooms-list')}}},[_vm._t(\"toggle-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"toggle\"}})]})],2):_vm._e(),_c('div',{staticClass:\"vac-info-wrapper\",class:{ 'vac-item-clickable': _vm.roomInfoEnabled },on:{\"click\":function($event){return _vm.$emit('room-info')}}},[_vm._t(\"room-header-avatar\",function(){return [(_vm.room.avatar)?_c('div',{staticClass:\"vac-avatar\",style:({ 'background-image': (\"url('\" + (_vm.room.avatar) + \"')\") })}):_vm._e()]},null,{ room: _vm.room }),_vm._t(\"room-header-info\",function(){return [_c('div',{staticClass:\"vac-text-ellipsis\"},[_c('div',{staticClass:\"vac-room-name vac-text-ellipsis\"},[_vm._v(\" \"+_vm._s(_vm.room.roomName)+\" \")]),(_vm.typingUsers)?_c('div',{staticClass:\"vac-room-info vac-text-ellipsis\"},[_vm._v(\" \"+_vm._s(_vm.typingUsers)+\" \")]):_c('div',{staticClass:\"vac-room-info vac-text-ellipsis\"},[_vm._v(\" \"+_vm._s(_vm.userStatus)+\" \")])])]},null,{ room: _vm.room, typingUsers: _vm.typingUsers, userStatus: _vm.userStatus })],2),(_vm.room.roomId)?_vm._t(\"room-options\",function(){return [(_vm.menuActions.length)?_c('div',{staticClass:\"vac-svg-button vac-room-options\",on:{\"click\":function($event){_vm.menuOpened = !_vm.menuOpened}}},[_vm._t(\"menu-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"menu\"}})]})],2):_vm._e(),(_vm.menuActions.length)?_c('transition',{attrs:{\"name\":\"vac-slide-left\"}},[(_vm.menuOpened)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.closeMenu),expression:\"closeMenu\"}],staticClass:\"vac-menu-options\"},[_c('div',{staticClass:\"vac-menu-list\"},_vm._l((_vm.menuActions),function(action){return _c('div',{key:action.name},[_c('div',{staticClass:\"vac-menu-item\",on:{\"click\":function($event){return _vm.menuActionHandler(action)}}},[_vm._v(\" \"+_vm._s(action.title)+\" \")])])}),0)]):_vm._e()]):_vm._e()]}):_vm._e()]:_vm._e()],2)]},null,{ room: _vm.room, typingUsers: _vm.typingUsers, userStatus: _vm.userStatus })],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"vac-room-header vac-app-border-b\">\n\t\t<slot name=\"room-header\" v-bind=\"{ room, typingUsers, userStatus }\">\n\t\t\t<div class=\"vac-room-wrapper\">\n\t\t\t\t<transition name=\"vac-slide-up\">\n\t\t\t\t\t<div v-if=\"messageSelectionEnabled\" class=\"vac-room-selection\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-for=\"action in messageSelectionActions\"\n\t\t\t\t\t\t\t:id=\"action.name\"\n\t\t\t\t\t\t\t:key=\"action.name\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"vac-selection-button\"\n\t\t\t\t\t\t\t\t@click=\"messageSelectionActionHandler(action)\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ action.title }}\n\t\t\t\t\t\t\t\t<span class=\"vac-selection-button-count\">\n\t\t\t\t\t\t\t\t\t{{ selectedMessagesTotal }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"vac-selection-cancel vac-item-clickable\"\n\t\t\t\t\t\t\t@click=\"$emit('cancel-message-selection')\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ textMessages.CANCEL_SELECT_MESSAGE }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</transition>\n\t\t\t\t<template\n\t\t\t\t\tv-if=\"!messageSelectionEnabled && messageSelectionAnimationEnded\"\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"!singleRoom\"\n\t\t\t\t\t\tclass=\"vac-svg-button vac-toggle-button\"\n\t\t\t\t\t\t:class=\"{ 'vac-rotate-icon-init': !isMobile, 'vac-rotate-icon': !showRoomsList && !isMobile }\"\n\t\t\t\t\t\t@click=\"$emit('toggle-rooms-list')\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<slot name=\"toggle-icon\">\n\t\t\t\t\t\t\t<svg-icon name=\"toggle\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"vac-info-wrapper\"\n\t\t\t\t\t\t:class=\"{ 'vac-item-clickable': roomInfoEnabled }\"\n\t\t\t\t\t\t@click=\"$emit('room-info')\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<slot name=\"room-header-avatar\" v-bind=\"{ room }\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tv-if=\"room.avatar\"\n\t\t\t\t\t\t\t\tclass=\"vac-avatar\"\n\t\t\t\t\t\t\t\t:style=\"{ 'background-image': `url('${room.avatar}')` }\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t<slot\n\t\t\t\t\t\t\tname=\"room-header-info\"\n\t\t\t\t\t\t\tv-bind=\"{ room, typingUsers, userStatus }\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div class=\"vac-text-ellipsis\">\n\t\t\t\t\t\t\t\t<div class=\"vac-room-name vac-text-ellipsis\">\n\t\t\t\t\t\t\t\t\t{{ room.roomName }}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div v-if=\"typingUsers\" class=\"vac-room-info vac-text-ellipsis\">\n\t\t\t\t\t\t\t\t\t{{ typingUsers }}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div v-else class=\"vac-room-info vac-text-ellipsis\">\n\t\t\t\t\t\t\t\t\t{{ userStatus }}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</div>\n\t\t\t\t\t<slot v-if=\"room.roomId\" name=\"room-options\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if=\"menuActions.length\"\n\t\t\t\t\t\t\tclass=\"vac-svg-button vac-room-options\"\n\t\t\t\t\t\t\t@click=\"menuOpened = !menuOpened\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<slot name=\"menu-icon\">\n\t\t\t\t\t\t\t\t<svg-icon name=\"menu\" />\n\t\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<transition v-if=\"menuActions.length\" name=\"vac-slide-left\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tv-if=\"menuOpened\"\n\t\t\t\t\t\t\t\tv-click-outside=\"closeMenu\"\n\t\t\t\t\t\t\t\tclass=\"vac-menu-options\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\"vac-menu-list\">\n\t\t\t\t\t\t\t\t\t<div v-for=\"action in menuActions\" :key=\"action.name\">\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclass=\"vac-menu-item\"\n\t\t\t\t\t\t\t\t\t\t\t@click=\"menuActionHandler(action)\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{{ action.title }}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</transition>\n\t\t\t\t\t</slot>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</slot>\n\t</div>\n</template>\n\n<script>\nimport vClickOutside from 'v-click-outside'\n\nimport SvgIcon from '../../../components/SvgIcon/SvgIcon'\n\nimport typingText from '../../../utils/typing-text'\n\nexport default {\n\tname: 'RoomHeader',\n\tcomponents: {\n\t\tSvgIcon\n\t},\n\n\tdirectives: {\n\t\tclickOutside: vClickOutside.directive\n\t},\n\n\tprops: {\n\t\tcurrentUserId: { type: [String, Number], required: true },\n\t\ttextMessages: { type: Object, required: true },\n\t\tsingleRoom: { type: Boolean, required: true },\n\t\tshowRoomsList: { type: Boolean, required: true },\n\t\tisMobile: { type: Boolean, required: true },\n\t\troomInfoEnabled: { type: Boolean, required: true },\n\t\tmenuActions: { type: Array, required: true },\n\t\troom: { type: Object, required: true },\n\t\tmessageSelectionEnabled: { type: Boolean, required: true },\n\t\tmessageSelectionActions: { type: Array, required: true },\n\t\tselectedMessagesTotal: { type: Number, required: true }\n\t},\n\n\temits: [\n\t\t'toggle-rooms-list',\n\t\t'room-info',\n\t\t'menu-action-handler',\n\t\t'cancel-message-selection',\n\t\t'message-selection-action-handler'\n\t],\n\n\tdata() {\n\t\treturn {\n\t\t\tmenuOpened: false,\n\t\t\tmessageSelectionAnimationEnded: true\n\t\t}\n\t},\n\n\tcomputed: {\n\t\ttypingUsers() {\n\t\t\treturn typingText(this.room, this.currentUserId, this.textMessages)\n\t\t},\n\t\tuserStatus() {\n\t\t\tif (!this.room.users || this.room.users.length !== 2) return\n\n\t\t\tconst user = this.room.users.find(u => u._id !== this.currentUserId)\n\n\t\t\tif (!user.status) return\n\n\t\t\tlet text = ''\n\n\t\t\tif (user.status.state === 'online') {\n\t\t\t\ttext = this.textMessages.IS_ONLINE\n\t\t\t} else if (user.status.lastChanged) {\n\t\t\t\ttext = this.textMessages.LAST_SEEN + user.status.lastChanged\n\t\t\t}\n\n\t\t\treturn text\n\t\t}\n\t},\n\n\twatch: {\n\t\tmessageSelectionEnabled(val) {\n\t\t\tif (val) {\n\t\t\t\tthis.messageSelectionAnimationEnded = false\n\t\t\t} else {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.messageSelectionAnimationEnded = true\n\t\t\t\t}, 300)\n\t\t\t}\n\t\t}\n\t},\n\n\tmethods: {\n\t\tmenuActionHandler(action) {\n\t\t\tthis.closeMenu()\n\t\t\tthis.$emit('menu-action-handler', action)\n\t\t},\n\t\tcloseMenu() {\n\t\t\tthis.menuOpened = false\n\t\t},\n\t\tmessageSelectionActionHandler(action) {\n\t\t\tthis.$emit('message-selection-action-handler', action)\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomHeader.vue?vue&type=template&id=938fbc28&\"\nimport script from \"./RoomHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomHeader.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(Object.keys(_vm.room).length && _vm.showFooter),expression:\"Object.keys(room).length && showFooter\"}],staticClass:\"vac-room-footer\",class:{\n\t\t'vac-app-box-shadow': _vm.shadowFooter\n\t},attrs:{\"id\":\"room-footer\"}},[_c('room-emojis',{attrs:{\"filtered-emojis\":_vm.filteredEmojis,\"select-item\":_vm.selectEmojiItem,\"active-up-or-down\":_vm.activeUpOrDownEmojis},on:{\"select-emoji\":function($event){return _vm.selectEmoji($event)},\"activate-item\":function($event){_vm.activeUpOrDownEmojis = 0}}}),_c('room-users-tag',{attrs:{\"filtered-users-tag\":_vm.filteredUsersTag,\"select-item\":_vm.selectUsersTagItem,\"active-up-or-down\":_vm.activeUpOrDownUsersTag},on:{\"select-user-tag\":function($event){return _vm.selectUserTag($event)},\"activate-item\":function($event){_vm.activeUpOrDownUsersTag = 0}}}),_c('room-templates-text',{attrs:{\"filtered-templates-text\":_vm.filteredTemplatesText,\"select-item\":_vm.selectTemplatesTextItem,\"active-up-or-down\":_vm.activeUpOrDownTemplatesText},on:{\"select-template-text\":function($event){return _vm.selectTemplateText($event)},\"activate-item\":function($event){_vm.activeUpOrDownTemplatesText = 0}}}),_c('room-message-reply',{attrs:{\"room\":_vm.room,\"message-reply\":_vm.messageReply,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions},on:{\"reset-message\":_vm.resetMessage},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)}),_c('room-files',{attrs:{\"files\":_vm.files},on:{\"remove-file\":_vm.removeFile,\"reset-message\":_vm.resetMessage},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)}),_c('div',{staticClass:\"vac-box-footer\",class:{ 'vac-box-footer-border': !_vm.files.length }},[(_vm.showAudio && !_vm.files.length)?_c('div',{staticClass:\"vac-icon-textarea-left\"},[(_vm.isRecording)?[_c('div',{staticClass:\"vac-svg-button vac-icon-audio-stop\",on:{\"click\":_vm.stopRecorder}},[_vm._t(\"audio-stop-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"close-outline\"}})]})],2),_c('div',{staticClass:\"vac-dot-audio-record\"}),_c('div',{staticClass:\"vac-dot-audio-record-time\"},[_vm._v(\" \"+_vm._s(_vm.recordedTime)+\" \")]),_c('div',{staticClass:\"vac-svg-button vac-icon-audio-confirm\",on:{\"click\":function($event){return _vm.toggleRecorder(false)}}},[_vm._t(\"audio-stop-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"checkmark\"}})]})],2)]:_c('div',{staticClass:\"vac-svg-button\",on:{\"click\":function($event){return _vm.toggleRecorder(true)}}},[_vm._t(\"microphone-icon\",function(){return [_c('svg-icon',{staticClass:\"vac-icon-microphone\",attrs:{\"name\":\"microphone\"}})]})],2)],2):_vm._e(),_c('textarea',{ref:\"roomTextarea\",staticClass:\"vac-textarea\",class:{\n\t\t\t\t'vac-textarea-outline': _vm.editedMessage._id\n\t\t\t},style:({\n\t\t\t\t'min-height': \"20px\",\n\t\t\t\t'padding-left': \"12px\"\n\t\t\t}),attrs:{\"id\":\"roomTextarea\",\"placeholder\":_vm.textMessages.TYPE_MESSAGE},on:{\"input\":_vm.onChangeInput,\"keydown\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.escapeTextarea.apply(null, arguments)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }$event.preventDefault();return _vm.selectItem.apply(null, arguments)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"tab\",9,$event.key,\"Tab\")){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }$event.preventDefault();},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"tab\",9,$event.key,\"Tab\")){ return null; }return _vm.selectItem.apply(null, arguments)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"up\",38,$event.key,[\"Up\",\"ArrowUp\"])){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }$event.preventDefault();},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"up\",38,$event.key,[\"Up\",\"ArrowUp\"])){ return null; }return _vm.updateActiveUpOrDown(-1)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"down\",40,$event.key,[\"Down\",\"ArrowDown\"])){ return null; }if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }$event.preventDefault();},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"down\",40,$event.key,[\"Down\",\"ArrowDown\"])){ return null; }return _vm.updateActiveUpOrDown(1)}],\"paste\":_vm.onPasteImage}}),_c('div',{staticClass:\"vac-icon-textarea\"},[(_vm.editedMessage._id)?_c('div',{staticClass:\"vac-svg-button\",on:{\"click\":_vm.resetMessage}},[_vm._t(\"edit-close-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"close-outline\"}})]})],2):_vm._e(),(_vm.showEmojis)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(function () { return (_vm.emojiOpened = false); }),expression:\"() => (emojiOpened = false)\"}]},[_vm._t(\"emoji-picker\",function(){return [_c('emoji-picker-container',{attrs:{\"emoji-opened\":_vm.emojiOpened,\"position-top\":true},on:{\"add-emoji\":_vm.addEmoji,\"open-emoji\":function($event){_vm.emojiOpened = $event}},scopedSlots:_vm._u([{key:\"emoji-picker-icon\",fn:function(){return [_vm._t(\"emoji-picker-icon\")]},proxy:true}],null,true)})]},{\"addEmoji\":_vm.addEmoji},{ emojiOpened: _vm.emojiOpened })],2):_vm._e(),(_vm.showFiles)?_c('div',{staticClass:\"vac-svg-button\",on:{\"click\":_vm.launchFilePicker}},[_vm._t(\"paperclip-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"paperclip\"}})]})],2):_vm._e(),(_vm.textareaActionEnabled)?_c('div',{staticClass:\"vac-svg-button\",on:{\"click\":_vm.textareaActionHandler}},[_vm._t(\"custom-action-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"deleted\"}})]})],2):_vm._e(),(_vm.showFiles)?_c('input',{ref:\"file\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"multiple\":\"\",\"accept\":_vm.acceptedFiles},on:{\"change\":function($event){return _vm.onFileChange($event.target.files)}}}):_vm._e(),(_vm.showSendIcon)?_c('div',{staticClass:\"vac-svg-button\",class:{ 'vac-send-disabled': _vm.isMessageEmpty },on:{\"click\":_vm.sendMessage}},[_vm._t(\"send-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"send\",\"param\":_vm.isMessageEmpty || _vm.isFileLoading ? 'disabled' : ''}})]})],2):_vm._e()])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vac-emoji-wrapper\"},[_c('div',{staticClass:\"vac-svg-button\",class:{ 'vac-emoji-reaction': _vm.emojiReaction },on:{\"click\":_vm.openEmoji}},[_vm._t(\"emoji-picker-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"emoji\",\"param\":_vm.emojiReaction ? 'reaction' : ''}})]})],2),(_vm.emojiOpened)?[_c('transition',{attrs:{\"name\":\"vac-slide-up\",\"appear\":\"\"}},[_c('div',{staticClass:\"vac-emoji-picker\",class:{ 'vac-picker-reaction': _vm.emojiReaction },style:({\n\t\t\t\t\theight: (_vm.emojiPickerHeight + \"px\"),\n\t\t\t\t\ttop: _vm.positionTop ? _vm.emojiPickerHeight : (_vm.emojiPickerTop + \"px\"),\n\t\t\t\t\tright: _vm.emojiPickerRight,\n\t\t\t\t\tdisplay: _vm.emojiPickerTop || !_vm.emojiReaction ? 'initial' : 'none'\n\t\t\t\t})},[(_vm.emojiOpened)?_c('emoji-picker',{ref:\"emojiPicker\"}):_vm._e()],1)])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"vac-emoji-wrapper\">\n\t\t<div\n\t\t\tclass=\"vac-svg-button\"\n\t\t\t:class=\"{ 'vac-emoji-reaction': emojiReaction }\"\n\t\t\t@click=\"openEmoji\"\n\t\t>\n\t\t\t<slot name=\"emoji-picker-icon\">\n\t\t\t\t<svg-icon name=\"emoji\" :param=\"emojiReaction ? 'reaction' : ''\" />\n\t\t\t</slot>\n\t\t</div>\n\n\t\t<template v-if=\"emojiOpened\">\n\t\t\t<transition name=\"vac-slide-up\" appear>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"vac-emoji-picker\"\n\t\t\t\t\t:class=\"{ 'vac-picker-reaction': emojiReaction }\"\n\t\t\t\t\t:style=\"{\n\t\t\t\t\t\theight: `${emojiPickerHeight}px`,\n\t\t\t\t\t\ttop: positionTop ? emojiPickerHeight : `${emojiPickerTop}px`,\n\t\t\t\t\t\tright: emojiPickerRight,\n\t\t\t\t\t\tdisplay: emojiPickerTop || !emojiReaction ? 'initial' : 'none'\n\t\t\t\t\t}\"\n\t\t\t\t>\n\t\t\t\t\t<emoji-picker v-if=\"emojiOpened\" ref=\"emojiPicker\" />\n\t\t\t\t</div>\n\t\t\t</transition>\n\t\t</template>\n\t</div>\n</template>\n\n<script>\nimport SvgIcon from '../SvgIcon/SvgIcon'\n\nexport default {\n\tname: 'EmojiPickerContainer',\n\tcomponents: {\n\t\tSvgIcon\n\t},\n\n\tprops: {\n\t\temojiOpened: { type: Boolean, default: false },\n\t\temojiReaction: { type: Boolean, default: false },\n\t\tpositionTop: { type: Boolean, default: false },\n\t\tpositionRight: { type: Boolean, default: false }\n\t},\n\n\temits: ['add-emoji', 'open-emoji'],\n\n\tdata() {\n\t\treturn {\n\t\t\temojiPickerHeight: 320,\n\t\t\temojiPickerTop: 0,\n\t\t\temojiPickerRight: ''\n\t\t}\n\t},\n\n\twatch: {\n\t\temojiOpened(val) {\n\t\t\tif (val) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.addCustomStyling()\n\n\t\t\t\t\tthis.$refs.emojiPicker.shadowRoot.addEventListener(\n\t\t\t\t\t\t'emoji-click',\n\t\t\t\t\t\t({ detail }) => {\n\t\t\t\t\t\t\tthis.$emit('add-emoji', {\n\t\t\t\t\t\t\t\tunicode: detail.unicode\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t}, 0)\n\t\t\t}\n\t\t}\n\t},\n\n\tmethods: {\n\t\taddCustomStyling() {\n\t\t\tconst picker = `.picker {\n\t\t\t\tborder: none;\n\t\t\t}`\n\n\t\t\tconst nav = `.nav {\n\t\t\t\toverflow-x: auto;\n\t\t\t}`\n\n\t\t\tconst searchBox = `.search-wrapper {\n\t\t\t\tpadding-right: 2px;\n\t\t\t\tpadding-left: 2px;\n\t\t\t}`\n\n\t\t\tconst search = `input.search {\n\t\t\t\theight: 32px;\n\t\t\t\tfont-size: 14px;\n\t\t\t\tborder-radius: 10rem;\n\t\t\t\tborder: var(--chat-border-style);\n\t\t\t\tpadding: 5px 10px;\n\t\t\t\toutline: none;\n\t\t\t\tbackground: var(--chat-bg-color-input);\n\t\t\t\tcolor: var(--chat-color);\n\t\t\t}`\n\n\t\t\tconst style = document.createElement('style')\n\t\t\tstyle.textContent = picker + nav + searchBox + search\n\t\t\tthis.$refs.emojiPicker.shadowRoot.appendChild(style)\n\t\t},\n\t\topenEmoji(ev) {\n\t\t\tthis.$emit('open-emoji', !this.emojiOpened)\n\t\t\tthis.setEmojiPickerPosition(\n\t\t\t\tev.clientY,\n\t\t\t\tev.view.innerWidth,\n\t\t\t\tev.view.innerHeight\n\t\t\t)\n\t\t},\n\t\tsetEmojiPickerPosition(clientY, innerWidth, innerHeight) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst mobileSize = innerWidth < 500 || innerHeight < 700\n\t\t\t\tconst roomFooterRef = document.getElementById('room-footer')\n\n\t\t\t\tif (!roomFooterRef) {\n\t\t\t\t\tif (mobileSize) this.emojiPickerRight = '-50px'\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tif (mobileSize) {\n\t\t\t\t\tthis.emojiPickerRight = innerWidth / 2 - 150 + 'px'\n\t\t\t\t\tthis.emojiPickerTop = 100\n\t\t\t\t\tthis.emojiPickerHeight = innerHeight - 200\n\t\t\t\t} else {\n\t\t\t\t\tconst roomFooterTop = roomFooterRef.getBoundingClientRect().top\n\t\t\t\t\tconst pickerTopPosition =\n\t\t\t\t\t\troomFooterTop - clientY > this.emojiPickerHeight - 50\n\n\t\t\t\t\tif (pickerTopPosition) this.emojiPickerTop = clientY + 10\n\t\t\t\t\telse this.emojiPickerTop = clientY - this.emojiPickerHeight - 10\n\n\t\t\t\t\tthis.emojiPickerRight = this.positionTop\n\t\t\t\t\t\t? '-50px'\n\t\t\t\t\t\t: this.positionRight\n\t\t\t\t\t\t? '60px'\n\t\t\t\t\t\t: ''\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiPickerContainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./EmojiPickerContainer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EmojiPickerContainer.vue?vue&type=template&id=4b3cfd82&\"\nimport script from \"./EmojiPickerContainer.vue?vue&type=script&lang=js&\"\nexport * from \"./EmojiPickerContainer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"vac-slide-up\"}},[(_vm.files.length)?_c('div',{staticClass:\"vac-room-files-container\",style:({ bottom: (_vm.footerHeight + \"px\") })},[_c('div',{staticClass:\"vac-files-box\"},_vm._l((_vm.files),function(file,i){return _c('div',{key:i},[_c('room-file',{attrs:{\"file\":file,\"index\":i},on:{\"remove-file\":function($event){return _vm.$emit('remove-file', $event)}}})],1)}),0),_c('div',{staticClass:\"vac-icon-close\"},[_c('div',{staticClass:\"vac-svg-button\",on:{\"click\":function($event){return _vm.$emit('reset-message')}}},[_vm._t(\"reply-close-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"close-outline\"}})]})],2)])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vac-room-file-container\"},[_c('loader',{attrs:{\"show\":_vm.file.loading},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(idx,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)}),_c('div',{staticClass:\"vac-svg-button vac-icon-remove\",on:{\"click\":function($event){return _vm.$emit('remove-file', _vm.index)}}},[_vm._t(\"image-close-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"close\",\"param\":\"image\"}})]})],2),(_vm.isImage)?_c('div',{staticClass:\"vac-message-image\",class:{ 'vac-blur-loading': _vm.file.loading },style:({\n\t\t\t'background-image': (\"url('\" + (_vm.file.localUrl || _vm.file.url) + \"')\")\n\t\t})}):(_vm.isVideo)?_c('video',{class:{ 'vac-blur-loading': _vm.file.loading },attrs:{\"controls\":\"\"}},[_c('source',{attrs:{\"src\":_vm.file.localUrl || _vm.file.url}})]):_c('div',{staticClass:\"vac-file-container\",class:{ 'vac-blur-loading': _vm.file.loading }},[_c('div',[_vm._t(\"file-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"file\"}})]})],2),_c('div',{staticClass:\"vac-text-ellipsis\"},[_vm._v(\" \"+_vm._s(_vm.file.name)+\" \")]),(_vm.file.extension)?_c('div',{staticClass:\"vac-text-ellipsis vac-text-extension\"},[_vm._v(\" \"+_vm._s(_vm.file.extension)+\" \")]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"vac-room-file-container\">\n\t\t<loader :show=\"file.loading\">\n\t\t\t<template v-for=\"(idx, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t</template>\n\t\t</loader>\n\n\t\t<div\n\t\t\tclass=\"vac-svg-button vac-icon-remove\"\n\t\t\t@click=\"$emit('remove-file', index)\"\n\t\t>\n\t\t\t<slot name=\"image-close-icon\">\n\t\t\t\t<svg-icon name=\"close\" param=\"image\" />\n\t\t\t</slot>\n\t\t</div>\n\n\t\t<div\n\t\t\tv-if=\"isImage\"\n\t\t\tclass=\"vac-message-image\"\n\t\t\t:class=\"{ 'vac-blur-loading': file.loading }\"\n\t\t\t:style=\"{\n\t\t\t\t'background-image': `url('${file.localUrl || file.url}')`\n\t\t\t}\"\n\t\t/>\n\n\t\t<video\n\t\t\tv-else-if=\"isVideo\"\n\t\t\tcontrols\n\t\t\t:class=\"{ 'vac-blur-loading': file.loading }\"\n\t\t>\n\t\t\t<source :src=\"file.localUrl || file.url\" />\n\t\t</video>\n\n\t\t<div\n\t\t\tv-else\n\t\t\tclass=\"vac-file-container\"\n\t\t\t:class=\"{ 'vac-blur-loading': file.loading }\"\n\t\t>\n\t\t\t<div>\n\t\t\t\t<slot name=\"file-icon\">\n\t\t\t\t\t<svg-icon name=\"file\" />\n\t\t\t\t</slot>\n\t\t\t</div>\n\t\t\t<div class=\"vac-text-ellipsis\">\n\t\t\t\t{{ file.name }}\n\t\t\t</div>\n\t\t\t<div v-if=\"file.extension\" class=\"vac-text-ellipsis vac-text-extension\">\n\t\t\t\t{{ file.extension }}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport Loader from '../../../../../components/Loader/Loader'\nimport SvgIcon from '../../../../../components/SvgIcon/SvgIcon'\n\nconst { isImageFile, isVideoFile } = require('../../../../../utils/media-file')\n\nexport default {\n\tname: 'RoomFiles',\n\tcomponents: {\n\t\tLoader,\n\t\tSvgIcon\n\t},\n\n\tprops: {\n\t\tfile: { type: Object, required: true },\n\t\tindex: { type: Number, required: true }\n\t},\n\n\temits: ['remove-file'],\n\n\tcomputed: {\n\t\tisImage() {\n\t\t\treturn isImageFile(this.file)\n\t\t},\n\t\tisVideo() {\n\t\t\treturn isVideoFile(this.file)\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomFile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomFile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomFile.vue?vue&type=template&id=c0a62836&\"\nimport script from \"./RoomFile.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomFile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<transition name=\"vac-slide-up\">\n\t\t<div\n\t\t\tv-if=\"files.length\"\n\t\t\tclass=\"vac-room-files-container\"\n\t\t\t:style=\"{ bottom: `${footerHeight}px` }\"\n\t\t>\n\t\t\t<div class=\"vac-files-box\">\n\t\t\t\t<div v-for=\"(file, i) in files\" :key=\"i\">\n\t\t\t\t\t<room-file\n\t\t\t\t\t\t:file=\"file\"\n\t\t\t\t\t\t:index=\"i\"\n\t\t\t\t\t\t@remove-file=\"$emit('remove-file', $event)\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"vac-icon-close\">\n\t\t\t\t<div class=\"vac-svg-button\" @click=\"$emit('reset-message')\">\n\t\t\t\t\t<slot name=\"reply-close-icon\">\n\t\t\t\t\t\t<svg-icon name=\"close-outline\" />\n\t\t\t\t\t</slot>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</transition>\n</template>\n\n<script>\nimport SvgIcon from '../../../../components/SvgIcon/SvgIcon'\n\nimport RoomFile from './RoomFile/RoomFile'\n\nexport default {\n\tname: 'RoomFiles',\n\tcomponents: {\n\t\tSvgIcon,\n\t\tRoomFile\n\t},\n\n\tprops: {\n\t\tfiles: { type: Array, required: true }\n\t},\n\n\temits: ['remove-file', 'reset-message'],\n\n\tcomputed: {\n\t\tfooterHeight() {\n\t\t\treturn document.getElementById('room-footer').clientHeight\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomFiles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomFiles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomFiles.vue?vue&type=template&id=60413016&\"\nimport script from \"./RoomFiles.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomFiles.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"vac-slide-up\"}},[(_vm.messageReply)?_c('div',{staticClass:\"vac-reply-container\",style:({ bottom: (_vm.footerHeight + \"px\") })},[_c('div',{staticClass:\"vac-reply-box\"},[_c('div',{staticClass:\"vac-reply-info\"},[_c('div',{staticClass:\"vac-reply-username\"},[_vm._v(\" \"+_vm._s(_vm.messageReply.username)+\" \")]),_c('div',{staticClass:\"vac-reply-content\"},[_c('format-message',{attrs:{\"content\":_vm.messageReply.content,\"users\":_vm.room.users,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions,\"reply\":true},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})],1)]),(_vm.isImage)?_c('img',{staticClass:\"vac-image-reply\",attrs:{\"src\":_vm.firstFile.url}}):(_vm.isVideo)?_c('video',{staticClass:\"vac-image-reply\",attrs:{\"controls\":\"\"}},[_c('source',{attrs:{\"src\":_vm.firstFile.url}})]):(_vm.isAudio)?_c('audio-player',{staticClass:\"vac-audio-reply\",attrs:{\"src\":_vm.firstFile.url},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)}):(_vm.isOtherFile)?_c('div',{staticClass:\"vac-image-reply vac-file-container\"},[_c('div',[_vm._t(\"file-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"file\"}})]})],2),_c('div',{staticClass:\"vac-text-ellipsis\"},[_vm._v(\" \"+_vm._s(_vm.firstFile.name)+\" \")]),(_vm.firstFile.extension)?_c('div',{staticClass:\"vac-text-ellipsis vac-text-extension\"},[_vm._v(\" \"+_vm._s(_vm.firstFile.extension)+\" \")]):_vm._e()]):_vm._e()],1),_c('div',{staticClass:\"vac-icon-reply\"},[_c('div',{staticClass:\"vac-svg-button\",on:{\"click\":function($event){return _vm.$emit('reset-message')}}},[_vm._t(\"reply-close-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"close-outline\"}})]})],2)])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"vac-audio-player\"},[_c('div',{staticClass:\"vac-svg-button\",on:{\"click\":_vm.playback}},[(_vm.isPlaying)?_vm._t(\"audio-pause-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"audio-pause\"}})]}):_vm._t(\"audio-play-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"audio-play\"}})]})],2),_c('audio-control',{attrs:{\"percentage\":_vm.progress,\"message-selection-enabled\":_vm.messageSelectionEnabled},on:{\"change-linehead\":_vm.onUpdateProgress,\"hover-audio-progress\":function($event){return _vm.$emit('hover-audio-progress', $event)}}}),_c('audio',{attrs:{\"id\":_vm.playerUniqId,\"src\":_vm.audioSource}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"progress\",staticClass:\"vac-player-bar\",on:{\"mousedown\":_vm.onMouseDown,\"mouseover\":function($event){return _vm.$emit('hover-audio-progress', true)},\"mouseout\":function($event){return _vm.$emit('hover-audio-progress', false)}}},[_c('div',{staticClass:\"vac-player-progress\"},[_c('div',{staticClass:\"vac-line-container\"},[_c('div',{staticClass:\"vac-line-progress\",style:({ width: (_vm.percentage + \"%\") })}),_c('div',{staticClass:\"vac-line-dot\",class:{ 'vac-line-dot__active': _vm.isMouseDown },style:({ left: (_vm.percentage + \"%\") })})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div\n\t\tref=\"progress\"\n\t\tclass=\"vac-player-bar\"\n\t\t@mousedown=\"onMouseDown\"\n\t\t@mouseover=\"$emit('hover-audio-progress', true)\"\n\t\t@mouseout=\"$emit('hover-audio-progress', false)\"\n\t>\n\t\t<div class=\"vac-player-progress\">\n\t\t\t<div class=\"vac-line-container\">\n\t\t\t\t<div class=\"vac-line-progress\" :style=\"{ width: `${percentage}%` }\" />\n\t\t\t\t<div\n\t\t\t\t\tclass=\"vac-line-dot\"\n\t\t\t\t\t:class=\"{ 'vac-line-dot__active': isMouseDown }\"\n\t\t\t\t\t:style=\"{ left: `${percentage}%` }\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tprops: {\n\t\tpercentage: { type: Number, default: 0 },\n\t\tmessageSelectionEnabled: { type: Boolean, required: true }\n\t},\n\n\temits: ['hover-audio-progress', 'change-linehead'],\n\n\tdata() {\n\t\treturn {\n\t\t\tisMouseDown: false\n\t\t}\n\t},\n\n\tmethods: {\n\t\tonMouseDown(ev) {\n\t\t\tif (this.messageSelectionEnabled) return\n\n\t\t\tthis.isMouseDown = true\n\t\t\tconst seekPos = this.calculateLineHeadPosition(ev, this.$refs.progress)\n\t\t\tthis.$emit('change-linehead', seekPos)\n\t\t\tdocument.addEventListener('mousemove', this.onMouseMove)\n\t\t\tdocument.addEventListener('mouseup', this.onMouseUp)\n\t\t},\n\t\tonMouseUp(ev) {\n\t\t\tif (this.messageSelectionEnabled) return\n\n\t\t\tthis.isMouseDown = false\n\t\t\tdocument.removeEventListener('mouseup', this.onMouseUp)\n\t\t\tdocument.removeEventListener('mousemove', this.onMouseMove)\n\t\t\tconst seekPos = this.calculateLineHeadPosition(ev, this.$refs.progress)\n\t\t\tthis.$emit('change-linehead', seekPos)\n\t\t},\n\t\tonMouseMove(ev) {\n\t\t\tif (this.messageSelectionEnabled) return\n\n\t\t\tconst seekPos = this.calculateLineHeadPosition(ev, this.$refs.progress)\n\t\t\tthis.$emit('change-linehead', seekPos)\n\t\t},\n\t\tcalculateLineHeadPosition(ev, element) {\n\t\t\tconst progressWidth = element.getBoundingClientRect().width\n\t\t\tconst leftPosition = element.getBoundingClientRect().left\n\t\t\tlet pos = (ev.clientX - leftPosition) / progressWidth\n\n\t\t\tpos = pos < 0 ? 0 : pos\n\t\t\tpos = pos > 1 ? 1 : pos\n\n\t\t\treturn pos\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AudioControl.vue?vue&type=template&id=1721db79&\"\nimport script from \"./AudioControl.vue?vue&type=script&lang=js&\"\nexport * from \"./AudioControl.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div>\n\t\t<div class=\"vac-audio-player\">\n\t\t\t<div class=\"vac-svg-button\" @click=\"playback\">\n\t\t\t\t<slot v-if=\"isPlaying\" name=\"audio-pause-icon\">\n\t\t\t\t\t<svg-icon name=\"audio-pause\" />\n\t\t\t\t</slot>\n\t\t\t\t<slot v-else name=\"audio-play-icon\">\n\t\t\t\t\t<svg-icon name=\"audio-play\" />\n\t\t\t\t</slot>\n\t\t\t</div>\n\t\t\t<audio-control\n\t\t\t\t:percentage=\"progress\"\n\t\t\t\t:message-selection-enabled=\"messageSelectionEnabled\"\n\t\t\t\t@change-linehead=\"onUpdateProgress\"\n\t\t\t\t@hover-audio-progress=\"$emit('hover-audio-progress', $event)\"\n\t\t\t/>\n\n\t\t\t<audio :id=\"playerUniqId\" :src=\"audioSource\" />\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport SvgIcon from '../../../../components/SvgIcon/SvgIcon'\n\nimport AudioControl from './AudioControl/AudioControl'\n\nexport default {\n\tname: 'AudioPlayer',\n\tcomponents: {\n\t\tSvgIcon,\n\t\tAudioControl\n\t},\n\n\tprops: {\n\t\tmessageId: { type: [String, Number], default: null },\n\t\tsrc: { type: String, default: null },\n\t\tmessageSelectionEnabled: { type: Boolean, required: true }\n\t},\n\n\temits: ['hover-audio-progress', 'update-progress-time'],\n\n\tdata() {\n\t\treturn {\n\t\t\tisPlaying: false,\n\t\t\tduration: this.convertTimeMMSS(0),\n\t\t\tplayedTime: this.convertTimeMMSS(0),\n\t\t\tprogress: 0\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tplayerUniqId() {\n\t\t\treturn `audio-player${this.messageId}`\n\t\t},\n\t\taudioSource() {\n\t\t\tif (this.src) return this.src\n\t\t\tthis.resetProgress()\n\t\t\treturn null\n\t\t}\n\t},\n\n\tmounted() {\n\t\tthis.player = document.getElementById(this.playerUniqId)\n\n\t\tthis.player.addEventListener('ended', () => {\n\t\t\tthis.isPlaying = false\n\t\t})\n\n\t\tthis.player.addEventListener('loadeddata', () => {\n\t\t\tthis.resetProgress()\n\t\t\tthis.duration = this.convertTimeMMSS(this.player.duration)\n\t\t\tthis.updateProgressTime()\n\t\t})\n\n\t\tthis.player.addEventListener('timeupdate', this.onTimeUpdate)\n\t},\n\n\tmethods: {\n\t\tconvertTimeMMSS(seconds) {\n\t\t\treturn new Date(seconds * 1000).toISOString().substr(14, 5)\n\t\t},\n\t\tplayback() {\n\t\t\tif (this.messageSelectionEnabled || !this.audioSource) return\n\n\t\t\tif (this.isPlaying) this.player.pause()\n\t\t\telse setTimeout(() => this.player.play())\n\n\t\t\tthis.isPlaying = !this.isPlaying\n\t\t},\n\t\tresetProgress() {\n\t\t\tif (this.isPlaying) this.player.pause()\n\n\t\t\tthis.duration = this.convertTimeMMSS(0)\n\t\t\tthis.playedTime = this.convertTimeMMSS(0)\n\t\t\tthis.progress = 0\n\t\t\tthis.isPlaying = false\n\t\t\tthis.updateProgressTime()\n\t\t},\n\t\tonTimeUpdate() {\n\t\t\tthis.playedTime = this.convertTimeMMSS(this.player.currentTime)\n\t\t\tthis.progress = (this.player.currentTime / this.player.duration) * 100\n\t\t\tthis.updateProgressTime()\n\t\t},\n\t\tonUpdateProgress(pos) {\n\t\t\tif (pos) this.player.currentTime = pos * this.player.duration\n\t\t},\n\t\tupdateProgressTime() {\n\t\t\tthis.$emit(\n\t\t\t\t'update-progress-time',\n\t\t\t\tthis.progress > 1 ? this.playedTime : this.duration\n\t\t\t)\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioPlayer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./AudioPlayer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AudioPlayer.vue?vue&type=template&id=d8b85268&\"\nimport script from \"./AudioPlayer.vue?vue&type=script&lang=js&\"\nexport * from \"./AudioPlayer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<transition name=\"vac-slide-up\">\n\t\t<div\n\t\t\tv-if=\"messageReply\"\n\t\t\tclass=\"vac-reply-container\"\n\t\t\t:style=\"{ bottom: `${footerHeight}px` }\"\n\t\t>\n\t\t\t<div class=\"vac-reply-box\">\n\t\t\t\t<div class=\"vac-reply-info\">\n\t\t\t\t\t<div class=\"vac-reply-username\">\n\t\t\t\t\t\t{{ messageReply.username }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"vac-reply-content\">\n\t\t\t\t\t\t<format-message\n\t\t\t\t\t\t\t:content=\"messageReply.content\"\n\t\t\t\t\t\t\t:users=\"room.users\"\n\t\t\t\t\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t\t\t\t\t:link-options=\"linkOptions\"\n\t\t\t\t\t\t\t:reply=\"true\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</format-message>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<img v-if=\"isImage\" :src=\"firstFile.url\" class=\"vac-image-reply\" />\n\n\t\t\t\t<video v-else-if=\"isVideo\" controls class=\"vac-image-reply\">\n\t\t\t\t\t<source :src=\"firstFile.url\" />\n\t\t\t\t</video>\n\n\t\t\t\t<audio-player\n\t\t\t\t\tv-else-if=\"isAudio\"\n\t\t\t\t\t:src=\"firstFile.url\"\n\t\t\t\t\tclass=\"vac-audio-reply\"\n\t\t\t\t>\n\t\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t\t</template>\n\t\t\t\t</audio-player>\n\n\t\t\t\t<div v-else-if=\"isOtherFile\" class=\"vac-image-reply vac-file-container\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<slot name=\"file-icon\">\n\t\t\t\t\t\t\t<svg-icon name=\"file\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"vac-text-ellipsis\">\n\t\t\t\t\t\t{{ firstFile.name }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"firstFile.extension\"\n\t\t\t\t\t\tclass=\"vac-text-ellipsis vac-text-extension\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ firstFile.extension }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"vac-icon-reply\">\n\t\t\t\t<div class=\"vac-svg-button\" @click=\"$emit('reset-message')\">\n\t\t\t\t\t<slot name=\"reply-close-icon\">\n\t\t\t\t\t\t<svg-icon name=\"close-outline\" />\n\t\t\t\t\t</slot>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</transition>\n</template>\n\n<script>\nimport SvgIcon from '../../../../components/SvgIcon/SvgIcon'\nimport FormatMessage from '../../../../components/FormatMessage/FormatMessage'\n\nimport AudioPlayer from '../../RoomMessage/AudioPlayer/AudioPlayer'\n\nconst {\n\tisAudioFile,\n\tisImageFile,\n\tisVideoFile\n} = require('../../../../utils/media-file')\n\nexport default {\n\tname: 'RoomMessageReply',\n\tcomponents: {\n\t\tSvgIcon,\n\t\tFormatMessage,\n\t\tAudioPlayer\n\t},\n\n\tprops: {\n\t\troom: { type: Object, required: true },\n\t\tmessageReply: { type: Object, default: null },\n\t\ttextFormatting: { type: Object, required: true },\n\t\tlinkOptions: { type: Object, required: true }\n\t},\n\n\temits: ['reset-message'],\n\n\tcomputed: {\n\t\tfooterHeight() {\n\t\t\treturn document.getElementById('room-footer').clientHeight\n\t\t},\n\t\tfirstFile() {\n\t\t\treturn this.messageReply?.files?.length ? this.messageReply.files[0] : {}\n\t\t},\n\t\tisImage() {\n\t\t\treturn isImageFile(this.firstFile)\n\t\t},\n\t\tisVideo() {\n\t\t\treturn isVideoFile(this.firstFile)\n\t\t},\n\t\tisAudio() {\n\t\t\treturn isAudioFile(this.firstFile)\n\t\t},\n\t\tisOtherFile() {\n\t\t\treturn (\n\t\t\t\tthis.messageReply?.files?.length &&\n\t\t\t\t!this.isAudio &&\n\t\t\t\t!this.isVideo &&\n\t\t\t\t!this.isImage\n\t\t\t)\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomMessageReply.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomMessageReply.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomMessageReply.vue?vue&type=template&id=86b41b08&\"\nimport script from \"./RoomMessageReply.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomMessageReply.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"vac-slide-up\"}},[(_vm.filteredUsersTag.length)?_c('div',{staticClass:\"vac-tags-container\",style:({ bottom: (_vm.footerHeight + \"px\") })},_vm._l((_vm.filteredUsersTag),function(user,index){return _c('div',{key:user._id,staticClass:\"vac-tags-box\",class:{ 'vac-tags-box-active': index === _vm.activeItem },on:{\"mouseover\":function($event){_vm.activeItem = index},\"click\":function($event){return _vm.$emit('select-user-tag', user)}}},[_c('div',{staticClass:\"vac-tags-info\"},[(user.avatar)?_c('div',{staticClass:\"vac-avatar vac-tags-avatar\",style:({ 'background-image': (\"url('\" + (user.avatar) + \"')\") })}):_vm._e(),_c('div',{staticClass:\"vac-tags-username\"},[_vm._v(\" \"+_vm._s(user.username)+\" \")])])])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<transition name=\"vac-slide-up\">\n\t\t<div\n\t\t\tv-if=\"filteredUsersTag.length\"\n\t\t\tclass=\"vac-tags-container\"\n\t\t\t:style=\"{ bottom: `${footerHeight}px` }\"\n\t\t>\n\t\t\t<div\n\t\t\t\tv-for=\"(user, index) in filteredUsersTag\"\n\t\t\t\t:key=\"user._id\"\n\t\t\t\tclass=\"vac-tags-box\"\n\t\t\t\t:class=\"{ 'vac-tags-box-active': index === activeItem }\"\n\t\t\t\t@mouseover=\"activeItem = index\"\n\t\t\t\t@click=\"$emit('select-user-tag', user)\"\n\t\t\t>\n\t\t\t\t<div class=\"vac-tags-info\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"user.avatar\"\n\t\t\t\t\t\tclass=\"vac-avatar vac-tags-avatar\"\n\t\t\t\t\t\t:style=\"{ 'background-image': `url('${user.avatar}')` }\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div class=\"vac-tags-username\">\n\t\t\t\t\t\t{{ user.username }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</transition>\n</template>\n\n<script>\nexport default {\n\tname: 'RoomUsersTag',\n\n\tprops: {\n\t\tfilteredUsersTag: { type: Array, required: true },\n\t\tselectItem: { type: Boolean, default: null },\n\t\tactiveUpOrDown: { type: Number, default: null }\n\t},\n\n\temits: ['select-user-tag', 'activate-item'],\n\n\tdata() {\n\t\treturn {\n\t\t\tactiveItem: null\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tfooterHeight() {\n\t\t\treturn document.getElementById('room-footer').clientHeight\n\t\t}\n\t},\n\n\twatch: {\n\t\tfilteredUsersTag(val, oldVal) {\n\t\t\tif (!oldVal.length || val.length !== oldVal.length) {\n\t\t\t\tthis.activeItem = 0\n\t\t\t}\n\t\t},\n\t\tselectItem(val) {\n\t\t\tif (val) {\n\t\t\t\tthis.$emit('select-user-tag', this.filteredUsersTag[this.activeItem])\n\t\t\t}\n\t\t},\n\t\tactiveUpOrDown() {\n\t\t\tif (\n\t\t\t\tthis.activeUpOrDown > 0 &&\n\t\t\t\tthis.activeItem < this.filteredUsersTag.length - 1\n\t\t\t) {\n\t\t\t\tthis.activeItem++\n\t\t\t} else if (this.activeUpOrDown < 0 && this.activeItem > 0) {\n\t\t\t\tthis.activeItem--\n\t\t\t}\n\t\t\tthis.$emit('activate-item')\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomUsersTag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomUsersTag.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomUsersTag.vue?vue&type=template&id=082c6732&\"\nimport script from \"./RoomUsersTag.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomUsersTag.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"vac-slide-up\"}},[(_vm.filteredEmojis.length)?_c('div',{staticClass:\"vac-emojis-container\",style:({ bottom: (_vm.footerHeight + \"px\") })},_vm._l((_vm.filteredEmojis),function(emoji,index){return _c('div',{key:emoji,staticClass:\"vac-emoji-element\",class:{ 'vac-emoji-element-active': index === _vm.activeItem },on:{\"mouseover\":function($event){_vm.activeItem = index},\"click\":function($event){return _vm.$emit('select-emoji', emoji)}}},[_vm._v(\" \"+_vm._s(emoji)+\" \")])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<transition name=\"vac-slide-up\">\n\t\t<div\n\t\t\tv-if=\"filteredEmojis.length\"\n\t\t\tclass=\"vac-emojis-container\"\n\t\t\t:style=\"{ bottom: `${footerHeight}px` }\"\n\t\t>\n\t\t\t<div\n\t\t\t\tv-for=\"(emoji, index) in filteredEmojis\"\n\t\t\t\t:key=\"emoji\"\n\t\t\t\tclass=\"vac-emoji-element\"\n\t\t\t\t:class=\"{ 'vac-emoji-element-active': index === activeItem }\"\n\t\t\t\t@mouseover=\"activeItem = index\"\n\t\t\t\t@click=\"$emit('select-emoji', emoji)\"\n\t\t\t>\n\t\t\t\t{{ emoji }}\n\t\t\t</div>\n\t\t</div>\n\t</transition>\n</template>\n\n<script>\nexport default {\n\tname: 'RoomEmojis',\n\n\tprops: {\n\t\tfilteredEmojis: { type: Array, required: true },\n\t\tselectItem: { type: Boolean, default: null },\n\t\tactiveUpOrDown: { type: Number, default: null }\n\t},\n\n\temits: ['select-emoji', 'activate-item'],\n\n\tdata() {\n\t\treturn {\n\t\t\tactiveItem: null\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tfooterHeight() {\n\t\t\treturn document.getElementById('room-footer').clientHeight\n\t\t}\n\t},\n\n\twatch: {\n\t\tfilteredEmojis(val, oldVal) {\n\t\t\tif (!oldVal.length || val.length !== oldVal.length) {\n\t\t\t\tthis.activeItem = 0\n\t\t\t}\n\t\t},\n\t\tselectItem(val) {\n\t\t\tif (val) {\n\t\t\t\tthis.$emit('select-emoji', this.filteredEmojis[this.activeItem])\n\t\t\t}\n\t\t},\n\t\tactiveUpOrDown() {\n\t\t\tif (\n\t\t\t\tthis.activeUpOrDown > 0 &&\n\t\t\t\tthis.activeItem < this.filteredEmojis.length - 1\n\t\t\t) {\n\t\t\t\tthis.activeItem++\n\t\t\t} else if (this.activeUpOrDown < 0 && this.activeItem > 0) {\n\t\t\t\tthis.activeItem--\n\t\t\t}\n\t\t\tthis.$emit('activate-item')\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomEmojis.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomEmojis.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomEmojis.vue?vue&type=template&id=b6026542&\"\nimport script from \"./RoomEmojis.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomEmojis.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"vac-slide-up\"}},[(_vm.filteredTemplatesText.length)?_c('div',{staticClass:\"vac-template-container vac-app-box-shadow\",style:({ bottom: (_vm.footerHeight + \"px\") })},_vm._l((_vm.filteredTemplatesText),function(template,index){return _c('div',{key:index,staticClass:\"vac-template-box\",class:{ 'vac-template-active': index === _vm.activeItem },on:{\"mouseover\":function($event){_vm.activeItem = index},\"click\":function($event){return _vm.$emit('select-template-text', template)}}},[_c('div',{staticClass:\"vac-template-info\"},[_c('div',{staticClass:\"vac-template-tag\"},[_vm._v(\" /\"+_vm._s(template.tag)+\" \")]),_c('div',{staticClass:\"vac-template-text\"},[_vm._v(\" \"+_vm._s(template.text)+\" \")])])])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<transition name=\"vac-slide-up\">\n\t\t<div\n\t\t\tv-if=\"filteredTemplatesText.length\"\n\t\t\tclass=\"vac-template-container vac-app-box-shadow\"\n\t\t\t:style=\"{ bottom: `${footerHeight}px` }\"\n\t\t>\n\t\t\t<div\n\t\t\t\tv-for=\"(template, index) in filteredTemplatesText\"\n\t\t\t\t:key=\"index\"\n\t\t\t\tclass=\"vac-template-box\"\n\t\t\t\t:class=\"{ 'vac-template-active': index === activeItem }\"\n\t\t\t\t@mouseover=\"activeItem = index\"\n\t\t\t\t@click=\"$emit('select-template-text', template)\"\n\t\t\t>\n\t\t\t\t<div class=\"vac-template-info\">\n\t\t\t\t\t<div class=\"vac-template-tag\">\n\t\t\t\t\t\t/{{ template.tag }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"vac-template-text\">\n\t\t\t\t\t\t{{ template.text }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</transition>\n</template>\n\n<script>\nexport default {\n\tname: 'RoomTemplatesText',\n\n\tprops: {\n\t\tfilteredTemplatesText: { type: Array, required: true },\n\t\tselectItem: { type: Boolean, default: null },\n\t\tactiveUpOrDown: { type: Number, default: null }\n\t},\n\n\temits: ['select-template-text', 'activate-item'],\n\n\tdata() {\n\t\treturn {\n\t\t\tactiveItem: null\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tfooterHeight() {\n\t\t\treturn document.getElementById('room-footer').clientHeight\n\t\t}\n\t},\n\n\twatch: {\n\t\tfilteredTemplatesText(val, oldVal) {\n\t\t\tif (!oldVal.length || val.length !== oldVal.length) {\n\t\t\t\tthis.activeItem = 0\n\t\t\t}\n\t\t},\n\t\tselectItem(val) {\n\t\t\tif (val) {\n\t\t\t\tthis.$emit(\n\t\t\t\t\t'select-template-text',\n\t\t\t\t\tthis.filteredTemplatesText[this.activeItem]\n\t\t\t\t)\n\t\t\t}\n\t\t},\n\t\tactiveUpOrDown() {\n\t\t\tif (\n\t\t\t\tthis.activeUpOrDown > 0 &&\n\t\t\t\tthis.activeItem < this.filteredTemplatesText.length - 1\n\t\t\t) {\n\t\t\t\tthis.activeItem++\n\t\t\t} else if (this.activeUpOrDown < 0 && this.activeItem > 0) {\n\t\t\t\tthis.activeItem--\n\t\t\t}\n\t\t\tthis.$emit('activate-item')\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomTemplatesText.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomTemplatesText.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomTemplatesText.vue?vue&type=template&id=113f1c86&\"\nimport script from \"./RoomTemplatesText.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomTemplatesText.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Credits to https://github.com/grishkovelli/vue-audio-recorder\n\nimport Mp3Encoder from './mp3-encoder'\n\nexport default class {\n\tconstructor(options = {}) {\n\t\tthis.beforeRecording = options.beforeRecording\n\t\tthis.pauseRecording = options.pauseRecording\n\t\tthis.afterRecording = options.afterRecording\n\t\tthis.micFailed = options.micFailed\n\n\t\tthis.encoderOptions = {\n\t\t\tbitRate: options.bitRate,\n\t\t\tsampleRate: options.sampleRate\n\t\t}\n\n\t\tthis.bufferSize = 4096\n\t\tthis.records = []\n\n\t\tthis.isPause = false\n\t\tthis.isRecording = false\n\n\t\tthis.duration = 0\n\t\tthis.volume = 0\n\n\t\tthis._duration = 0\n\t}\n\n\tstart() {\n\t\tconst constraints = {\n\t\t\tvideo: false,\n\t\t\taudio: {\n\t\t\t\tchannelCount: 1,\n\t\t\t\techoCancellation: false\n\t\t\t}\n\t\t}\n\n\t\tthis.beforeRecording && this.beforeRecording('start recording')\n\n\t\tnavigator.mediaDevices\n\t\t\t.getUserMedia(constraints)\n\t\t\t.then(this._micCaptured.bind(this))\n\t\t\t.catch(this._micError.bind(this))\n\n\t\tthis.isPause = false\n\t\tthis.isRecording = true\n\n\t\tif (!this.lameEncoder) {\n\t\t\tthis.lameEncoder = new Mp3Encoder(this.encoderOptions)\n\t\t}\n\t}\n\n\tstop() {\n\t\tthis.stream.getTracks().forEach(track => track.stop())\n\t\tthis.input.disconnect()\n\t\tthis.processor.disconnect()\n\t\tthis.context.close()\n\n\t\tlet record = null\n\n\t\trecord = this.lameEncoder.finish()\n\n\t\trecord.duration = this.duration\n\t\tthis.records.push(record)\n\n\t\tthis._duration = 0\n\t\tthis.duration = 0\n\n\t\tthis.isPause = false\n\t\tthis.isRecording = false\n\n\t\tthis.afterRecording && this.afterRecording(record)\n\t}\n\n\tpause() {\n\t\tthis.stream.getTracks().forEach(track => track.stop())\n\t\tthis.input.disconnect()\n\t\tthis.processor.disconnect()\n\n\t\tthis._duration = this.duration\n\t\tthis.isPause = true\n\n\t\tthis.pauseRecording && this.pauseRecording('pause recording')\n\t}\n\n\t_micCaptured(stream) {\n\t\tthis.context = new (window.AudioContext || window.webkitAudioContext)()\n\t\tthis.duration = this._duration\n\t\tthis.input = this.context.createMediaStreamSource(stream)\n\t\tthis.processor = this.context.createScriptProcessor(this.bufferSize, 1, 1)\n\t\tthis.stream = stream\n\n\t\tthis.processor.onaudioprocess = ev => {\n\t\t\tconst sample = ev.inputBuffer.getChannelData(0)\n\t\t\tlet sum = 0.0\n\n\t\t\tif (this.lameEncoder) {\n\t\t\t\tthis.lameEncoder.encode(sample)\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < sample.length; ++i) {\n\t\t\t\tsum += sample[i] * sample[i]\n\t\t\t}\n\n\t\t\tthis.duration =\n\t\t\t\tparseFloat(this._duration) +\n\t\t\t\tparseFloat(this.context.currentTime.toFixed(2))\n\t\t\tthis.volume = Math.sqrt(sum / sample.length).toFixed(2)\n\t\t}\n\n\t\tthis.input.connect(this.processor)\n\t\tthis.processor.connect(this.context.destination)\n\t}\n\n\t_micError(error) {\n\t\tthis.micFailed && this.micFailed(error)\n\t}\n}\n","<template>\n\t<div\n\t\tv-show=\"Object.keys(room).length && showFooter\"\n\t\tid=\"room-footer\"\n\t\tclass=\"vac-room-footer\"\n\t\t:class=\"{\n\t\t\t'vac-app-box-shadow': shadowFooter\n\t\t}\"\n\t>\n\t\t<room-emojis\n\t\t\t:filtered-emojis=\"filteredEmojis\"\n\t\t\t:select-item=\"selectEmojiItem\"\n\t\t\t:active-up-or-down=\"activeUpOrDownEmojis\"\n\t\t\t@select-emoji=\"selectEmoji($event)\"\n\t\t\t@activate-item=\"activeUpOrDownEmojis = 0\"\n\t\t/>\n\n\t\t<room-users-tag\n\t\t\t:filtered-users-tag=\"filteredUsersTag\"\n\t\t\t:select-item=\"selectUsersTagItem\"\n\t\t\t:active-up-or-down=\"activeUpOrDownUsersTag\"\n\t\t\t@select-user-tag=\"selectUserTag($event)\"\n\t\t\t@activate-item=\"activeUpOrDownUsersTag = 0\"\n\t\t/>\n\n\t\t<room-templates-text\n\t\t\t:filtered-templates-text=\"filteredTemplatesText\"\n\t\t\t:select-item=\"selectTemplatesTextItem\"\n\t\t\t:active-up-or-down=\"activeUpOrDownTemplatesText\"\n\t\t\t@select-template-text=\"selectTemplateText($event)\"\n\t\t\t@activate-item=\"activeUpOrDownTemplatesText = 0\"\n\t\t/>\n\n\t\t<room-message-reply\n\t\t\t:room=\"room\"\n\t\t\t:message-reply=\"messageReply\"\n\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t:link-options=\"linkOptions\"\n\t\t\t@reset-message=\"resetMessage\"\n\t\t>\n\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t</template>\n\t\t</room-message-reply>\n\n\t\t<room-files\n\t\t\t:files=\"files\"\n\t\t\t@remove-file=\"removeFile\"\n\t\t\t@reset-message=\"resetMessage\"\n\t\t>\n\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t</template>\n\t\t</room-files>\n\n\t\t<div\n\t\t\tclass=\"vac-box-footer\"\n\t\t\t:class=\"{ 'vac-box-footer-border': !files.length }\"\n\t\t>\n\t\t\t<div v-if=\"showAudio && !files.length\" class=\"vac-icon-textarea-left\">\n\t\t\t\t<template v-if=\"isRecording\">\n\t\t\t\t\t<div class=\"vac-svg-button vac-icon-audio-stop\" @click=\"stopRecorder\">\n\t\t\t\t\t\t<slot name=\"audio-stop-icon\">\n\t\t\t\t\t\t\t<svg-icon name=\"close-outline\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"vac-dot-audio-record\" />\n\n\t\t\t\t\t<div class=\"vac-dot-audio-record-time\">\n\t\t\t\t\t\t{{ recordedTime }}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"vac-svg-button vac-icon-audio-confirm\"\n\t\t\t\t\t\t@click=\"toggleRecorder(false)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<slot name=\"audio-stop-icon\">\n\t\t\t\t\t\t\t<svg-icon name=\"checkmark\" />\n\t\t\t\t\t\t</slot>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\n\t\t\t\t<div v-else class=\"vac-svg-button\" @click=\"toggleRecorder(true)\">\n\t\t\t\t\t<slot name=\"microphone-icon\">\n\t\t\t\t\t\t<svg-icon name=\"microphone\" class=\"vac-icon-microphone\" />\n\t\t\t\t\t</slot>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<textarea\n\t\t\t\tid=\"roomTextarea\"\n\t\t\t\tref=\"roomTextarea\"\n\t\t\t\t:placeholder=\"textMessages.TYPE_MESSAGE\"\n\t\t\t\tclass=\"vac-textarea\"\n\t\t\t\t:class=\"{\n\t\t\t\t\t'vac-textarea-outline': editedMessage._id\n\t\t\t\t}\"\n\t\t\t\t:style=\"{\n\t\t\t\t\t'min-height': `20px`,\n\t\t\t\t\t'padding-left': `12px`\n\t\t\t\t}\"\n\t\t\t\t@input=\"onChangeInput\"\n\t\t\t\t@keydown.esc=\"escapeTextarea\"\n\t\t\t\t@keydown.enter.exact.prevent=\"selectItem\"\n\t\t\t\t@paste=\"onPasteImage\"\n\t\t\t\t@keydown.tab.exact.prevent=\"\"\n\t\t\t\t@keydown.tab=\"selectItem\"\n\t\t\t\t@keydown.up.exact.prevent=\"\"\n\t\t\t\t@keydown.up=\"updateActiveUpOrDown(-1)\"\n\t\t\t\t@keydown.down.exact.prevent=\"\"\n\t\t\t\t@keydown.down=\"updateActiveUpOrDown(1)\"\n\t\t\t/>\n\n\t\t\t<div class=\"vac-icon-textarea\">\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"editedMessage._id\"\n\t\t\t\t\tclass=\"vac-svg-button\"\n\t\t\t\t\t@click=\"resetMessage\"\n\t\t\t\t>\n\t\t\t\t\t<slot name=\"edit-close-icon\">\n\t\t\t\t\t\t<svg-icon name=\"close-outline\" />\n\t\t\t\t\t</slot>\n\t\t\t\t</div>\n\n\t\t\t\t<div v-if=\"showEmojis\" v-click-outside=\"() => (emojiOpened = false)\">\n\t\t\t\t\t<slot\n\t\t\t\t\t\tname=\"emoji-picker\"\n\t\t\t\t\t\tv-bind=\"{ emojiOpened }\"\n\t\t\t\t\t\t:add-emoji=\"addEmoji\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<emoji-picker-container\n\t\t\t\t\t\t\t:emoji-opened=\"emojiOpened\"\n\t\t\t\t\t\t\t:position-top=\"true\"\n\t\t\t\t\t\t\t@add-emoji=\"addEmoji\"\n\t\t\t\t\t\t\t@open-emoji=\"emojiOpened = $event\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template #emoji-picker-icon>\n\t\t\t\t\t\t\t\t<slot name=\"emoji-picker-icon\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</emoji-picker-container>\n\t\t\t\t\t</slot>\n\t\t\t\t</div>\n\n\t\t\t\t<div v-if=\"showFiles\" class=\"vac-svg-button\" @click=\"launchFilePicker\">\n\t\t\t\t\t<slot name=\"paperclip-icon\">\n\t\t\t\t\t\t<svg-icon name=\"paperclip\" />\n\t\t\t\t\t</slot>\n\t\t\t\t</div>\n\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"textareaActionEnabled\"\n\t\t\t\t\tclass=\"vac-svg-button\"\n\t\t\t\t\t@click=\"textareaActionHandler\"\n\t\t\t\t>\n\t\t\t\t\t<slot name=\"custom-action-icon\">\n\t\t\t\t\t\t<svg-icon name=\"deleted\" />\n\t\t\t\t\t</slot>\n\t\t\t\t</div>\n\n\t\t\t\t<input\n\t\t\t\t\tv-if=\"showFiles\"\n\t\t\t\t\tref=\"file\"\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\tmultiple\n\t\t\t\t\t:accept=\"acceptedFiles\"\n\t\t\t\t\tstyle=\"display: none\"\n\t\t\t\t\t@change=\"onFileChange($event.target.files)\"\n\t\t\t\t/>\n\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"showSendIcon\"\n\t\t\t\t\tclass=\"vac-svg-button\"\n\t\t\t\t\t:class=\"{ 'vac-send-disabled': isMessageEmpty }\"\n\t\t\t\t\t@click=\"sendMessage\"\n\t\t\t\t>\n\t\t\t\t\t<slot name=\"send-icon\">\n\t\t\t\t\t\t<svg-icon\n\t\t\t\t\t\t\tname=\"send\"\n\t\t\t\t\t\t\t:param=\"isMessageEmpty || isFileLoading ? 'disabled' : ''\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</slot>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { Database } from 'emoji-picker-element'\nimport vClickOutside from 'v-click-outside'\n\nimport SvgIcon from '../../../components/SvgIcon/SvgIcon'\nimport EmojiPickerContainer from '../../../components/EmojiPickerContainer/EmojiPickerContainer'\n\nimport RoomFiles from './RoomFiles/RoomFiles'\nimport RoomMessageReply from './RoomMessageReply/RoomMessageReply'\nimport RoomUsersTag from './RoomUsersTag/RoomUsersTag'\nimport RoomEmojis from './RoomEmojis/RoomEmojis'\nimport RoomTemplatesText from './RoomTemplatesText/RoomTemplatesText'\n\nimport filteredItems from '../../../utils/filter-items'\nimport Recorder from '../../../utils/recorder'\n\nconst { detectMobile } = require('../../../utils/mobile-detection')\n\nexport default {\n\tname: 'RoomFooter',\n\n\tcomponents: {\n\t\tSvgIcon,\n\t\tEmojiPickerContainer,\n\t\tRoomFiles,\n\t\tRoomMessageReply,\n\t\tRoomUsersTag,\n\t\tRoomEmojis,\n\t\tRoomTemplatesText\n\t},\n\n\tdirectives: {\n\t\tclickOutside: vClickOutside.directive\n\t},\n\n\tprops: {\n\t\troom: { type: Object, required: true },\n\t\troomId: { type: [String, Number], required: true },\n\t\troomMessage: { type: String, default: null },\n\t\ttextFormatting: { type: Object, required: true },\n\t\tlinkOptions: { type: Object, required: true },\n\t\ttextMessages: { type: Object, required: true },\n\t\tshowSendIcon: { type: Boolean, required: true },\n\t\tshowFiles: { type: Boolean, required: true },\n\t\tshowAudio: { type: Boolean, required: true },\n\t\tshowEmojis: { type: Boolean, required: true },\n\t\tshowFooter: { type: Boolean, required: true },\n\t\tacceptedFiles: { type: String, required: true },\n\t\ttextareaActionEnabled: { type: Boolean, required: true },\n\t\tuserTagsEnabled: { type: Boolean, required: true },\n\t\temojisSuggestionEnabled: { type: Boolean, required: true },\n\t\ttemplatesText: { type: Array, default: null },\n\t\taudioBitRate: { type: Number, required: true },\n\t\taudioSampleRate: { type: Number, required: true },\n\t\tinitReplyMessage: { type: Object, default: null },\n\t\tinitEditMessage: { type: Object, default: null }\n\t},\n\n\temits: [\n\t\t'edit-message',\n\t\t'send-message',\n\t\t'update-edited-message-id',\n\t\t'textarea-action-handler',\n\t\t'typing-message'\n\t],\n\n\tdata() {\n\t\treturn {\n\t\t\tmessage: '',\n\t\t\teditedMessage: {},\n\t\t\tmessageReply: null,\n\t\t\tcursorRangePosition: null,\n\t\t\tfiles: [],\n\t\t\tfileDialog: false,\n\t\t\tselectUsersTagItem: null,\n\t\t\tselectEmojiItem: null,\n\t\t\tselectTemplatesTextItem: null,\n\t\t\tformat: 'mp3',\n\t\t\tactiveUpOrDownEmojis: null,\n\t\t\tactiveUpOrDownUsersTag: null,\n\t\t\tactiveUpOrDownTemplatesText: null,\n\t\t\temojisDB: new Database(),\n\t\t\temojiOpened: false,\n\t\t\tkeepKeyboardOpen: false,\n\t\t\tfilteredEmojis: [],\n\t\t\tfilteredUsersTag: [],\n\t\t\tselectedUsersTag: [],\n\t\t\tfilteredTemplatesText: [],\n\t\t\trecorder: this.initRecorder(),\n\t\t\tisRecording: false\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tisMessageEmpty() {\n\t\t\treturn !this.files.length && !this.message.trim()\n\t\t},\n\t\tisFileLoading() {\n\t\t\treturn this.files.some(e => e.loading)\n\t\t},\n\t\trecordedTime() {\n\t\t\treturn new Date(this.recorder.duration * 1000).toISOString().substr(14, 5)\n\t\t},\n\t\tshadowFooter() {\n\t\t\treturn (\n\t\t\t\t!!this.filteredEmojis.length ||\n\t\t\t\t!!this.filteredUsersTag.length ||\n\t\t\t\t!!this.filteredTemplatesText.length ||\n\t\t\t\t!!this.files.length ||\n\t\t\t\t!!this.messageReply\n\t\t\t)\n\t\t}\n\t},\n\n\twatch: {\n\t\troomId() {\n\t\t\tthis.resetMessage(true, true)\n\n\t\t\tif (this.roomMessage) {\n\t\t\t\tthis.message = this.roomMessage\n\t\t\t\tsetTimeout(() => this.onChangeInput())\n\t\t\t}\n\t\t},\n\t\tmessage(val) {\n\t\t\tthis.getTextareaRef().value = val\n\t\t},\n\t\troomMessage: {\n\t\t\timmediate: true,\n\t\t\thandler(val) {\n\t\t\t\tif (val) this.message = this.roomMessage\n\t\t\t}\n\t\t},\n\t\teditedMessage(val) {\n\t\t\tthis.$emit('update-edited-message-id', val._id)\n\t\t},\n\t\tinitReplyMessage(val) {\n\t\t\tthis.replyMessage(val)\n\t\t},\n\t\tinitEditMessage(val) {\n\t\t\tthis.editMessage(val)\n\t\t}\n\t},\n\n\tmounted() {\n\t\tconst isMobile = detectMobile()\n\n\t\tthis.getTextareaRef().addEventListener('keyup', e => {\n\t\t\tif (e.key === 'Enter' && !e.shiftKey && !this.fileDialog) {\n\t\t\t\tif (isMobile) {\n\t\t\t\t\tthis.message = this.message + '\\n'\n\t\t\t\t\tsetTimeout(() => this.onChangeInput())\n\t\t\t\t} else if (\n\t\t\t\t\t!this.filteredEmojis.length &&\n\t\t\t\t\t!this.filteredUsersTag.length &&\n\t\t\t\t\t!this.filteredTemplatesText.length\n\t\t\t\t) {\n\t\t\t\t\tthis.sendMessage()\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.updateFooterLists()\n\t\t\t}, 60)\n\t\t})\n\n\t\tthis.getTextareaRef().addEventListener('click', () => {\n\t\t\tif (isMobile) this.keepKeyboardOpen = true\n\t\t\tthis.updateFooterLists()\n\t\t})\n\n\t\tthis.getTextareaRef().addEventListener('blur', () => {\n\t\t\tthis.resetFooterList()\n\t\t\tif (isMobile) setTimeout(() => (this.keepKeyboardOpen = false))\n\t\t})\n\t},\n\n\tbeforeDestroy() {\n\t\tthis.stopRecorder()\n\t},\n\n\tmethods: {\n\t\tgetTextareaRef() {\n\t\t\treturn this.$refs.roomTextarea\n\t\t},\n\t\tfocusTextarea(disableMobileFocus) {\n\t\t\tif (detectMobile() && disableMobileFocus) return\n\t\t\tif (!this.getTextareaRef()) return\n\t\t\tthis.getTextareaRef().focus()\n\n\t\t\tif (this.cursorRangePosition) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.getTextareaRef().setSelectionRange(\n\t\t\t\t\t\tthis.cursorRangePosition,\n\t\t\t\t\t\tthis.cursorRangePosition\n\t\t\t\t\t)\n\t\t\t\t\tthis.cursorRangePosition = null\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tonChangeInput() {\n\t\t\tif (this.getTextareaRef()?.value || this.getTextareaRef()?.value === '') {\n\t\t\t\tthis.message = this.getTextareaRef()?.value\n\t\t\t}\n\t\t\tthis.keepKeyboardOpen = true\n\t\t\tthis.resizeTextarea()\n\t\t\tthis.$emit('typing-message', this.message)\n\t\t},\n\t\tresizeTextarea() {\n\t\t\tconst el = this.getTextareaRef()\n\n\t\t\tif (!el) return\n\n\t\t\tconst padding = window\n\t\t\t\t.getComputedStyle(el, null)\n\t\t\t\t.getPropertyValue('padding-top')\n\t\t\t\t.replace('px', '')\n\n\t\t\tel.style.height = 0\n\t\t\tel.style.height = el.scrollHeight - padding * 2 + 'px'\n\t\t},\n\t\tescapeTextarea() {\n\t\t\tif (this.filteredEmojis.length) this.filteredEmojis = []\n\t\t\telse if (this.filteredUsersTag.length) this.filteredUsersTag = []\n\t\t\telse if (this.filteredTemplatesText.length) {\n\t\t\t\tthis.filteredTemplatesText = []\n\t\t\t} else this.resetMessage()\n\t\t},\n\t\tonPasteImage(pasteEvent) {\n\t\t\tconst items = pasteEvent.clipboardData?.items\n\n\t\t\tif (items) {\n\t\t\t\tArray.from(items).forEach(item => {\n\t\t\t\t\tif (item.type.includes('image')) {\n\t\t\t\t\t\tconst blob = item.getAsFile()\n\t\t\t\t\t\tthis.onFileChange([blob])\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tupdateActiveUpOrDown(direction) {\n\t\t\tif (this.filteredEmojis.length) {\n\t\t\t\tthis.activeUpOrDownEmojis = direction\n\t\t\t} else if (this.filteredUsersTag.length) {\n\t\t\t\tthis.activeUpOrDownUsersTag = direction\n\t\t\t} else if (this.filteredTemplatesText.length) {\n\t\t\t\tthis.activeUpOrDownTemplatesText = direction\n\t\t\t}\n\t\t},\n\t\tselectItem() {\n\t\t\tif (this.filteredEmojis.length) {\n\t\t\t\tthis.selectEmojiItem = true\n\t\t\t} else if (this.filteredUsersTag.length) {\n\t\t\t\tthis.selectUsersTagItem = true\n\t\t\t} else if (this.filteredTemplatesText.length) {\n\t\t\t\tthis.selectTemplatesTextItem = true\n\t\t\t}\n\t\t},\n\t\tselectEmoji(emoji) {\n\t\t\tthis.selectEmojiItem = false\n\n\t\t\tif (!emoji) return\n\n\t\t\tconst { position, endPosition } = this.getCharPosition(':')\n\n\t\t\tthis.message =\n\t\t\t\tthis.message.substr(0, position - 1) +\n\t\t\t\temoji +\n\t\t\t\tthis.message.substr(endPosition, this.message.length - 1)\n\n\t\t\tthis.cursorRangePosition = position\n\t\t\tthis.focusTextarea()\n\t\t},\n\t\tselectTemplateText(template) {\n\t\t\tthis.selectTemplatesTextItem = false\n\n\t\t\tif (!template) return\n\n\t\t\tconst { position, endPosition } = this.getCharPosition('/')\n\n\t\t\tconst space = this.message.substr(endPosition, endPosition).length\n\t\t\t\t? ''\n\t\t\t\t: ' '\n\n\t\t\tthis.message =\n\t\t\t\tthis.message.substr(0, position - 1) +\n\t\t\t\ttemplate.text +\n\t\t\t\tspace +\n\t\t\t\tthis.message.substr(endPosition, this.message.length - 1)\n\n\t\t\tthis.cursorRangePosition =\n\t\t\t\tposition + template.text.length + space.length + 1\n\n\t\t\tthis.focusTextarea()\n\t\t},\n\t\taddEmoji(emoji) {\n\t\t\tthis.message += emoji.unicode\n\t\t\tthis.focusTextarea(true)\n\t\t},\n\t\tlaunchFilePicker() {\n\t\t\tthis.$refs.file.value = ''\n\t\t\tthis.$refs.file.click()\n\t\t},\n\t\tasync onFileChange(files) {\n\t\t\tthis.fileDialog = true\n\t\t\tthis.focusTextarea()\n\n\t\t\tArray.from(files).forEach(async file => {\n\t\t\t\tconst fileURL = URL.createObjectURL(file)\n\t\t\t\tconst typeIndex = file.name.lastIndexOf('.')\n\n\t\t\t\tthis.files.push({\n\t\t\t\t\tloading: true,\n\t\t\t\t\tname: file.name.substring(0, typeIndex),\n\t\t\t\t\tsize: file.size,\n\t\t\t\t\ttype: file.type,\n\t\t\t\t\textension: file.name.substring(typeIndex + 1),\n\t\t\t\t\tlocalUrl: fileURL\n\t\t\t\t})\n\n\t\t\t\tconst blobFile = await fetch(fileURL).then(res => res.blob())\n\n\t\t\t\tlet loadedFile = this.files.find(file => file.localUrl === fileURL)\n\n\t\t\t\tif (loadedFile) {\n\t\t\t\t\tloadedFile.blob = blobFile\n\t\t\t\t\tloadedFile.loading = false\n\t\t\t\t\tdelete loadedFile.loading\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tsetTimeout(() => (this.fileDialog = false), 500)\n\t\t},\n\t\tremoveFile(index) {\n\t\t\tthis.files.splice(index, 1)\n\t\t\tthis.focusTextarea()\n\t\t},\n\t\ttoggleRecorder(recording) {\n\t\t\tthis.isRecording = recording\n\n\t\t\tif (!this.recorder.isRecording) {\n\t\t\t\tsetTimeout(() => this.recorder.start(), 200)\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tthis.recorder.stop()\n\n\t\t\t\t\tconst record = this.recorder.records[0]\n\n\t\t\t\t\tthis.files.push({\n\t\t\t\t\t\tblob: record.blob,\n\t\t\t\t\t\tname: `audio.${this.format}`,\n\t\t\t\t\t\tsize: record.blob.size,\n\t\t\t\t\t\tduration: record.duration,\n\t\t\t\t\t\ttype: record.blob.type,\n\t\t\t\t\t\taudio: true,\n\t\t\t\t\t\tlocalUrl: URL.createObjectURL(record.blob)\n\t\t\t\t\t})\n\n\t\t\t\t\tthis.recorder = this.initRecorder()\n\t\t\t\t\tthis.sendMessage()\n\t\t\t\t} catch {\n\t\t\t\t\tsetTimeout(() => this.stopRecorder(), 100)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tstopRecorder() {\n\t\t\tif (this.recorder.isRecording) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.recorder.stop()\n\t\t\t\t\tthis.recorder = this.initRecorder()\n\t\t\t\t} catch {\n\t\t\t\t\tsetTimeout(() => this.stopRecorder(), 100)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\ttextareaActionHandler() {\n\t\t\tthis.$emit('textarea-action-handler', this.message)\n\t\t},\n\t\tsendMessage() {\n\t\t\tlet message = this.message.trim()\n\n\t\t\tif (!this.files.length && !message) return\n\n\t\t\tif (this.isFileLoading) return\n\n\t\t\tthis.selectedUsersTag.forEach(user => {\n\t\t\t\tmessage = message.replace(\n\t\t\t\t\t`@${user.username}`,\n\t\t\t\t\t`<usertag>${user._id}</usertag>`\n\t\t\t\t)\n\t\t\t})\n\n\t\t\tconst files = this.files.length ? this.files : null\n\n\t\t\tif (this.editedMessage._id) {\n\t\t\t\tif (\n\t\t\t\t\tthis.editedMessage.content !== message ||\n\t\t\t\t\tthis.editedMessage.files?.length ||\n\t\t\t\t\tthis.files.length\n\t\t\t\t) {\n\t\t\t\t\tthis.$emit('edit-message', {\n\t\t\t\t\t\tmessageId: this.editedMessage._id,\n\t\t\t\t\t\tnewContent: message,\n\t\t\t\t\t\tfiles: files,\n\t\t\t\t\t\treplyMessage: this.messageReply,\n\t\t\t\t\t\tusersTag: this.selectedUsersTag\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.$emit('send-message', {\n\t\t\t\t\tcontent: message,\n\t\t\t\t\tfiles: files,\n\t\t\t\t\treplyMessage: this.messageReply,\n\t\t\t\t\tusersTag: this.selectedUsersTag\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tthis.resetMessage(true)\n\t\t},\n\t\t// eslint-disable-next-line vue/no-unused-properties\n\t\teditMessage(message) {\n\t\t\tthis.resetMessage()\n\n\t\t\tthis.editedMessage = { ...message }\n\n\t\t\tlet messageContent = message.content\n\t\t\tconst initialContent = messageContent\n\n\t\t\tconst firstTag = '<usertag>'\n\t\t\tconst secondTag = '</usertag>'\n\n\t\t\tconst usertags = [\n\t\t\t\t...messageContent.matchAll(new RegExp(firstTag, 'gi'))\n\t\t\t].map(a => a.index)\n\n\t\t\tusertags.forEach(index => {\n\t\t\t\tconst userId = initialContent.substring(\n\t\t\t\t\tindex + firstTag.length,\n\t\t\t\t\tinitialContent.indexOf(secondTag, index)\n\t\t\t\t)\n\n\t\t\t\tconst user = this.room.users.find(user => user._id === userId)\n\n\t\t\t\tmessageContent = messageContent.replace(\n\t\t\t\t\t`${firstTag}${userId}${secondTag}`,\n\t\t\t\t\t`@${user?.username || 'unknown'}`\n\t\t\t\t)\n\n\t\t\t\tthis.selectUserTag(user, true)\n\t\t\t})\n\n\t\t\tthis.message = messageContent\n\n\t\t\tif (message.files) {\n\t\t\t\tthis.files = [...message.files]\n\t\t\t}\n\n\t\t\tsetTimeout(() => this.resizeTextarea())\n\t\t},\n\t\t// eslint-disable-next-line vue/no-unused-properties\n\t\treplyMessage(message) {\n\t\t\tthis.editedMessage = {}\n\t\t\tthis.messageReply = message\n\t\t\tthis.focusTextarea()\n\t\t},\n\t\tupdateFooterLists() {\n\t\t\tthis.updateFooterList('@')\n\t\t\tthis.updateFooterList(':')\n\t\t\tthis.updateFooterList('/')\n\t\t},\n\t\tupdateFooterList(tagChar) {\n\t\t\tif (!this.getTextareaRef()) return\n\n\t\t\tif (tagChar === ':' && !this.emojisSuggestionEnabled) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (tagChar === '@' && (!this.userTagsEnabled || !this.room.users)) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (tagChar === '/' && !this.templatesText) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst textareaCursorPosition = this.getTextareaRef().selectionStart\n\n\t\t\tlet position = textareaCursorPosition\n\n\t\t\twhile (\n\t\t\t\tposition > 0 &&\n\t\t\t\tthis.message.charAt(position - 1) !== tagChar &&\n\t\t\t\t// eslint-disable-next-line no-unmodified-loop-condition\n\t\t\t\t(this.message.charAt(position - 1) !== ' ' || tagChar !== ':')\n\t\t\t) {\n\t\t\t\tposition--\n\t\t\t}\n\n\t\t\tconst beforeTag = this.message.charAt(position - 2)\n\t\t\tconst notLetterNumber = !beforeTag.match(/^[0-9a-zA-Z]+$/)\n\n\t\t\tif (\n\t\t\t\tthis.message.charAt(position - 1) === tagChar &&\n\t\t\t\t(!beforeTag || beforeTag === ' ' || notLetterNumber)\n\t\t\t) {\n\t\t\t\tconst query = this.message.substring(position, textareaCursorPosition)\n\t\t\t\tif (tagChar === ':') {\n\t\t\t\t\tthis.updateEmojis(query)\n\t\t\t\t} else if (tagChar === '@') {\n\t\t\t\t\tthis.updateShowUsersTag(query)\n\t\t\t\t} else if (tagChar === '/') {\n\t\t\t\t\tthis.updateShowTemplatesText(query)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.resetFooterList(tagChar)\n\t\t\t}\n\t\t},\n\t\tupdateShowUsersTag(query) {\n\t\t\tthis.filteredUsersTag = filteredItems(\n\t\t\t\tthis.room.users,\n\t\t\t\t'username',\n\t\t\t\tquery,\n\t\t\t\ttrue\n\t\t\t).filter(user => user._id !== this.currentUserId)\n\t\t},\n\t\tselectUserTag(user, editMode = false) {\n\t\t\tthis.selectUsersTagItem = false\n\n\t\t\tif (!user) return\n\n\t\t\tconst { position, endPosition } = this.getCharPosition('@')\n\n\t\t\tconst space = this.message.substr(endPosition, endPosition).length\n\t\t\t\t? ''\n\t\t\t\t: ' '\n\n\t\t\tthis.message =\n\t\t\t\tthis.message.substr(0, position) +\n\t\t\t\tuser.username +\n\t\t\t\tspace +\n\t\t\t\tthis.message.substr(endPosition, this.message.length - 1)\n\n\t\t\tthis.selectedUsersTag = [...this.selectedUsersTag, { ...user }]\n\n\t\t\tif (!editMode) {\n\t\t\t\tthis.cursorRangePosition =\n\t\t\t\t\tposition + user.username.length + space.length + 1\n\t\t\t}\n\n\t\t\tthis.focusTextarea()\n\t\t},\n\t\tupdateShowTemplatesText(query) {\n\t\t\tthis.filteredTemplatesText = filteredItems(\n\t\t\t\tthis.templatesText,\n\t\t\t\t'tag',\n\t\t\t\tquery,\n\t\t\t\ttrue\n\t\t\t)\n\t\t},\n\t\tgetCharPosition(tagChar) {\n\t\t\tconst cursorPosition = this.getTextareaRef().selectionStart\n\n\t\t\tlet position = cursorPosition\n\t\t\twhile (position > 0 && this.message.charAt(position - 1) !== tagChar) {\n\t\t\t\tposition--\n\t\t\t}\n\n\t\t\tconst endPosition = this.getTextareaRef().selectionEnd\n\n\t\t\treturn { position, endPosition }\n\t\t},\n\t\tasync updateEmojis(query) {\n\t\t\tif (!query) return\n\n\t\t\tconst emojis = await this.emojisDB.getEmojiBySearchQuery(query)\n\t\t\tthis.filteredEmojis = emojis.map(emoji => emoji.unicode)\n\t\t},\n\t\tresetFooterList(tagChar = null) {\n\t\t\tif (tagChar === ':') {\n\t\t\t\tthis.filteredEmojis = []\n\t\t\t} else if (tagChar === '@') {\n\t\t\t\tthis.filteredUsersTag = []\n\t\t\t} else if (tagChar === '/') {\n\t\t\t\tthis.filteredTemplatesText = []\n\t\t\t} else {\n\t\t\t\tthis.filteredEmojis = []\n\t\t\t\tthis.filteredUsersTag = []\n\t\t\t\tthis.filteredTemplatesText = []\n\t\t\t}\n\t\t},\n\t\tresetMessage(disableMobileFocus = false, initRoom = false) {\n\t\t\tif (!initRoom) {\n\t\t\t\tthis.$emit('typing-message', null)\n\t\t\t}\n\n\t\t\tthis.selectedUsersTag = []\n\t\t\tthis.resetFooterList()\n\t\t\tthis.resetTextareaSize()\n\t\t\tthis.message = ''\n\t\t\tthis.editedMessage = {}\n\t\t\tthis.messageReply = null\n\t\t\tthis.files = []\n\t\t\tthis.emojiOpened = false\n\t\t\tthis.preventKeyboardFromClosing()\n\t\t\tsetTimeout(() => this.focusTextarea(disableMobileFocus))\n\t\t},\n\t\tresetTextareaSize() {\n\t\t\tif (this.getTextareaRef()) {\n\t\t\t\tthis.getTextareaRef().style.height = '20px'\n\t\t\t}\n\t\t},\n\t\tpreventKeyboardFromClosing() {\n\t\t\tif (this.keepKeyboardOpen) this.getTextareaRef().focus()\n\t\t},\n\t\tinitRecorder() {\n\t\t\tthis.isRecording = false\n\n\t\t\treturn new Recorder({\n\t\t\t\tbitRate: this.audioBitRate,\n\t\t\t\tsampleRate: this.audioSampleRate,\n\t\t\t\tbeforeRecording: null,\n\t\t\t\tafterRecording: null,\n\t\t\t\tpauseRecording: null,\n\t\t\t\tmicFailed: this.micFailed\n\t\t\t})\n\t\t},\n\t\tmicFailed() {\n\t\t\tthis.isRecording = false\n\t\t\tthis.recorder = this.initRecorder()\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomFooter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomFooter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomFooter.vue?vue&type=template&id=457f6483&\"\nimport script from \"./RoomFooter.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomFooter.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"message\",staticClass:\"vac-message-wrapper\",attrs:{\"id\":_vm.message._id}},[(_vm.showDate)?_c('div',{staticClass:\"vac-card-info vac-card-date\"},[_vm._v(\" \"+_vm._s(_vm.message.date)+\" \")]):_vm._e(),(_vm.newMessage._id === _vm.message._id)?_c('div',{staticClass:\"vac-line-new\"},[_vm._v(\" \"+_vm._s(_vm.textMessages.NEW_MESSAGES)+\" \")]):_vm._e(),(_vm.message.system)?_c('div',{staticClass:\"vac-card-info vac-card-system\"},[_c('format-message',{attrs:{\"content\":_vm.message.content,\"users\":_vm.roomUsers,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions},on:{\"open-user-tag\":_vm.openUserTag},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})],1):_c('div',{staticClass:\"vac-message-box\",class:{ 'vac-offset-current': _vm.message.senderId === _vm.currentUserId },on:{\"click\":_vm.selectMessage}},[_vm._t(\"message\",function(){return [(_vm.message.avatar && _vm.message.senderId !== _vm.currentUserId)?_c('div',{staticClass:\"vac-avatar\",style:({ 'background-image': (\"url('\" + (_vm.message.avatar) + \"')\") })}):_vm._e(),(_vm.hasSenderUserAvatar && !_vm.message.avatar)?_c('div',{staticClass:\"vac-avatar-offset\"}):_vm._e(),_c('div',{staticClass:\"vac-message-container\",class:{\n\t\t\t\t\t'vac-message-container-offset': _vm.messageOffset\n\t\t\t\t}},[_c('div',{staticClass:\"vac-message-card\",class:{\n\t\t\t\t\t\t'vac-message-highlight': _vm.isMessageHover,\n\t\t\t\t\t\t'vac-message-current': _vm.message.senderId === _vm.currentUserId,\n\t\t\t\t\t\t'vac-message-deleted': _vm.message.deleted,\n\t\t\t\t\t\t'vac-item-clickable': _vm.messageSelectionEnabled,\n\t\t\t\t\t\t'vac-message-selected': _vm.isMessageSelected\n\t\t\t\t\t},on:{\"mouseover\":_vm.onHoverMessage,\"mouseleave\":_vm.onLeaveMessage}},[(_vm.showUsername)?_c('div',{staticClass:\"vac-text-username\",class:{\n\t\t\t\t\t\t\t'vac-username-reply': !_vm.message.deleted && _vm.message.replyMessage\n\t\t\t\t\t\t}},[_c('span',[_vm._v(_vm._s(_vm.message.username))])]):_vm._e(),(!_vm.message.deleted && _vm.message.replyMessage)?_c('message-reply',{attrs:{\"message\":_vm.message,\"room-users\":_vm.roomUsers,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)}):_vm._e(),(_vm.message.deleted)?_c('div',[_vm._t(\"deleted-icon\",function(){return [_c('svg-icon',{staticClass:\"vac-icon-deleted\",attrs:{\"name\":\"deleted\"}})]}),_c('span',[_vm._v(_vm._s(_vm.textMessages.MESSAGE_DELETED))])],2):(!_vm.message.files || !_vm.message.files.length)?_c('format-message',{attrs:{\"content\":_vm.message.content,\"users\":_vm.roomUsers,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions},on:{\"open-user-tag\":_vm.openUserTag},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)}):(!_vm.isAudio || _vm.message.files.length > 1)?_c('message-files',{attrs:{\"current-user-id\":_vm.currentUserId,\"message\":_vm.message,\"room-users\":_vm.roomUsers,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions,\"message-selection-enabled\":_vm.messageSelectionEnabled},on:{\"open-file\":_vm.openFile,\"open-user-tag\":_vm.openUserTag},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)}):[_c('audio-player',{attrs:{\"message-id\":_vm.message._id,\"src\":_vm.message.files[0].url,\"message-selection-enabled\":_vm.messageSelectionEnabled},on:{\"update-progress-time\":function($event){_vm.progressTime = $event},\"hover-audio-progress\":function($event){_vm.hoverAudioProgress = $event}},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)}),(!_vm.message.deleted)?_c('div',{staticClass:\"vac-progress-time\"},[_vm._v(\" \"+_vm._s(_vm.progressTime)+\" \")]):_vm._e()],_c('div',{staticClass:\"vac-text-timestamp\"},[(_vm.message.edited && !_vm.message.deleted)?_c('div',{staticClass:\"vac-icon-edited\"},[_vm._t(\"pencil-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"pencil\"}})]})],2):_vm._e(),_c('span',[_vm._v(_vm._s(_vm.message.timestamp))]),(_vm.isCheckmarkVisible)?_c('span',[_vm._t(\"checkmark-icon\",function(){return [_c('svg-icon',{staticClass:\"vac-icon-check\",attrs:{\"name\":_vm.message.distributed ? 'double-checkmark' : 'checkmark',\"param\":_vm.message.seen ? 'seen' : ''}})]},null,{ message: _vm.message })],2):_vm._e()]),_c('message-actions',{attrs:{\"current-user-id\":_vm.currentUserId,\"message\":_vm.message,\"message-actions\":_vm.messageActions,\"show-reaction-emojis\":_vm.showReactionEmojis,\"message-hover\":_vm.messageHover,\"hover-message-id\":_vm.hoverMessageId,\"hover-audio-progress\":_vm.hoverAudioProgress},on:{\"update-message-hover\":function($event){_vm.messageHover = $event},\"update-options-opened\":function($event){_vm.optionsOpened = $event},\"update-emoji-opened\":function($event){_vm.emojiOpened = $event},\"message-action-handler\":_vm.messageActionHandler,\"send-message-reaction\":_vm.sendMessageReaction},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})],2),_c('message-reactions',{attrs:{\"current-user-id\":_vm.currentUserId,\"message\":_vm.message},on:{\"send-message-reaction\":_vm.sendMessageReaction}})],1),_vm._t(\"message-failure\",function(){return [(_vm.message.failure && _vm.message.senderId === _vm.currentUserId)?_c('div',{staticClass:\"vac-failure-container vac-svg-button\",class:{\n\t\t\t\t\t\t'vac-failure-container-avatar':\n\t\t\t\t\t\t\t_vm.message.avatar && _vm.message.senderId === _vm.currentUserId\n\t\t\t\t\t},on:{\"click\":function($event){return _vm.$emit('open-failed-message', { message: _vm.message })}}},[_c('div',{staticClass:\"vac-failure-text\"},[_vm._v(\" ! \")])]):_vm._e()]},null,{ message: _vm.message }),(_vm.message.avatar && _vm.message.senderId === _vm.currentUserId)?_c('div',{staticClass:\"vac-avatar vac-avatar-current\",style:({ 'background-image': (\"url('\" + (_vm.message.avatar) + \"')\") })}):_vm._e(),(_vm.hasCurrentUserAvatar && !_vm.message.avatar)?_c('div',{staticClass:\"vac-avatar-current-offset\"}):_vm._e()]},null,{ message: _vm.message })],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vac-reply-message\"},[_c('div',{staticClass:\"vac-reply-username\"},[_vm._v(\" \"+_vm._s(_vm.replyUsername)+\" \")]),(_vm.isImage)?_c('div',{staticClass:\"vac-image-reply-container\"},[_c('div',{staticClass:\"vac-message-image vac-message-image-reply\",style:({\n\t\t\t\t'background-image': (\"url('\" + (_vm.firstFile.url) + \"')\")\n\t\t\t})})]):(_vm.isVideo)?_c('div',{staticClass:\"vac-video-reply-container\"},[_c('video',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"controls\":\"\"}},[_c('source',{attrs:{\"src\":_vm.firstFile.url}})])]):(_vm.isAudio)?_c('audio-player',{attrs:{\"src\":_vm.firstFile.url},on:{\"update-progress-time\":function($event){_vm.progressTime = $event},\"hover-audio-progress\":function($event){_vm.hoverAudioProgress = $event}},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)}):(_vm.isOtherFile)?_c('div',{staticClass:\"vac-file-container\"},[_c('div',[_vm._t(\"file-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"file\"}})]})],2),_c('div',{staticClass:\"vac-text-ellipsis\"},[_vm._v(\" \"+_vm._s(_vm.firstFile.name)+\" \")]),(_vm.firstFile.extension)?_c('div',{staticClass:\"vac-text-ellipsis vac-text-extension\"},[_vm._v(\" \"+_vm._s(_vm.firstFile.extension)+\" \")]):_vm._e()]):_vm._e(),_c('div',{staticClass:\"vac-reply-content\"},[_c('format-message',{attrs:{\"content\":_vm.message.replyMessage.content,\"users\":_vm.roomUsers,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions,\"reply\":true},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"vac-reply-message\">\n\t\t<div class=\"vac-reply-username\">\n\t\t\t{{ replyUsername }}\n\t\t</div>\n\n\t\t<div v-if=\"isImage\" class=\"vac-image-reply-container\">\n\t\t\t<div\n\t\t\t\tclass=\"vac-message-image vac-message-image-reply\"\n\t\t\t\t:style=\"{\n\t\t\t\t\t'background-image': `url('${firstFile.url}')`\n\t\t\t\t}\"\n\t\t\t/>\n\t\t</div>\n\n\t\t<div v-else-if=\"isVideo\" class=\"vac-video-reply-container\">\n\t\t\t<video width=\"100%\" height=\"100%\" controls>\n\t\t\t\t<source :src=\"firstFile.url\" />\n\t\t\t</video>\n\t\t</div>\n\n\t\t<audio-player\n\t\t\tv-else-if=\"isAudio\"\n\t\t\t:src=\"firstFile.url\"\n\t\t\t@update-progress-time=\"progressTime = $event\"\n\t\t\t@hover-audio-progress=\"hoverAudioProgress = $event\"\n\t\t>\n\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t</template>\n\t\t</audio-player>\n\n\t\t<div v-else-if=\"isOtherFile\" class=\"vac-file-container\">\n\t\t\t<div>\n\t\t\t\t<slot name=\"file-icon\">\n\t\t\t\t\t<svg-icon name=\"file\" />\n\t\t\t\t</slot>\n\t\t\t</div>\n\t\t\t<div class=\"vac-text-ellipsis\">\n\t\t\t\t{{ firstFile.name }}\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tv-if=\"firstFile.extension\"\n\t\t\t\tclass=\"vac-text-ellipsis vac-text-extension\"\n\t\t\t>\n\t\t\t\t{{ firstFile.extension }}\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"vac-reply-content\">\n\t\t\t<format-message\n\t\t\t\t:content=\"message.replyMessage.content\"\n\t\t\t\t:users=\"roomUsers\"\n\t\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t\t:link-options=\"linkOptions\"\n\t\t\t\t:reply=\"true\"\n\t\t\t>\n\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t</template>\n\t\t\t</format-message>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport SvgIcon from '../../../../components/SvgIcon/SvgIcon'\nimport FormatMessage from '../../../../components/FormatMessage/FormatMessage'\n\nimport AudioPlayer from '../AudioPlayer/AudioPlayer'\n\nconst {\n\tisAudioFile,\n\tisImageFile,\n\tisVideoFile\n} = require('../../../../utils/media-file')\n\nexport default {\n\tname: 'MessageReply',\n\tcomponents: { AudioPlayer, SvgIcon, FormatMessage },\n\n\tprops: {\n\t\tmessage: { type: Object, required: true },\n\t\ttextFormatting: { type: Object, required: true },\n\t\tlinkOptions: { type: Object, required: true },\n\t\troomUsers: { type: Array, required: true }\n\t},\n\n\tcomputed: {\n\t\treplyUsername() {\n\t\t\tconst { senderId } = this.message.replyMessage\n\t\t\tconst replyUser = this.roomUsers.find(user => user._id === senderId)\n\t\t\treturn replyUser ? replyUser.username : ''\n\t\t},\n\t\tfirstFile() {\n\t\t\treturn this.message.replyMessage?.files?.length\n\t\t\t\t? this.message.replyMessage.files[0]\n\t\t\t\t: {}\n\t\t},\n\t\tisAudio() {\n\t\t\treturn isAudioFile(this.firstFile)\n\t\t},\n\t\tisImage() {\n\t\t\treturn isImageFile(this.firstFile)\n\t\t},\n\t\tisVideo() {\n\t\t\treturn isVideoFile(this.firstFile)\n\t\t},\n\t\tisOtherFile() {\n\t\t\treturn (\n\t\t\t\tthis.message.replyMessage.files?.length &&\n\t\t\t\t!this.isAudio &&\n\t\t\t\t!this.isVideo &&\n\t\t\t\t!this.isImage\n\t\t\t)\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageReply.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageReply.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageReply.vue?vue&type=template&id=514045b4&\"\nimport script from \"./MessageReply.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageReply.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vac-message-files-container\"},[_vm._l((_vm.imageVideoFiles),function(file,idx){return _c('div',{key:idx + 'iv'},[_c('message-file',{attrs:{\"file\":file,\"current-user-id\":_vm.currentUserId,\"message\":_vm.message,\"index\":idx,\"message-selection-enabled\":_vm.messageSelectionEnabled},on:{\"open-file\":function($event){return _vm.$emit('open-file', $event)}},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})],1)}),_vm._l((_vm.otherFiles),function(file,idx){return _c('div',{key:idx + 'a',staticClass:\"vac-file-wrapper\"},[(file.progress >= 0)?_c('progress-bar',{style:({ top: '44px' }),attrs:{\"progress\":file.progress}}):_vm._e(),_c('div',{staticClass:\"vac-file-container\",class:{ 'vac-file-container-progress': file.progress >= 0 },on:{\"click\":function($event){return _vm.openFile($event, file, 'download')}}},[_c('div',{staticClass:\"vac-svg-button\"},[_vm._t(\"document-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"document\"}})]})],2),_c('div',{staticClass:\"vac-text-ellipsis\"},[_vm._v(\" \"+_vm._s(file.name)+\" \")]),(file.extension)?_c('div',{staticClass:\"vac-text-ellipsis vac-text-extension\"},[_vm._v(\" \"+_vm._s(file.extension)+\" \")]):_vm._e()])],1)}),_c('format-message',{attrs:{\"content\":_vm.message.content,\"users\":_vm.roomUsers,\"text-formatting\":_vm.textFormatting,\"link-options\":_vm.linkOptions},on:{\"open-user-tag\":function($event){return _vm.$emit('open-user-tag', $event)}},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(i,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"vac-fade-spinner\",\"appear\":\"\"}},[_c('div',{ref:\"progress\",staticClass:\"vac-progress-wrapper\"},[_c('svg',{attrs:{\"height\":_vm.radius * 2,\"width\":_vm.radius * 2}},[_c('circle',{style:({\n\t\t\t\t\tstrokeDashoffset: _vm.strokeDashoffset,\n\t\t\t\t\tstrokeLinecap: 'round'\n\t\t\t\t}),attrs:{\"stroke\":\"rgba(255, 255, 255, 0.7)\",\"stroke-dasharray\":_vm.circumference + ' ' + _vm.circumference,\"stroke-width\":_vm.stroke,\"fill\":\"transparent\",\"r\":_vm.normalizedRadius,\"cx\":_vm.radius,\"cy\":_vm.radius}})]),_c('div',{staticClass:\"vac-progress-content\",style:({\n\t\t\t\theight: _vm.radius * 2 - 19 + 'px',\n\t\t\t\twidth: _vm.radius * 2 - 19 + 'px'\n\t\t\t})},[_c('div',{staticClass:\"vac-progress-text\"},[_vm._v(\" \"+_vm._s(_vm.progress)),_c('span',{staticClass:\"vac-progress-pourcent\"},[_vm._v(\"%\")])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<transition name=\"vac-fade-spinner\" appear>\n\t\t<div ref=\"progress\" class=\"vac-progress-wrapper\">\n\t\t\t<svg :height=\"radius * 2\" :width=\"radius * 2\">\n\t\t\t\t<circle\n\t\t\t\t\tstroke=\"rgba(255, 255, 255, 0.7)\"\n\t\t\t\t\t:stroke-dasharray=\"circumference + ' ' + circumference\"\n\t\t\t\t\t:style=\"{\n\t\t\t\t\t\tstrokeDashoffset: strokeDashoffset,\n\t\t\t\t\t\tstrokeLinecap: 'round'\n\t\t\t\t\t}\"\n\t\t\t\t\t:stroke-width=\"stroke\"\n\t\t\t\t\tfill=\"transparent\"\n\t\t\t\t\t:r=\"normalizedRadius\"\n\t\t\t\t\t:cx=\"radius\"\n\t\t\t\t\t:cy=\"radius\"\n\t\t\t\t/>\n\t\t\t</svg>\n\t\t\t<div\n\t\t\t\tclass=\"vac-progress-content\"\n\t\t\t\t:style=\"{\n\t\t\t\t\theight: radius * 2 - 19 + 'px',\n\t\t\t\t\twidth: radius * 2 - 19 + 'px'\n\t\t\t\t}\"\n\t\t\t>\n\t\t\t\t<div class=\"vac-progress-text\">\n\t\t\t\t\t{{ progress }}<span class=\"vac-progress-pourcent\">%</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</transition>\n</template>\n\n<script>\nexport default {\n\tname: 'ProgressBar',\n\n\tprops: {\n\t\tprogress: { type: Number, default: 0 }\n\t},\n\n\tdata() {\n\t\tconst radius = 35\n\t\tconst stroke = 4\n\t\tconst normalizedRadius = radius - stroke * 2\n\t\tconst circumference = normalizedRadius * 2 * Math.PI\n\n\t\treturn {\n\t\t\tradius,\n\t\t\tstroke,\n\t\t\tnormalizedRadius,\n\t\t\tcircumference\n\t\t}\n\t},\n\tcomputed: {\n\t\tstrokeDashoffset() {\n\t\t\treturn this.circumference - (this.progress / 100) * this.circumference\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ProgressBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ProgressBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProgressBar.vue?vue&type=template&id=561521ed&\"\nimport script from \"./ProgressBar.vue?vue&type=script&lang=js&\"\nexport * from \"./ProgressBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vac-message-file-container\"},[(_vm.isImage)?_c('div',{ref:'imageRef' + _vm.index,staticClass:\"vac-message-image-container\",on:{\"mouseover\":function($event){_vm.imageHover = true},\"mouseleave\":function($event){_vm.imageHover = false},\"click\":function($event){return _vm.openFile($event, 'preview')}}},[(_vm.file.progress >= 0)?_c('progress-bar',{style:({ top: ((_vm.imageResponsive.loaderTop) + \"px\") }),attrs:{\"progress\":_vm.file.progress}}):_c('loader',{style:({ top: ((_vm.imageResponsive.loaderTop) + \"px\") }),attrs:{\"show\":_vm.isImageLoading},scopedSlots:_vm._u([_vm._l((_vm.$scopedSlots),function(idx,name){return {key:name,fn:function(data){return [_vm._t(name,null,null,data)]}}})],null,true)}),_c('div',{staticClass:\"vac-message-image\",class:{\n\t\t\t\t'vac-blur-loading':\n\t\t\t\t\t_vm.isImageLoading && _vm.message.senderId === _vm.currentUserId\n\t\t\t},style:({\n\t\t\t\t'background-image': (\"url('\" + (_vm.isImageLoading ? _vm.file.preview || _vm.file.url : _vm.file.url) + \"')\"),\n\t\t\t\t'max-height': ((_vm.imageResponsive.maxHeight) + \"px\")\n\t\t\t})},[_c('transition',{attrs:{\"name\":\"vac-fade-image\"}},[(!_vm.messageSelectionEnabled && _vm.imageHover && !_vm.isImageLoading)?_c('div',{staticClass:\"vac-image-buttons\"},[_c('div',{staticClass:\"vac-svg-button vac-button-view\",on:{\"click\":function($event){return _vm.openFile($event, 'preview')}}},[_vm._t(\"eye-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"eye\"}})]})],2),_c('div',{staticClass:\"vac-svg-button vac-button-download\",on:{\"click\":function($event){return _vm.openFile($event, 'download')}}},[_vm._t(\"document-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"document\"}})]})],2)]):_vm._e()])],1)],1):(_vm.isVideo)?_c('div',{staticClass:\"vac-video-container\",on:{\"click\":function($event){$event.preventDefault();return _vm.openFile('preview')}}},[(_vm.file.progress >= 0)?_c('progress-bar',{attrs:{\"progress\":_vm.file.progress}}):_vm._e(),_c('video',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"controls\":\"\"}},[_c('source',{attrs:{\"src\":_vm.file.url}})])],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"vac-message-file-container\">\n\t\t<div\n\t\t\tv-if=\"isImage\"\n\t\t\t:ref=\"'imageRef' + index\"\n\t\t\tclass=\"vac-message-image-container\"\n\t\t\t@mouseover=\"imageHover = true\"\n\t\t\t@mouseleave=\"imageHover = false\"\n\t\t\t@click=\"openFile($event, 'preview')\"\n\t\t>\n\t\t\t<progress-bar\n\t\t\t\tv-if=\"file.progress >= 0\"\n\t\t\t\t:progress=\"file.progress\"\n\t\t\t\t:style=\"{ top: `${imageResponsive.loaderTop}px` }\"\n\t\t\t/>\n\t\t\t<loader\n\t\t\t\tv-else\n\t\t\t\t:show=\"isImageLoading\"\n\t\t\t\t:style=\"{ top: `${imageResponsive.loaderTop}px` }\"\n\t\t\t>\n\t\t\t\t<template v-for=\"(idx, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t</template>\n\t\t\t</loader>\n\t\t\t<div\n\t\t\t\tclass=\"vac-message-image\"\n\t\t\t\t:class=\"{\n\t\t\t\t\t'vac-blur-loading':\n\t\t\t\t\t\tisImageLoading && message.senderId === currentUserId\n\t\t\t\t}\"\n\t\t\t\t:style=\"{\n\t\t\t\t\t'background-image': `url('${\n\t\t\t\t\t\tisImageLoading ? file.preview || file.url : file.url\n\t\t\t\t\t}')`,\n\t\t\t\t\t'max-height': `${imageResponsive.maxHeight}px`\n\t\t\t\t}\"\n\t\t\t>\n\t\t\t\t<transition name=\"vac-fade-image\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"!messageSelectionEnabled && imageHover && !isImageLoading\"\n\t\t\t\t\t\tclass=\"vac-image-buttons\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"vac-svg-button vac-button-view\"\n\t\t\t\t\t\t\t@click=\"openFile($event, 'preview')\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<slot name=\"eye-icon\">\n\t\t\t\t\t\t\t\t<svg-icon name=\"eye\" />\n\t\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclass=\"vac-svg-button vac-button-download\"\n\t\t\t\t\t\t\t@click=\"openFile($event, 'download')\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<slot name=\"document-icon\">\n\t\t\t\t\t\t\t\t<svg-icon name=\"document\" />\n\t\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</transition>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div\n\t\t\tv-else-if=\"isVideo\"\n\t\t\tclass=\"vac-video-container\"\n\t\t\t@click.prevent=\"openFile('preview')\"\n\t\t>\n\t\t\t<progress-bar v-if=\"file.progress >= 0\" :progress=\"file.progress\" />\n\t\t\t<video width=\"100%\" height=\"100%\" controls>\n\t\t\t\t<source :src=\"file.url\" />\n\t\t\t</video>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport Loader from '../../../../../components/Loader/Loader'\nimport ProgressBar from '../../../../../components/ProgressBar/ProgressBar'\nimport SvgIcon from '../../../../../components/SvgIcon/SvgIcon'\n\nconst { isImageFile, isVideoFile } = require('../../../../../utils/media-file')\n\nexport default {\n\tname: 'MessageFile',\n\tcomponents: { SvgIcon, Loader, ProgressBar },\n\n\tprops: {\n\t\tcurrentUserId: { type: [String, Number], required: true },\n\t\tmessage: { type: Object, required: true },\n\t\tfile: { type: Object, required: true },\n\t\tindex: { type: Number, required: true },\n\t\tmessageSelectionEnabled: { type: Boolean, required: true }\n\t},\n\n\temits: ['open-file'],\n\n\tdata() {\n\t\treturn {\n\t\t\timageResponsive: '',\n\t\t\timageLoading: false,\n\t\t\timageHover: false\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tisImageLoading() {\n\t\t\treturn this.file.url.indexOf('blob:http') !== -1 || this.imageLoading\n\t\t},\n\t\tisImage() {\n\t\t\treturn isImageFile(this.file)\n\t\t},\n\t\tisVideo() {\n\t\t\treturn isVideoFile(this.file)\n\t\t}\n\t},\n\n\twatch: {\n\t\tfile: {\n\t\t\timmediate: true,\n\t\t\thandler() {\n\t\t\t\tthis.checkImgLoad()\n\t\t\t}\n\t\t}\n\t},\n\n\tmounted() {\n\t\tconst ref = this.$refs['imageRef' + this.index]\n\n\t\tif (ref) {\n\t\t\tthis.imageResponsive = {\n\t\t\t\tmaxHeight: ref.clientWidth - 18,\n\t\t\t\tloaderTop: ref.clientHeight / 2 - 9\n\t\t\t}\n\t\t}\n\t},\n\n\tmethods: {\n\t\tcheckImgLoad() {\n\t\t\tif (!isImageFile(this.file)) return\n\t\t\tthis.imageLoading = true\n\t\t\tconst image = new Image()\n\t\t\timage.src = this.file.url\n\t\t\timage.addEventListener('load', () => (this.imageLoading = false))\n\t\t},\n\t\topenFile(event, action) {\n\t\t\tif (!this.messageSelectionEnabled) {\n\t\t\t\tevent.stopPropagation()\n\t\t\t\tthis.$emit('open-file', { file: this.file, action })\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageFile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageFile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageFile.vue?vue&type=template&id=442d693d&\"\nimport script from \"./MessageFile.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageFile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div class=\"vac-message-files-container\">\n\t\t<div v-for=\"(file, idx) in imageVideoFiles\" :key=\"idx + 'iv'\">\n\t\t\t<message-file\n\t\t\t\t:file=\"file\"\n\t\t\t\t:current-user-id=\"currentUserId\"\n\t\t\t\t:message=\"message\"\n\t\t\t\t:index=\"idx\"\n\t\t\t\t:message-selection-enabled=\"messageSelectionEnabled\"\n\t\t\t\t@open-file=\"$emit('open-file', $event)\"\n\t\t\t>\n\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t</template>\n\t\t\t</message-file>\n\t\t</div>\n\n\t\t<div\n\t\t\tv-for=\"(file, idx) in otherFiles\"\n\t\t\t:key=\"idx + 'a'\"\n\t\t\tclass=\"vac-file-wrapper\"\n\t\t>\n\t\t\t<progress-bar\n\t\t\t\tv-if=\"file.progress >= 0\"\n\t\t\t\t:progress=\"file.progress\"\n\t\t\t\t:style=\"{ top: '44px' }\"\n\t\t\t/>\n\t\t\t<div\n\t\t\t\tclass=\"vac-file-container\"\n\t\t\t\t:class=\"{ 'vac-file-container-progress': file.progress >= 0 }\"\n\t\t\t\t@click=\"openFile($event, file, 'download')\"\n\t\t\t>\n\t\t\t\t<div class=\"vac-svg-button\">\n\t\t\t\t\t<slot name=\"document-icon\">\n\t\t\t\t\t\t<svg-icon name=\"document\" />\n\t\t\t\t\t</slot>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"vac-text-ellipsis\">\n\t\t\t\t\t{{ file.name }}\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"file.extension\" class=\"vac-text-ellipsis vac-text-extension\">\n\t\t\t\t\t{{ file.extension }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<format-message\n\t\t\t:content=\"message.content\"\n\t\t\t:users=\"roomUsers\"\n\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t:link-options=\"linkOptions\"\n\t\t\t@open-user-tag=\"$emit('open-user-tag', $event)\"\n\t\t>\n\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t</template>\n\t\t</format-message>\n\t</div>\n</template>\n\n<script>\nimport SvgIcon from '../../../../components/SvgIcon/SvgIcon'\nimport FormatMessage from '../../../../components/FormatMessage/FormatMessage'\nimport ProgressBar from '../../../../components/ProgressBar/ProgressBar'\n\nimport MessageFile from './MessageFile/MessageFile'\n\nconst { isImageVideoFile } = require('../../../../utils/media-file')\n\nexport default {\n\tname: 'MessageFiles',\n\tcomponents: { SvgIcon, FormatMessage, ProgressBar, MessageFile },\n\n\tprops: {\n\t\tcurrentUserId: { type: [String, Number], required: true },\n\t\tmessage: { type: Object, required: true },\n\t\troomUsers: { type: Array, required: true },\n\t\ttextFormatting: { type: Object, required: true },\n\t\tlinkOptions: { type: Object, required: true },\n\t\tmessageSelectionEnabled: { type: Boolean, required: true }\n\t},\n\n\temits: ['open-file', 'open-user-tag'],\n\n\tcomputed: {\n\t\timageVideoFiles() {\n\t\t\treturn this.message.files.filter(file => isImageVideoFile(file))\n\t\t},\n\t\totherFiles() {\n\t\t\treturn this.message.files.filter(file => !isImageVideoFile(file))\n\t\t}\n\t},\n\n\tmethods: {\n\t\topenFile(event, file, action) {\n\t\t\tif (!this.messageSelectionEnabled) {\n\t\t\t\tevent.stopPropagation()\n\t\t\t\tthis.$emit('open-file', { file, action })\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageFiles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageFiles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageFiles.vue?vue&type=template&id=ebb72a26&\"\nimport script from \"./MessageFiles.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageFiles.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vac-message-actions-wrapper\"},[_c('div',{staticClass:\"vac-options-container\",style:({\n\t\t\tdisplay: _vm.hoverAudioProgress ? 'none' : 'initial',\n\t\t\twidth:\n\t\t\t\t_vm.filteredMessageActions.length && _vm.showReactionEmojis ? '70px' : '45px'\n\t\t})},[_c('transition-group',{attrs:{\"name\":\"vac-slide-left\",\"tag\":\"span\"}},[(_vm.isMessageActions || _vm.isMessageReactions)?_c('div',{key:\"1\",staticClass:\"vac-blur-container\",class:{\n\t\t\t\t\t'vac-options-me': _vm.message.senderId === _vm.currentUserId\n\t\t\t\t}}):_vm._e(),(_vm.isMessageActions)?_c('div',{key:\"2\",ref:\"actionIcon\",staticClass:\"vac-svg-button vac-message-options\",on:{\"click\":_vm.openOptions}},[_vm._t(\"dropdown-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"dropdown\",\"param\":\"message\"}})]})],2):_vm._e(),(_vm.isMessageReactions)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.closeEmoji),expression:\"closeEmoji\"}],key:\"3\"},[_vm._t(\"emoji-picker\",function(){return [_c('emoji-picker-container',{staticClass:\"vac-message-emojis\",style:({ right: _vm.isMessageActions ? '30px' : '5px' }),attrs:{\"emoji-opened\":_vm.emojiOpened,\"emoji-reaction\":true,\"position-right\":_vm.message.senderId === _vm.currentUserId},on:{\"add-emoji\":_vm.sendMessageReaction,\"open-emoji\":_vm.openEmoji},scopedSlots:_vm._u([{key:\"emoji-picker-icon\",fn:function(){return [_vm._t(\"emoji-picker-reaction-icon\")]},proxy:true}],null,true)})]},{\"addEmoji\":_vm.sendMessageReaction},{ emojiOpened: _vm.emojiOpened })],2):_vm._e()])],1),(_vm.filteredMessageActions.length)?_c('transition',{attrs:{\"name\":_vm.message.senderId === _vm.currentUserId\n\t\t\t\t? 'vac-slide-left'\n\t\t\t\t: 'vac-slide-right'}},[(_vm.optionsOpened)?_c('div',{directives:[{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.closeOptions),expression:\"closeOptions\"}],ref:\"menuOptions\",staticClass:\"vac-menu-options\",class:{\n\t\t\t\t'vac-menu-left': _vm.message.senderId !== _vm.currentUserId\n\t\t\t},style:({ top: (_vm.menuOptionsTop + \"px\") })},[_c('div',{staticClass:\"vac-menu-list\"},_vm._l((_vm.filteredMessageActions),function(action){return _c('div',{key:action.name},[_c('div',{staticClass:\"vac-menu-item\",on:{\"click\":function($event){return _vm.messageActionHandler(action)}}},[_vm._v(\" \"+_vm._s(action.title)+\" \")])])}),0)]):_vm._e()]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"vac-message-actions-wrapper\">\n\t\t<div\n\t\t\tclass=\"vac-options-container\"\n\t\t\t:style=\"{\n\t\t\t\tdisplay: hoverAudioProgress ? 'none' : 'initial',\n\t\t\t\twidth:\n\t\t\t\t\tfilteredMessageActions.length && showReactionEmojis ? '70px' : '45px'\n\t\t\t}\"\n\t\t>\n\t\t\t<transition-group name=\"vac-slide-left\" tag=\"span\">\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"isMessageActions || isMessageReactions\"\n\t\t\t\t\tkey=\"1\"\n\t\t\t\t\tclass=\"vac-blur-container\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t'vac-options-me': message.senderId === currentUserId\n\t\t\t\t\t}\"\n\t\t\t\t/>\n\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"isMessageActions\"\n\t\t\t\t\tref=\"actionIcon\"\n\t\t\t\t\tkey=\"2\"\n\t\t\t\t\tclass=\"vac-svg-button vac-message-options\"\n\t\t\t\t\t@click=\"openOptions\"\n\t\t\t\t>\n\t\t\t\t\t<slot name=\"dropdown-icon\">\n\t\t\t\t\t\t<svg-icon name=\"dropdown\" param=\"message\" />\n\t\t\t\t\t</slot>\n\t\t\t\t</div>\n\n\t\t\t\t<div v-if=\"isMessageReactions\" key=\"3\" v-click-outside=\"closeEmoji\">\n\t\t\t\t\t<slot\n\t\t\t\t\t\tname=\"emoji-picker\"\n\t\t\t\t\t\tv-bind=\"{ emojiOpened }\"\n\t\t\t\t\t\t:add-emoji=\"sendMessageReaction\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<emoji-picker-container\n\t\t\t\t\t\t\tclass=\"vac-message-emojis\"\n\t\t\t\t\t\t\t:style=\"{ right: isMessageActions ? '30px' : '5px' }\"\n\t\t\t\t\t\t\t:emoji-opened=\"emojiOpened\"\n\t\t\t\t\t\t\t:emoji-reaction=\"true\"\n\t\t\t\t\t\t\t:position-right=\"message.senderId === currentUserId\"\n\t\t\t\t\t\t\t@add-emoji=\"sendMessageReaction\"\n\t\t\t\t\t\t\t@open-emoji=\"openEmoji\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template #emoji-picker-icon>\n\t\t\t\t\t\t\t\t<slot name=\"emoji-picker-reaction-icon\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</emoji-picker-container>\n\t\t\t\t\t</slot>\n\t\t\t\t</div>\n\t\t\t</transition-group>\n\t\t</div>\n\n\t\t<transition\n\t\t\tv-if=\"filteredMessageActions.length\"\n\t\t\t:name=\"\n\t\t\t\tmessage.senderId === currentUserId\n\t\t\t\t\t? 'vac-slide-left'\n\t\t\t\t\t: 'vac-slide-right'\n\t\t\t\"\n\t\t>\n\t\t\t<div\n\t\t\t\tv-if=\"optionsOpened\"\n\t\t\t\tref=\"menuOptions\"\n\t\t\t\tv-click-outside=\"closeOptions\"\n\t\t\t\tclass=\"vac-menu-options\"\n\t\t\t\t:class=\"{\n\t\t\t\t\t'vac-menu-left': message.senderId !== currentUserId\n\t\t\t\t}\"\n\t\t\t\t:style=\"{ top: `${menuOptionsTop}px` }\"\n\t\t\t>\n\t\t\t\t<div class=\"vac-menu-list\">\n\t\t\t\t\t<div v-for=\"action in filteredMessageActions\" :key=\"action.name\">\n\t\t\t\t\t\t<div class=\"vac-menu-item\" @click=\"messageActionHandler(action)\">\n\t\t\t\t\t\t\t{{ action.title }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</transition>\n\t</div>\n</template>\n\n<script>\nimport vClickOutside from 'v-click-outside'\n\nimport SvgIcon from '../../../../components/SvgIcon/SvgIcon'\nimport EmojiPickerContainer from '../../../../components/EmojiPickerContainer/EmojiPickerContainer'\n\nexport default {\n\tname: 'MessageActions',\n\tcomponents: { SvgIcon, EmojiPickerContainer },\n\n\tdirectives: {\n\t\tclickOutside: vClickOutside.directive\n\t},\n\n\tprops: {\n\t\tcurrentUserId: { type: [String, Number], required: true },\n\t\tmessage: { type: Object, required: true },\n\t\tmessageActions: { type: Array, required: true },\n\t\tshowReactionEmojis: { type: Boolean, required: true },\n\t\tmessageHover: { type: Boolean, required: true },\n\t\thoverMessageId: { type: [String, Number], default: null },\n\t\thoverAudioProgress: { type: Boolean, required: true }\n\t},\n\n\temits: [\n\t\t'update-emoji-opened',\n\t\t'update-options-opened',\n\t\t'update-message-hover',\n\t\t'message-action-handler',\n\t\t'send-message-reaction'\n\t],\n\n\tdata() {\n\t\treturn {\n\t\t\tmenuOptionsTop: 0,\n\t\t\toptionsOpened: false,\n\t\t\toptionsClosing: false,\n\t\t\temojiOpened: false\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tisMessageActions() {\n\t\t\treturn (\n\t\t\t\tthis.filteredMessageActions.length &&\n\t\t\t\tthis.messageHover &&\n\t\t\t\t!this.message.deleted &&\n\t\t\t\t!this.message.disableActions &&\n\t\t\t\t!this.hoverAudioProgress\n\t\t\t)\n\t\t},\n\t\tisMessageReactions() {\n\t\t\treturn (\n\t\t\t\tthis.showReactionEmojis &&\n\t\t\t\tthis.messageHover &&\n\t\t\t\t!this.message.deleted &&\n\t\t\t\t!this.message.disableReactions &&\n\t\t\t\t!this.hoverAudioProgress\n\t\t\t)\n\t\t},\n\t\tfilteredMessageActions() {\n\t\t\treturn this.message.senderId === this.currentUserId\n\t\t\t\t? this.messageActions\n\t\t\t\t: this.messageActions.filter(message => !message.onlyMe)\n\t\t}\n\t},\n\n\twatch: {\n\t\temojiOpened(val) {\n\t\t\tthis.$emit('update-emoji-opened', val)\n\t\t\tif (val) this.optionsOpened = false\n\t\t},\n\t\toptionsOpened(val) {\n\t\t\tthis.$emit('update-options-opened', val)\n\t\t}\n\t},\n\n\tmethods: {\n\t\topenOptions() {\n\t\t\tif (this.optionsClosing) return\n\n\t\t\tthis.optionsOpened = !this.optionsOpened\n\t\t\tif (!this.optionsOpened) return\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst roomFooterRef = document.getElementById('room-footer')\n\n\t\t\t\tif (\n\t\t\t\t\t!roomFooterRef ||\n\t\t\t\t\t!this.$refs.menuOptions ||\n\t\t\t\t\t!this.$refs.actionIcon\n\t\t\t\t) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tconst menuOptionsTop =\n\t\t\t\t\tthis.$refs.menuOptions.getBoundingClientRect().height\n\n\t\t\t\tconst actionIconTop = this.$refs.actionIcon.getBoundingClientRect().top\n\t\t\t\tconst roomFooterTop = roomFooterRef.getBoundingClientRect().top\n\n\t\t\t\tconst optionsTopPosition =\n\t\t\t\t\troomFooterTop - actionIconTop > menuOptionsTop + 50\n\n\t\t\t\tif (optionsTopPosition) this.menuOptionsTop = 30\n\t\t\t\telse this.menuOptionsTop = -menuOptionsTop\n\t\t\t})\n\t\t},\n\t\tcloseOptions() {\n\t\t\tthis.optionsOpened = false\n\t\t\tthis.optionsClosing = true\n\t\t\tthis.updateMessageHover()\n\t\t\tsetTimeout(() => (this.optionsClosing = false), 100)\n\t\t},\n\t\topenEmoji() {\n\t\t\tthis.emojiOpened = !this.emojiOpened\n\t\t},\n\t\tcloseEmoji() {\n\t\t\tthis.emojiOpened = false\n\t\t\tthis.updateMessageHover()\n\t\t},\n\t\tupdateMessageHover() {\n\t\t\tif (this.hoverMessageId !== this.message._id) {\n\t\t\t\tthis.$emit('update-message-hover', false)\n\t\t\t}\n\t\t},\n\t\tmessageActionHandler(action) {\n\t\t\tthis.closeOptions()\n\t\t\tthis.$emit('message-action-handler', action)\n\t\t},\n\t\tsendMessageReaction(emoji, reaction) {\n\t\t\tthis.$emit('send-message-reaction', { emoji, reaction })\n\t\t\tthis.closeEmoji()\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageActions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageActions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageActions.vue?vue&type=template&id=27f1a961&\"\nimport script from \"./MessageActions.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageActions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.message.deleted)?_c('transition-group',{attrs:{\"name\":\"vac-slide-left\",\"tag\":\"span\"}},_vm._l((_vm.message.reactions),function(reaction,key){return _c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(reaction.length),expression:\"reaction.length\"}],key:key + 0,staticClass:\"vac-button-reaction\",class:{\n\t\t\t'vac-reaction-me': reaction.indexOf(_vm.currentUserId) !== -1\n\t\t},style:({\n\t\t\tfloat: _vm.message.senderId === _vm.currentUserId ? 'right' : 'left'\n\t\t}),on:{\"click\":function($event){return _vm.sendMessageReaction({ unicode: key }, reaction)}}},[_vm._v(\" \"+_vm._s(key)),_c('span',[_vm._v(_vm._s(reaction.length))])])}),0):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<transition-group v-if=\"!message.deleted\" name=\"vac-slide-left\" tag=\"span\">\n\t\t<button\n\t\t\tv-for=\"(reaction, key) in message.reactions\"\n\t\t\tv-show=\"reaction.length\"\n\t\t\t:key=\"key + 0\"\n\t\t\tclass=\"vac-button-reaction\"\n\t\t\t:class=\"{\n\t\t\t\t'vac-reaction-me': reaction.indexOf(currentUserId) !== -1\n\t\t\t}\"\n\t\t\t:style=\"{\n\t\t\t\tfloat: message.senderId === currentUserId ? 'right' : 'left'\n\t\t\t}\"\n\t\t\t@click=\"sendMessageReaction({ unicode: key }, reaction)\"\n\t\t>\n\t\t\t{{ key }}<span>{{ reaction.length }}</span>\n\t\t</button>\n\t</transition-group>\n</template>\n\n<script>\nexport default {\n\tname: 'MessageReactions',\n\n\tprops: {\n\t\tcurrentUserId: { type: [String, Number], required: true },\n\t\tmessage: { type: Object, required: true }\n\t},\n\n\temits: ['send-message-reaction'],\n\n\tmethods: {\n\t\tsendMessageReaction(emoji, reaction) {\n\t\t\tthis.$emit('send-message-reaction', { emoji, reaction })\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageReactions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../../demo/node_modules/babel-loader/lib/index.js!../../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageReactions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageReactions.vue?vue&type=template&id=3fc44a38&\"\nimport script from \"./MessageReactions.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageReactions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div :id=\"message._id\" ref=\"message\" class=\"vac-message-wrapper\">\n\t\t<div v-if=\"showDate\" class=\"vac-card-info vac-card-date\">\n\t\t\t{{ message.date }}\n\t\t</div>\n\n\t\t<div v-if=\"newMessage._id === message._id\" class=\"vac-line-new\">\n\t\t\t{{ textMessages.NEW_MESSAGES }}\n\t\t</div>\n\n\t\t<div v-if=\"message.system\" class=\"vac-card-info vac-card-system\">\n\t\t\t<format-message\n\t\t\t\t:content=\"message.content\"\n\t\t\t\t:users=\"roomUsers\"\n\t\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t\t:link-options=\"linkOptions\"\n\t\t\t\t@open-user-tag=\"openUserTag\"\n\t\t\t>\n\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t</template>\n\t\t\t</format-message>\n\t\t</div>\n\n\t\t<div\n\t\t\tv-else\n\t\t\tclass=\"vac-message-box\"\n\t\t\t:class=\"{ 'vac-offset-current': message.senderId === currentUserId }\"\n\t\t\t@click=\"selectMessage\"\n\t\t>\n\t\t\t<slot name=\"message\" v-bind=\"{ message }\">\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"message.avatar && message.senderId !== currentUserId\"\n\t\t\t\t\tclass=\"vac-avatar\"\n\t\t\t\t\t:style=\"{ 'background-image': `url('${message.avatar}')` }\"\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"hasSenderUserAvatar && !message.avatar\"\n\t\t\t\t\tclass=\"vac-avatar-offset\"\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"vac-message-container\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t'vac-message-container-offset': messageOffset\n\t\t\t\t\t}\"\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"vac-message-card\"\n\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t'vac-message-highlight': isMessageHover,\n\t\t\t\t\t\t\t'vac-message-current': message.senderId === currentUserId,\n\t\t\t\t\t\t\t'vac-message-deleted': message.deleted,\n\t\t\t\t\t\t\t'vac-item-clickable': messageSelectionEnabled,\n\t\t\t\t\t\t\t'vac-message-selected': isMessageSelected\n\t\t\t\t\t\t}\"\n\t\t\t\t\t\t@mouseover=\"onHoverMessage\"\n\t\t\t\t\t\t@mouseleave=\"onLeaveMessage\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if=\"showUsername\"\n\t\t\t\t\t\t\tclass=\"vac-text-username\"\n\t\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t\t'vac-username-reply': !message.deleted && message.replyMessage\n\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span>{{ message.username }}</span>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<message-reply\n\t\t\t\t\t\t\tv-if=\"!message.deleted && message.replyMessage\"\n\t\t\t\t\t\t\t:message=\"message\"\n\t\t\t\t\t\t\t:room-users=\"roomUsers\"\n\t\t\t\t\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t\t\t\t\t:link-options=\"linkOptions\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</message-reply>\n\n\t\t\t\t\t\t<div v-if=\"message.deleted\">\n\t\t\t\t\t\t\t<slot name=\"deleted-icon\">\n\t\t\t\t\t\t\t\t<svg-icon name=\"deleted\" class=\"vac-icon-deleted\" />\n\t\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t\t<span>{{ textMessages.MESSAGE_DELETED }}</span>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<format-message\n\t\t\t\t\t\t\tv-else-if=\"!message.files || !message.files.length\"\n\t\t\t\t\t\t\t:content=\"message.content\"\n\t\t\t\t\t\t\t:users=\"roomUsers\"\n\t\t\t\t\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t\t\t\t\t:link-options=\"linkOptions\"\n\t\t\t\t\t\t\t@open-user-tag=\"openUserTag\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</format-message>\n\n\t\t\t\t\t\t<message-files\n\t\t\t\t\t\t\tv-else-if=\"!isAudio || message.files.length > 1\"\n\t\t\t\t\t\t\t:current-user-id=\"currentUserId\"\n\t\t\t\t\t\t\t:message=\"message\"\n\t\t\t\t\t\t\t:room-users=\"roomUsers\"\n\t\t\t\t\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t\t\t\t\t:link-options=\"linkOptions\"\n\t\t\t\t\t\t\t:message-selection-enabled=\"messageSelectionEnabled\"\n\t\t\t\t\t\t\t@open-file=\"openFile\"\n\t\t\t\t\t\t\t@open-user-tag=\"openUserTag\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</message-files>\n\n\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t<audio-player\n\t\t\t\t\t\t\t\t:message-id=\"message._id\"\n\t\t\t\t\t\t\t\t:src=\"message.files[0].url\"\n\t\t\t\t\t\t\t\t:message-selection-enabled=\"messageSelectionEnabled\"\n\t\t\t\t\t\t\t\t@update-progress-time=\"progressTime = $event\"\n\t\t\t\t\t\t\t\t@hover-audio-progress=\"hoverAudioProgress = $event\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</audio-player>\n\n\t\t\t\t\t\t\t<div v-if=\"!message.deleted\" class=\"vac-progress-time\">\n\t\t\t\t\t\t\t\t{{ progressTime }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<div class=\"vac-text-timestamp\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tv-if=\"message.edited && !message.deleted\"\n\t\t\t\t\t\t\t\tclass=\"vac-icon-edited\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<slot name=\"pencil-icon\">\n\t\t\t\t\t\t\t\t\t<svg-icon name=\"pencil\" />\n\t\t\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span>{{ message.timestamp }}</span>\n\t\t\t\t\t\t\t<span v-if=\"isCheckmarkVisible\">\n\t\t\t\t\t\t\t\t<slot name=\"checkmark-icon\" v-bind=\"{ message }\">\n\t\t\t\t\t\t\t\t\t<svg-icon\n\t\t\t\t\t\t\t\t\t\t:name=\"\n\t\t\t\t\t\t\t\t\t\t\tmessage.distributed ? 'double-checkmark' : 'checkmark'\n\t\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t\t\t:param=\"message.seen ? 'seen' : ''\"\n\t\t\t\t\t\t\t\t\t\tclass=\"vac-icon-check\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<message-actions\n\t\t\t\t\t\t\t:current-user-id=\"currentUserId\"\n\t\t\t\t\t\t\t:message=\"message\"\n\t\t\t\t\t\t\t:message-actions=\"messageActions\"\n\t\t\t\t\t\t\t:show-reaction-emojis=\"showReactionEmojis\"\n\t\t\t\t\t\t\t:message-hover=\"messageHover\"\n\t\t\t\t\t\t\t:hover-message-id=\"hoverMessageId\"\n\t\t\t\t\t\t\t:hover-audio-progress=\"hoverAudioProgress\"\n\t\t\t\t\t\t\t@update-message-hover=\"messageHover = $event\"\n\t\t\t\t\t\t\t@update-options-opened=\"optionsOpened = $event\"\n\t\t\t\t\t\t\t@update-emoji-opened=\"emojiOpened = $event\"\n\t\t\t\t\t\t\t@message-action-handler=\"messageActionHandler\"\n\t\t\t\t\t\t\t@send-message-reaction=\"sendMessageReaction\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</message-actions>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<message-reactions\n\t\t\t\t\t\t:current-user-id=\"currentUserId\"\n\t\t\t\t\t\t:message=\"message\"\n\t\t\t\t\t\t@send-message-reaction=\"sendMessageReaction\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<slot name=\"message-failure\" v-bind=\"{ message }\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"message.failure && message.senderId === currentUserId\"\n\t\t\t\t\t\tclass=\"vac-failure-container vac-svg-button\"\n\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t'vac-failure-container-avatar':\n\t\t\t\t\t\t\t\tmessage.avatar && message.senderId === currentUserId\n\t\t\t\t\t\t}\"\n\t\t\t\t\t\t@click=\"$emit('open-failed-message', { message })\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"vac-failure-text\">\n\t\t\t\t\t\t\t!\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</slot>\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"message.avatar && message.senderId === currentUserId\"\n\t\t\t\t\tclass=\"vac-avatar vac-avatar-current\"\n\t\t\t\t\t:style=\"{ 'background-image': `url('${message.avatar}')` }\"\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"hasCurrentUserAvatar && !message.avatar\"\n\t\t\t\t\tclass=\"vac-avatar-current-offset\"\n\t\t\t\t/>\n\t\t\t</slot>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport SvgIcon from '../../../components/SvgIcon/SvgIcon'\nimport FormatMessage from '../../../components/FormatMessage/FormatMessage'\n\nimport MessageReply from './MessageReply/MessageReply'\nimport MessageFiles from './MessageFiles/MessageFiles'\nimport MessageActions from './MessageActions/MessageActions'\nimport MessageReactions from './MessageReactions/MessageReactions'\nimport AudioPlayer from './AudioPlayer/AudioPlayer'\n\nconst { messagesValidation } = require('../../../utils/data-validation')\nconst { isAudioFile } = require('../../../utils/media-file')\n\nexport default {\n\tname: 'RoomMessage',\n\tcomponents: {\n\t\tSvgIcon,\n\t\tFormatMessage,\n\t\tAudioPlayer,\n\t\tMessageReply,\n\t\tMessageFiles,\n\t\tMessageActions,\n\t\tMessageReactions\n\t},\n\n\tprops: {\n\t\tcurrentUserId: { type: [String, Number], required: true },\n\t\ttextMessages: { type: Object, required: true },\n\t\tindex: { type: Number, required: true },\n\t\tmessage: { type: Object, required: true },\n\t\tmessages: { type: Array, required: true },\n\t\teditedMessageId: { type: [String, Number], default: null },\n\t\troomUsers: { type: Array, default: () => [] },\n\t\tmessageActions: { type: Array, required: true },\n\t\tnewMessages: { type: Array, default: () => [] },\n\t\tshowReactionEmojis: { type: Boolean, required: true },\n\t\tshowNewMessagesDivider: { type: Boolean, required: true },\n\t\ttextFormatting: { type: Object, required: true },\n\t\tlinkOptions: { type: Object, required: true },\n\t\tusernameOptions: { type: Object, required: true },\n\t\tmessageSelectionEnabled: { type: Boolean, required: true },\n\t\tselectedMessages: { type: Array, default: () => [] }\n\t},\n\n\temits: [\n\t\t'message-added',\n\t\t'open-file',\n\t\t'open-user-tag',\n\t\t'open-failed-message',\n\t\t'message-action-handler',\n\t\t'send-message-reaction',\n\t\t'select-message',\n\t\t'unselect-message'\n\t],\n\n\tdata() {\n\t\treturn {\n\t\t\thoverMessageId: null,\n\t\t\tmessageHover: false,\n\t\t\toptionsOpened: false,\n\t\t\temojiOpened: false,\n\t\t\tnewMessage: {},\n\t\t\tprogressTime: '- : -',\n\t\t\thoverAudioProgress: false\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tshowUsername() {\n\t\t\tif (\n\t\t\t\t!this.usernameOptions.currentUser &&\n\t\t\t\tthis.message.senderId === this.currentUserId\n\t\t\t) {\n\t\t\t\treturn false\n\t\t\t} else {\n\t\t\t\treturn this.roomUsers.length >= this.usernameOptions.minUsers\n\t\t\t}\n\t\t},\n\t\tshowDate() {\n\t\t\treturn (\n\t\t\t\tthis.index > 0 &&\n\t\t\t\tthis.message.date !== this.messages[this.index - 1].date\n\t\t\t)\n\t\t},\n\t\tmessageOffset() {\n\t\t\treturn (\n\t\t\t\tthis.index > 0 &&\n\t\t\t\tthis.message.senderId !== this.messages[this.index - 1].senderId\n\t\t\t)\n\t\t},\n\t\tisMessageHover() {\n\t\t\treturn (\n\t\t\t\tthis.editedMessageId === this.message._id ||\n\t\t\t\tthis.hoverMessageId === this.message._id\n\t\t\t)\n\t\t},\n\t\tisAudio() {\n\t\t\treturn this.message.files?.some(file => isAudioFile(file))\n\t\t},\n\t\tisCheckmarkVisible() {\n\t\t\treturn (\n\t\t\t\tthis.message.senderId === this.currentUserId &&\n\t\t\t\t!this.message.deleted &&\n\t\t\t\t(this.message.saved || this.message.distributed || this.message.seen)\n\t\t\t)\n\t\t},\n\t\thasCurrentUserAvatar() {\n\t\t\treturn this.messages.some(\n\t\t\t\tmessage => message.senderId === this.currentUserId && message.avatar\n\t\t\t)\n\t\t},\n\t\thasSenderUserAvatar() {\n\t\t\treturn this.messages.some(\n\t\t\t\tmessage => message.senderId !== this.currentUserId && message.avatar\n\t\t\t)\n\t\t},\n\t\tisMessageSelected() {\n\t\t\treturn (\n\t\t\t\tthis.messageSelectionEnabled &&\n\t\t\t\t!!this.selectedMessages.find(\n\t\t\t\t\tmessage => message._id === this.message._id\n\t\t\t\t)\n\t\t\t)\n\t\t}\n\t},\n\n\twatch: {\n\t\tnewMessages: {\n\t\t\timmediate: true,\n\t\t\tdeep: true,\n\t\t\thandler(val) {\n\t\t\t\tif (!val.length || !this.showNewMessagesDivider) {\n\t\t\t\t\tthis.newMessage = {}\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tthis.newMessage = val.reduce((res, obj) =>\n\t\t\t\t\tobj.index < res.index ? obj : res\n\t\t\t\t)\n\t\t\t}\n\t\t},\n\t\tmessageSelectionEnabled() {\n\t\t\tthis.resetMessageHover()\n\t\t}\n\t},\n\n\tmounted() {\n\t\tmessagesValidation(this.message)\n\n\t\tthis.$emit('message-added', {\n\t\t\tmessage: this.message,\n\t\t\tindex: this.index,\n\t\t\tref: this.$refs.message\n\t\t})\n\t},\n\n\tmethods: {\n\t\tonHoverMessage() {\n\t\t\tif (!this.messageSelectionEnabled) {\n\t\t\t\tthis.messageHover = true\n\t\t\t\tif (this.canEditMessage()) this.hoverMessageId = this.message._id\n\t\t\t}\n\t\t},\n\t\tcanEditMessage() {\n\t\t\treturn !this.message.deleted\n\t\t},\n\t\tonLeaveMessage() {\n\t\t\tif (!this.messageSelectionEnabled) {\n\t\t\t\tif (!this.optionsOpened && !this.emojiOpened) this.messageHover = false\n\t\t\t\tthis.hoverMessageId = null\n\t\t\t}\n\t\t},\n\t\tresetMessageHover() {\n\t\t\tthis.messageHover = false\n\t\t\tthis.hoverMessageId = null\n\t\t},\n\t\topenFile(file) {\n\t\t\tthis.$emit('open-file', { message: this.message, file: file })\n\t\t},\n\t\topenUserTag(user) {\n\t\t\tthis.$emit('open-user-tag', { user })\n\t\t},\n\t\tmessageActionHandler(action) {\n\t\t\tthis.resetMessageHover()\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.$emit('message-action-handler', { action, message: this.message })\n\t\t\t}, 300)\n\t\t},\n\t\tsendMessageReaction({ emoji, reaction }) {\n\t\t\tthis.$emit('send-message-reaction', {\n\t\t\t\tmessageId: this.message._id,\n\t\t\t\treaction: emoji,\n\t\t\t\tremove: reaction && reaction.indexOf(this.currentUserId) !== -1\n\t\t\t})\n\t\t\tthis.messageHover = false\n\t\t},\n\t\tselectMessage() {\n\t\t\tif (this.messageSelectionEnabled) {\n\t\t\t\tif (this.isMessageSelected) {\n\t\t\t\t\tthis.$emit('unselect-message', this.message._id)\n\t\t\t\t} else {\n\t\t\t\t\tthis.$emit('select-message', this.message)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomMessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../demo/node_modules/thread-loader/dist/cjs.js!../../../../demo/node_modules/babel-loader/lib/index.js!../../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomMessage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomMessage.vue?vue&type=template&id=545cd2c3&\"\nimport script from \"./RoomMessage.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomMessage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div\n\t\tv-show=\"(isMobile && !showRoomsList) || !isMobile || singleRoom\"\n\t\tclass=\"vac-col-messages\"\n\t\t@touchstart=\"touchStart\"\n\t>\n\t\t<slot v-if=\"showNoRoom\" name=\"no-room-selected\">\n\t\t\t<div class=\"vac-container-center vac-room-empty\">\n\t\t\t\t<div>{{ textMessages.ROOM_EMPTY }}</div>\n\t\t\t</div>\n\t\t</slot>\n\n\t\t<room-header\n\t\t\tv-else\n\t\t\t:current-user-id=\"currentUserId\"\n\t\t\t:text-messages=\"textMessages\"\n\t\t\t:single-room=\"singleRoom\"\n\t\t\t:show-rooms-list=\"showRoomsList\"\n\t\t\t:is-mobile=\"isMobile\"\n\t\t\t:room-info-enabled=\"roomInfoEnabled\"\n\t\t\t:menu-actions=\"menuActions\"\n\t\t\t:room=\"room\"\n\t\t\t:message-selection-enabled=\"messageSelectionEnabled\"\n\t\t\t:message-selection-actions=\"messageSelectionActions\"\n\t\t\t:selected-messages-total=\"selectedMessages.length\"\n\t\t\t@toggle-rooms-list=\"$emit('toggle-rooms-list')\"\n\t\t\t@room-info=\"$emit('room-info')\"\n\t\t\t@menu-action-handler=\"$emit('menu-action-handler', $event)\"\n\t\t\t@message-selection-action-handler=\"messageSelectionActionHandler\"\n\t\t\t@cancel-message-selection=\"messageSelectionEnabled = false\"\n\t\t>\n\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t</template>\n\t\t</room-header>\n\n\t\t<div\n\t\t\tid=\"messages-list\"\n\t\t\tref=\"scrollContainer\"\n\t\t\tclass=\"vac-container-scroll\"\n\t\t\t@scroll=\"onContainerScroll\"\n\t\t>\n\t\t\t<loader :show=\"loadingMessages\">\n\t\t\t\t<template v-for=\"(idx, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t</template>\n\t\t\t</loader>\n\t\t\t<div class=\"vac-messages-container\">\n\t\t\t\t<div :class=\"{ 'vac-messages-hidden': loadingMessages }\">\n\t\t\t\t\t<transition name=\"vac-fade-message\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div v-if=\"showNoMessages\" class=\"vac-text-started\">\n\t\t\t\t\t\t\t\t<slot name=\"messages-empty\">\n\t\t\t\t\t\t\t\t\t{{ textMessages.MESSAGES_EMPTY }}\n\t\t\t\t\t\t\t\t</slot>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-if=\"showMessagesStarted\" class=\"vac-text-started\">\n\t\t\t\t\t\t\t\t{{ textMessages.CONVERSATION_STARTED }} {{ messages[0].date }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</transition>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"messages.length && !messagesLoaded\"\n\t\t\t\t\t\tid=\"infinite-loader-messages\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<loader :show=\"true\" :infinite=\"true\">\n\t\t\t\t\t\t\t<template v-for=\"(idx, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</loader>\n\t\t\t\t\t</div>\n\t\t\t\t\t<transition-group :key=\"roomId\" name=\"vac-fade-message\" tag=\"span\">\n\t\t\t\t\t\t<div v-for=\"(m, i) in messages\" :key=\"m.indexId || m._id\">\n\t\t\t\t\t\t\t<room-message\n\t\t\t\t\t\t\t\t:current-user-id=\"currentUserId\"\n\t\t\t\t\t\t\t\t:message=\"m\"\n\t\t\t\t\t\t\t\t:index=\"i\"\n\t\t\t\t\t\t\t\t:messages=\"messages\"\n\t\t\t\t\t\t\t\t:edited-message-id=\"editedMessageId\"\n\t\t\t\t\t\t\t\t:message-actions=\"messageActions\"\n\t\t\t\t\t\t\t\t:room-users=\"room.users\"\n\t\t\t\t\t\t\t\t:text-messages=\"textMessages\"\n\t\t\t\t\t\t\t\t:new-messages=\"newMessages\"\n\t\t\t\t\t\t\t\t:show-reaction-emojis=\"showReactionEmojis\"\n\t\t\t\t\t\t\t\t:show-new-messages-divider=\"showNewMessagesDivider\"\n\t\t\t\t\t\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t\t\t\t\t\t:link-options=\"linkOptions\"\n\t\t\t\t\t\t\t\t:username-options=\"usernameOptions\"\n\t\t\t\t\t\t\t\t:message-selection-enabled=\"messageSelectionEnabled\"\n\t\t\t\t\t\t\t\t:selected-messages=\"selectedMessages\"\n\t\t\t\t\t\t\t\t@message-added=\"onMessageAdded\"\n\t\t\t\t\t\t\t\t@message-action-handler=\"messageActionHandler\"\n\t\t\t\t\t\t\t\t@open-file=\"openFile\"\n\t\t\t\t\t\t\t\t@open-user-tag=\"openUserTag\"\n\t\t\t\t\t\t\t\t@open-failed-message=\"$emit('open-failed-message', $event)\"\n\t\t\t\t\t\t\t\t@send-message-reaction=\"sendMessageReaction\"\n\t\t\t\t\t\t\t\t@select-message=\"selectMessage\"\n\t\t\t\t\t\t\t\t@unselect-message=\"unselectMessage\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<template v-for=\"(idx, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</room-message>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</transition-group>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div v-if=\"!loadingMessages\">\n\t\t\t<transition name=\"vac-bounce\">\n\t\t\t\t<div v-if=\"scrollIcon\" class=\"vac-icon-scroll\" @click=\"scrollToBottom\">\n\t\t\t\t\t<transition name=\"vac-bounce\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tv-if=\"scrollMessagesCount\"\n\t\t\t\t\t\t\tclass=\"vac-badge-counter vac-messages-count\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ scrollMessagesCount }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</transition>\n\t\t\t\t\t<slot name=\"scroll-icon\">\n\t\t\t\t\t\t<svg-icon name=\"dropdown\" param=\"scroll\" />\n\t\t\t\t\t</slot>\n\t\t\t\t</div>\n\t\t\t</transition>\n\t\t</div>\n\n\t\t<room-footer\n\t\t\t:room=\"room\"\n\t\t\t:room-id=\"roomId\"\n\t\t\t:room-message=\"roomMessage\"\n\t\t\t:text-messages=\"textMessages\"\n\t\t\t:show-send-icon=\"showSendIcon\"\n\t\t\t:show-files=\"showFiles\"\n\t\t\t:show-audio=\"showAudio\"\n\t\t\t:show-emojis=\"showEmojis\"\n\t\t\t:show-footer=\"showFooter\"\n\t\t\t:accepted-files=\"acceptedFiles\"\n\t\t\t:textarea-action-enabled=\"textareaActionEnabled\"\n\t\t\t:user-tags-enabled=\"userTagsEnabled\"\n\t\t\t:emojis-suggestion-enabled=\"emojisSuggestionEnabled\"\n\t\t\t:templates-text=\"templatesText\"\n\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t:link-options=\"linkOptions\"\n\t\t\t:audio-bit-rate=\"audioBitRate\"\n\t\t\t:audio-sample-rate=\"audioSampleRate\"\n\t\t\t:init-reply-message=\"initReplyMessage\"\n\t\t\t:init-edit-message=\"initEditMessage\"\n\t\t\t@update-edited-message-id=\"editedMessageId = $event\"\n\t\t\t@edit-message=\"$emit('edit-message', $event)\"\n\t\t\t@send-message=\"$emit('send-message', $event)\"\n\t\t\t@typing-message=\"$emit('typing-message', $event)\"\n\t\t\t@textarea-action-handler=\"$emit('textarea-action-handler', $event)\"\n\t\t>\n\t\t\t<template v-for=\"(idx, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t</template>\n\t\t</room-footer>\n\t</div>\n</template>\n\n<script>\nimport Loader from '../../components/Loader/Loader'\nimport SvgIcon from '../../components/SvgIcon/SvgIcon'\n\nimport RoomHeader from './RoomHeader/RoomHeader'\nimport RoomFooter from './RoomFooter/RoomFooter'\nimport RoomMessage from './RoomMessage/RoomMessage'\n\nexport default {\n\tname: 'Room',\n\tcomponents: {\n\t\tLoader,\n\t\tSvgIcon,\n\t\tRoomHeader,\n\t\tRoomFooter,\n\t\tRoomMessage\n\t},\n\n\tprops: {\n\t\tcurrentUserId: { type: [String, Number], required: true },\n\t\ttextMessages: { type: Object, required: true },\n\t\tsingleRoom: { type: Boolean, required: true },\n\t\tshowRoomsList: { type: Boolean, required: true },\n\t\tisMobile: { type: Boolean, required: true },\n\t\trooms: { type: Array, required: true },\n\t\troomId: { type: [String, Number], required: true },\n\t\tloadFirstRoom: { type: Boolean, required: true },\n\t\tmessages: { type: Array, required: true },\n\t\troomMessage: { type: String, default: null },\n\t\tmessagesLoaded: { type: Boolean, required: true },\n\t\tmenuActions: { type: Array, required: true },\n\t\tmessageActions: { type: Array, required: true },\n\t\tmessageSelectionActions: { type: Array, required: true },\n\t\tautoScroll: { type: Object, required: true },\n\t\tshowSendIcon: { type: Boolean, required: true },\n\t\tshowFiles: { type: Boolean, required: true },\n\t\tshowAudio: { type: Boolean, required: true },\n\t\taudioBitRate: { type: Number, required: true },\n\t\taudioSampleRate: { type: Number, required: true },\n\t\tshowEmojis: { type: Boolean, required: true },\n\t\tshowReactionEmojis: { type: Boolean, required: true },\n\t\tshowNewMessagesDivider: { type: Boolean, required: true },\n\t\tshowFooter: { type: Boolean, required: true },\n\t\tacceptedFiles: { type: String, required: true },\n\t\ttextFormatting: { type: Object, required: true },\n\t\tlinkOptions: { type: Object, required: true },\n\t\tloadingRooms: { type: Boolean, required: true },\n\t\troomInfoEnabled: { type: Boolean, required: true },\n\t\ttextareaActionEnabled: { type: Boolean, required: true },\n\t\tuserTagsEnabled: { type: Boolean, required: true },\n\t\temojisSuggestionEnabled: { type: Boolean, required: true },\n\t\tscrollDistance: { type: Number, required: true },\n\t\ttemplatesText: { type: Array, default: null },\n\t\tusernameOptions: { type: Object, required: true }\n\t},\n\n\temits: [\n\t\t'toggle-rooms-list',\n\t\t'room-info',\n\t\t'menu-action-handler',\n\t\t'message-selection-action-handler',\n\t\t'edit-message',\n\t\t'send-message',\n\t\t'delete-message',\n\t\t'message-action-handler',\n\t\t'fetch-messages',\n\t\t'send-message-reaction',\n\t\t'typing-message',\n\t\t'open-file',\n\t\t'open-user-tag',\n\t\t'open-failed-message',\n\t\t'textarea-action-handler'\n\t],\n\n\tdata() {\n\t\treturn {\n\t\t\teditedMessageId: null,\n\t\t\tinitReplyMessage: null,\n\t\t\tinitEditMessage: null,\n\t\t\tinfiniteState: null,\n\t\t\tloadingMessages: false,\n\t\t\tobserver: null,\n\t\t\tshowLoader: true,\n\t\t\tloadingMoreMessages: false,\n\t\t\tscrollIcon: false,\n\t\t\tscrollMessagesCount: 0,\n\t\t\tnewMessages: [],\n\t\t\tmessageSelectionEnabled: false,\n\t\t\tselectedMessages: []\n\t\t}\n\t},\n\n\tcomputed: {\n\t\troom() {\n\t\t\treturn this.rooms.find(room => room.roomId === this.roomId) || {}\n\t\t},\n\t\tshowNoMessages() {\n\t\t\treturn (\n\t\t\t\tthis.roomId &&\n\t\t\t\t!this.messages.length &&\n\t\t\t\t!this.loadingMessages &&\n\t\t\t\t!this.loadingRooms\n\t\t\t)\n\t\t},\n\t\tshowNoRoom() {\n\t\t\tconst noRoomSelected =\n\t\t\t\t(!this.rooms.length && !this.loadingRooms) ||\n\t\t\t\t(!this.roomId && !this.loadFirstRoom)\n\n\t\t\tif (noRoomSelected) {\n\t\t\t\tthis.loadingMessages = false /* eslint-disable-line vue/no-side-effects-in-computed-properties */\n\t\t\t}\n\t\t\treturn noRoomSelected\n\t\t},\n\t\tshowMessagesStarted() {\n\t\t\treturn this.messages.length && this.messagesLoaded\n\t\t}\n\t},\n\n\twatch: {\n\t\tloadingMessages(val) {\n\t\t\tif (val) {\n\t\t\t\tthis.infiniteState = null\n\t\t\t} else {\n\t\t\t\tif (this.infiniteState) this.infiniteState.loaded()\n\t\t\t\tsetTimeout(() => this.initIntersectionObserver())\n\t\t\t}\n\t\t},\n\t\troomId() {\n\t\t\tthis.onRoomChanged()\n\t\t},\n\t\tmessages: {\n\t\t\tdeep: true,\n\t\t\thandler(newVal, oldVal) {\n\t\t\t\tnewVal.forEach((message, i) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tthis.showNewMessagesDivider &&\n\t\t\t\t\t\t!message.seen &&\n\t\t\t\t\t\tmessage.senderId !== this.currentUserId\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.newMessages.push({\n\t\t\t\t\t\t\t_id: message._id,\n\t\t\t\t\t\t\tindex: i\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tif (oldVal?.length === newVal?.length - 1) {\n\t\t\t\t\tthis.newMessages = []\n\t\t\t\t}\n\t\t\t\tif (this.infiniteState) {\n\t\t\t\t\tthis.infiniteState.loaded()\n\t\t\t\t}\n\t\t\t\tsetTimeout(() => (this.loadingMoreMessages = false))\n\t\t\t}\n\t\t},\n\t\tmessagesLoaded(val) {\n\t\t\tif (val) this.loadingMessages = false\n\t\t\tif (this.infiniteState) this.infiniteState.complete()\n\t\t}\n\t},\n\n\tmounted() {\n\t\tthis.newMessages = []\n\t},\n\n\tmethods: {\n\t\tinitIntersectionObserver() {\n\t\t\tif (this.observer) {\n\t\t\t\tthis.showLoader = true\n\t\t\t\tthis.observer.disconnect()\n\t\t\t}\n\n\t\t\tconst loader = document.getElementById('infinite-loader-messages')\n\n\t\t\tif (loader) {\n\t\t\t\tconst options = {\n\t\t\t\t\troot: document.getElementById('messages-list'),\n\t\t\t\t\trootMargin: `${this.scrollDistance}px`,\n\t\t\t\t\tthreshold: 0\n\t\t\t\t}\n\n\t\t\t\tthis.observer = new IntersectionObserver(entries => {\n\t\t\t\t\tif (entries[0].isIntersecting) {\n\t\t\t\t\t\tthis.loadMoreMessages()\n\t\t\t\t\t}\n\t\t\t\t}, options)\n\n\t\t\t\tthis.observer.observe(loader)\n\t\t\t}\n\t\t},\n\t\tpreventTopScroll() {\n\t\t\tconst container = this.$refs.scrollContainer\n\t\t\tconst prevScrollHeight = container.scrollHeight\n\n\t\t\tconst observer = new ResizeObserver(_ => {\n\t\t\t\tif (container.scrollHeight !== prevScrollHeight) {\n\t\t\t\t\tif (this.$refs.scrollContainer) {\n\t\t\t\t\t\tthis.$refs.scrollContainer.scrollTo({\n\t\t\t\t\t\t\ttop: container.scrollHeight - prevScrollHeight\n\t\t\t\t\t\t})\n\t\t\t\t\t\tobserver.disconnect()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tfor (var i = 0; i < container.children.length; i++) {\n\t\t\t\tobserver.observe(container.children[i])\n\t\t\t}\n\t\t},\n\t\ttouchStart(touchEvent) {\n\t\t\tif (this.singleRoom) return\n\n\t\t\tif (touchEvent.changedTouches.length === 1) {\n\t\t\t\tconst posXStart = touchEvent.changedTouches[0].clientX\n\t\t\t\tconst posYStart = touchEvent.changedTouches[0].clientY\n\n\t\t\t\taddEventListener(\n\t\t\t\t\t'touchend',\n\t\t\t\t\ttouchEvent => this.touchEnd(touchEvent, posXStart, posYStart),\n\t\t\t\t\t{ once: true }\n\t\t\t\t)\n\t\t\t}\n\t\t},\n\t\ttouchEnd(touchEvent, posXStart, posYStart) {\n\t\t\tif (touchEvent.changedTouches.length === 1) {\n\t\t\t\tconst posXEnd = touchEvent.changedTouches[0].clientX\n\t\t\t\tconst posYEnd = touchEvent.changedTouches[0].clientY\n\n\t\t\t\tconst swippedRight = posXEnd - posXStart > 100\n\t\t\t\tconst swippedVertically = Math.abs(posYEnd - posYStart) > 50\n\n\t\t\t\tif (swippedRight && !swippedVertically) {\n\t\t\t\t\tthis.$emit('toggle-rooms-list')\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonRoomChanged() {\n\t\t\tthis.loadingMessages = true\n\t\t\tthis.scrollIcon = false\n\t\t\tthis.scrollMessagesCount = 0\n\t\t\tthis.resetMessageSelection()\n\n\t\t\tif (!this.messages.length && this.messagesLoaded) {\n\t\t\t\tthis.loadingMessages = false\n\t\t\t}\n\n\t\t\tconst unwatch = this.$watch(\n\t\t\t\t() => this.messages,\n\t\t\t\tval => {\n\t\t\t\t\tif (!val || !val.length) return\n\n\t\t\t\t\tconst element = this.$refs.scrollContainer\n\t\t\t\t\tif (!element) return\n\n\t\t\t\t\tunwatch()\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\telement.scrollTo({ top: element.scrollHeight })\n\t\t\t\t\t\tthis.loadingMessages = false\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t)\n\t\t},\n\t\tresetMessageSelection() {\n\t\t\tthis.messageSelectionEnabled = false\n\t\t\tthis.selectedMessages = []\n\t\t},\n\t\tselectMessage(message) {\n\t\t\tthis.selectedMessages.push(message)\n\t\t},\n\t\tunselectMessage(messageId) {\n\t\t\tthis.selectedMessages = this.selectedMessages.filter(\n\t\t\t\tmessage => message._id !== messageId\n\t\t\t)\n\t\t},\n\t\tonMessageAdded({ message, index, ref }) {\n\t\t\tif (index !== this.messages.length - 1) return\n\n\t\t\tconst autoScrollOffset = ref.offsetHeight + 60\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst scrolledUp =\n\t\t\t\t\tthis.getBottomScroll(this.$refs.scrollContainer) > autoScrollOffset\n\n\t\t\t\tif (message.senderId === this.currentUserId) {\n\t\t\t\t\tif (scrolledUp) {\n\t\t\t\t\t\tif (this.autoScroll.send.newAfterScrollUp) {\n\t\t\t\t\t\t\tthis.scrollToBottom()\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (this.autoScroll.send.new) {\n\t\t\t\t\t\t\tthis.scrollToBottom()\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (scrolledUp) {\n\t\t\t\t\t\tif (this.autoScroll.receive.newAfterScrollUp) {\n\t\t\t\t\t\t\tthis.scrollToBottom()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.scrollIcon = true\n\t\t\t\t\t\t\tthis.scrollMessagesCount++\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (this.autoScroll.receive.new) {\n\t\t\t\t\t\t\tthis.scrollToBottom()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.scrollIcon = true\n\t\t\t\t\t\t\tthis.scrollMessagesCount++\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tonContainerScroll(e) {\n\t\t\tif (!e.target) return\n\n\t\t\tconst bottomScroll = this.getBottomScroll(e.target)\n\t\t\tif (bottomScroll < 60) this.scrollMessagesCount = 0\n\t\t\tthis.scrollIcon = bottomScroll > 500 || this.scrollMessagesCount\n\t\t},\n\t\tloadMoreMessages() {\n\t\t\tif (this.loadingMessages) return\n\n\t\t\tsetTimeout(\n\t\t\t\t() => {\n\t\t\t\t\tif (this.loadingMoreMessages) return\n\n\t\t\t\t\tif (this.messagesLoaded || !this.roomId) {\n\t\t\t\t\t\tthis.loadingMoreMessages = false\n\t\t\t\t\t\tthis.showLoader = false\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.preventTopScroll()\n\t\t\t\t\tthis.$emit('fetch-messages')\n\t\t\t\t\tthis.loadingMoreMessages = true\n\t\t\t\t},\n\t\t\t\t// prevent scroll bouncing speed\n\t\t\t\t500\n\t\t\t)\n\t\t},\n\t\tmessageActionHandler({ action, message }) {\n\t\t\tswitch (action.name) {\n\t\t\t\tcase 'replyMessage':\n\t\t\t\t\tthis.initReplyMessage = message\n\t\t\t\t\treturn\n\t\t\t\tcase 'editMessage':\n\t\t\t\t\tthis.initEditMessage = message\n\t\t\t\t\treturn\n\t\t\t\tcase 'deleteMessage':\n\t\t\t\t\treturn this.$emit('delete-message', message)\n\t\t\t\tcase 'selectMessages':\n\t\t\t\t\tthis.selectedMessages = [message]\n\t\t\t\t\tthis.messageSelectionEnabled = true\n\t\t\t\t\treturn\n\t\t\t\tdefault:\n\t\t\t\t\treturn this.$emit('message-action-handler', { action, message })\n\t\t\t}\n\t\t},\n\t\tmessageSelectionActionHandler(action) {\n\t\t\tthis.$emit('message-selection-action-handler', {\n\t\t\t\taction,\n\t\t\t\tmessages: this.selectedMessages\n\t\t\t})\n\t\t\tthis.resetMessageSelection()\n\t\t},\n\t\tsendMessageReaction(messageReaction) {\n\t\t\tthis.$emit('send-message-reaction', messageReaction)\n\t\t},\n\t\tgetBottomScroll(element) {\n\t\t\tconst { scrollHeight, clientHeight, scrollTop } = element\n\t\t\treturn scrollHeight - clientHeight - scrollTop\n\t\t},\n\t\tscrollToBottom() {\n\t\t\tsetTimeout(() => {\n\t\t\t\tconst element = this.$refs.scrollContainer\n\t\t\t\telement.classList.add('vac-scroll-smooth')\n\t\t\t\telement.scrollTo({ top: element.scrollHeight, behavior: 'smooth' })\n\t\t\t\tsetTimeout(() => element.classList.remove('vac-scroll-smooth'))\n\t\t\t}, 50)\n\t\t},\n\t\topenFile({ message, file }) {\n\t\t\tthis.$emit('open-file', { message, file })\n\t\t},\n\t\topenUserTag(user) {\n\t\t\tthis.$emit('open-user-tag', user)\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./Room.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./Room.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Room.vue?vue&type=template&id=5c60aee1&\"\nimport script from \"./Room.vue?vue&type=script&lang=js&\"\nexport * from \"./Room.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"modal\",staticClass:\"vac-media-preview\",attrs:{\"tabindex\":\"0\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.closeModal.apply(null, arguments)},\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.closeModal.apply(null, arguments)}}},[_c('transition',{attrs:{\"name\":\"vac-bounce-preview\",\"appear\":\"\"}},[(_vm.isImage)?_c('div',{staticClass:\"vac-media-preview-container\"},[_c('div',{staticClass:\"vac-image-preview\",style:({\n\t\t\t\t\t'background-image': (\"url('\" + (_vm.file.url) + \"')\")\n\t\t\t\t})})]):(_vm.isVideo)?_c('div',{staticClass:\"vac-media-preview-container\"},[_c('video',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"controls\":\"\",\"autoplay\":\"\"}},[_c('source',{attrs:{\"src\":_vm.file.url}})])]):_vm._e()]),_c('div',{staticClass:\"vac-svg-button\"},[_vm._t(\"preview-close-icon\",function(){return [_c('svg-icon',{attrs:{\"name\":\"close-outline\",\"param\":\"preview\"}})]})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div\n\t\tref=\"modal\"\n\t\ttabindex=\"0\"\n\t\tclass=\"vac-media-preview\"\n\t\t@click.stop=\"closeModal\"\n\t\t@keydown.esc=\"closeModal\"\n\t>\n\t\t<transition name=\"vac-bounce-preview\" appear>\n\t\t\t<div v-if=\"isImage\" class=\"vac-media-preview-container\">\n\t\t\t\t<div\n\t\t\t\t\tclass=\"vac-image-preview\"\n\t\t\t\t\t:style=\"{\n\t\t\t\t\t\t'background-image': `url('${file.url}')`\n\t\t\t\t\t}\"\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div v-else-if=\"isVideo\" class=\"vac-media-preview-container\">\n\t\t\t\t<video width=\"100%\" height=\"100%\" controls autoplay>\n\t\t\t\t\t<source :src=\"file.url\" />\n\t\t\t\t</video>\n\t\t\t</div>\n\t\t</transition>\n\n\t\t<div class=\"vac-svg-button\">\n\t\t\t<slot name=\"preview-close-icon\">\n\t\t\t\t<svg-icon name=\"close-outline\" param=\"preview\" />\n\t\t\t</slot>\n\t\t</div>\n\t</div>\n</template>\n<script>\nimport SvgIcon from '../../components/SvgIcon/SvgIcon'\n\nconst { isImageFile, isVideoFile } = require('../../utils/media-file')\n\nexport default {\n\tname: 'MediaPreview',\n\tcomponents: {\n\t\tSvgIcon\n\t},\n\n\tprops: {\n\t\tfile: { type: Object, required: true }\n\t},\n\n\temits: ['close-media-preview'],\n\n\tcomputed: {\n\t\tisImage() {\n\t\t\treturn isImageFile(this.file)\n\t\t},\n\t\tisVideo() {\n\t\t\treturn isVideoFile(this.file)\n\t\t}\n\t},\n\n\tmounted() {\n\t\tthis.$refs.modal.focus()\n\t},\n\n\tmethods: {\n\t\tcloseModal() {\n\t\t\tthis.$emit('close-media-preview')\n\t\t}\n\t}\n}\n</script>\n","import mod from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaPreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../demo/node_modules/thread-loader/dist/cjs.js!../../../demo/node_modules/babel-loader/lib/index.js!../../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./MediaPreview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MediaPreview.vue?vue&type=template&id=2d3ea15a&\"\nimport script from \"./MediaPreview.vue?vue&type=script&lang=js&\"\nexport * from \"./MediaPreview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\n\tROOMS_EMPTY: 'No rooms',\n\tROOM_EMPTY: 'No room selected',\n\tNEW_MESSAGES: 'New Messages',\n\tMESSAGE_DELETED: 'This message was deleted',\n\tMESSAGES_EMPTY: 'No messages',\n\tCONVERSATION_STARTED: 'Conversation started on:',\n\tTYPE_MESSAGE: 'Type message',\n\tSEARCH: 'Search',\n\tIS_ONLINE: 'is online',\n\tLAST_SEEN: 'last seen ',\n\tIS_TYPING: 'is writing...',\n\tCANCEL_SELECT_MESSAGE: 'Cancel'\n}\n","export const defaultThemeStyles = {\n\tlight: {\n\t\tgeneral: {\n\t\t\tcolor: '#0a0a0a',\n\t\t\tcolorButtonClear: '#1976d2',\n\t\t\tcolorButton: '#fff',\n\t\t\tbackgroundColorButton: '#1976d2',\n\t\t\tbackgroundInput: '#fff',\n\t\t\tcolorPlaceholder: '#9ca6af',\n\t\t\tcolorCaret: '#1976d2',\n\t\t\tcolorSpinner: '#333',\n\t\t\tborderStyle: '1px solid #e1e4e8',\n\t\t\tbackgroundScrollIcon: '#fff'\n\t\t},\n\n\t\tcontainer: {\n\t\t\tborder: 'none',\n\t\t\tborderRadius: '4px',\n\t\t\tboxShadow:\n\t\t\t\t'0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)'\n\t\t},\n\n\t\theader: {\n\t\t\tbackground: '#fff',\n\t\t\tcolorRoomName: '#0a0a0a',\n\t\t\tcolorRoomInfo: '#9ca6af'\n\t\t},\n\n\t\tfooter: {\n\t\t\tbackground: '#f8f9fa',\n\t\t\tborderStyleInput: '1px solid #e1e4e8',\n\t\t\tborderInputSelected: '#1976d2',\n\t\t\tbackgroundReply: '#e5e5e6',\n\t\t\tbackgroundTagActive: '#e5e5e6',\n\t\t\tbackgroundTag: '#f8f9fa'\n\t\t},\n\n\t\tcontent: {\n\t\t\tbackground: '#f8f9fa'\n\t\t},\n\n\t\tsidemenu: {\n\t\t\tbackground: '#fff',\n\t\t\tbackgroundHover: '#f6f6f6',\n\t\t\tbackgroundActive: '#e5effa',\n\t\t\tcolorActive: '#1976d2',\n\t\t\tborderColorSearch: '#e1e5e8'\n\t\t},\n\n\t\tdropdown: {\n\t\t\tbackground: '#fff',\n\t\t\tbackgroundHover: '#f6f6f6'\n\t\t},\n\n\t\tmessage: {\n\t\t\tbackground: '#fff',\n\t\t\tbackgroundMe: '#ccf2cf',\n\t\t\tcolor: '#0a0a0a',\n\t\t\tcolorStarted: '#9ca6af',\n\t\t\tbackgroundDeleted: '#dadfe2',\n\t\t\tbackgroundSelected: '#c2dcf2',\n\t\t\tcolorDeleted: '#757e85',\n\t\t\tcolorUsername: '#9ca6af',\n\t\t\tcolorTimestamp: '#828c94',\n\t\t\tbackgroundDate: '#e5effa',\n\t\t\tcolorDate: '#505a62',\n\t\t\tbackgroundSystem: '#e5effa',\n\t\t\tcolorSystem: '#505a62',\n\t\t\tbackgroundMedia: 'rgba(0, 0, 0, 0.15)',\n\t\t\tbackgroundReply: 'rgba(0, 0, 0, 0.08)',\n\t\t\tcolorReplyUsername: '#0a0a0a',\n\t\t\tcolorReply: '#6e6e6e',\n\t\t\tcolorTag: '#0d579c',\n\t\t\tbackgroundImage: '#ddd',\n\t\t\tcolorNewMessages: '#1976d2',\n\t\t\tbackgroundScrollCounter: '#0696c7',\n\t\t\tcolorScrollCounter: '#fff',\n\t\t\tbackgroundReaction: '#eee',\n\t\t\tborderStyleReaction: '1px solid #eee',\n\t\t\tbackgroundReactionHover: '#fff',\n\t\t\tborderStyleReactionHover: '1px solid #ddd',\n\t\t\tcolorReactionCounter: '#0a0a0a',\n\t\t\tbackgroundReactionMe: '#cfecf5',\n\t\t\tborderStyleReactionMe: '1px solid #3b98b8',\n\t\t\tbackgroundReactionHoverMe: '#cfecf5',\n\t\t\tborderStyleReactionHoverMe: '1px solid #3b98b8',\n\t\t\tcolorReactionCounterMe: '#0b59b3',\n\t\t\tbackgroundAudioRecord: '#eb4034',\n\t\t\tbackgroundAudioLine: 'rgba(0, 0, 0, 0.15)',\n\t\t\tbackgroundAudioProgress: '#455247',\n\t\t\tbackgroundAudioProgressSelector: '#455247',\n\t\t\tcolorFileExtension: '#757e85'\n\t\t},\n\n\t\tmarkdown: {\n\t\t\tbackground: 'rgba(239, 239, 239, 0.7)',\n\t\t\tborder: 'rgba(212, 212, 212, 0.9)',\n\t\t\tcolor: '#e01e5a',\n\t\t\tcolorMulti: '#0a0a0a'\n\t\t},\n\n\t\troom: {\n\t\t\tcolorUsername: '#0a0a0a',\n\t\t\tcolorMessage: '#67717a',\n\t\t\tcolorTimestamp: '#a2aeb8',\n\t\t\tcolorStateOnline: '#4caf50',\n\t\t\tcolorStateOffline: '#9ca6af',\n\t\t\tbackgroundCounterBadge: '#0696c7',\n\t\t\tcolorCounterBadge: '#fff'\n\t\t},\n\n\t\temoji: {\n\t\t\tbackground: '#fff'\n\t\t},\n\n\t\ticons: {\n\t\t\tsearch: '#9ca6af',\n\t\t\tadd: '#1976d2',\n\t\t\ttoggle: '#0a0a0a',\n\t\t\tmenu: '#0a0a0a',\n\t\t\tclose: '#9ca6af',\n\t\t\tcloseImage: '#fff',\n\t\t\tfile: '#1976d2',\n\t\t\tpaperclip: '#1976d2',\n\t\t\tcloseOutline: '#000',\n\t\t\tclosePreview: '#fff',\n\t\t\tsend: '#1976d2',\n\t\t\tsendDisabled: '#9ca6af',\n\t\t\temoji: '#1976d2',\n\t\t\temojiReaction: 'rgba(0, 0, 0, 0.3)',\n\t\t\tdocument: '#1976d2',\n\t\t\tpencil: '#9e9e9e',\n\t\t\tcheckmark: '#9e9e9e',\n\t\t\tcheckmarkSeen: '#0696c7',\n\t\t\teye: '#fff',\n\t\t\tdropdownMessage: '#fff',\n\t\t\tdropdownMessageBackground: 'rgba(0, 0, 0, 0.25)',\n\t\t\tdropdownRoom: '#9e9e9e',\n\t\t\tdropdownScroll: '#0a0a0a',\n\t\t\tmicrophone: '#1976d2',\n\t\t\taudioPlay: '#455247',\n\t\t\taudioPause: '#455247',\n\t\t\taudioCancel: '#eb4034',\n\t\t\taudioConfirm: '#1ba65b'\n\t\t}\n\t},\n\tdark: {\n\t\tgeneral: {\n\t\t\tcolor: '#fff',\n\t\t\tcolorButtonClear: '#fff',\n\t\t\tcolorButton: '#fff',\n\t\t\tbackgroundColorButton: '#1976d2',\n\t\t\tbackgroundInput: '#202223',\n\t\t\tcolorPlaceholder: '#596269',\n\t\t\tcolorCaret: '#fff',\n\t\t\tcolorSpinner: '#fff',\n\t\t\tborderStyle: 'none',\n\t\t\tbackgroundScrollIcon: '#fff'\n\t\t},\n\n\t\tcontainer: {\n\t\t\tborder: 'none',\n\t\t\tborderRadius: '4px',\n\t\t\tboxShadow:\n\t\t\t\t'0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)'\n\t\t},\n\n\t\theader: {\n\t\t\tbackground: '#181a1b',\n\t\t\tcolorRoomName: '#fff',\n\t\t\tcolorRoomInfo: '#9ca6af'\n\t\t},\n\n\t\tfooter: {\n\t\t\tbackground: '#131415',\n\t\t\tborderStyleInput: 'none',\n\t\t\tborderInputSelected: '#1976d2',\n\t\t\tbackgroundReply: '#1b1c1c',\n\t\t\tbackgroundTagActive: '#1b1c1c',\n\t\t\tbackgroundTag: '#131415'\n\t\t},\n\n\t\tcontent: {\n\t\t\tbackground: '#131415'\n\t\t},\n\n\t\tsidemenu: {\n\t\t\tbackground: '#181a1b',\n\t\t\tbackgroundHover: '#202224',\n\t\t\tbackgroundActive: '#151617',\n\t\t\tcolorActive: '#fff',\n\t\t\tborderColorSearch: '#181a1b'\n\t\t},\n\n\t\tdropdown: {\n\t\t\tbackground: '#2a2c33',\n\t\t\tbackgroundHover: '#26282e'\n\t\t},\n\n\t\tmessage: {\n\t\t\tbackground: '#22242a',\n\t\t\tbackgroundMe: '#1f7e80',\n\t\t\tcolor: '#fff',\n\t\t\tcolorStarted: '#9ca6af',\n\t\t\tbackgroundDeleted: '#1b1c21',\n\t\t\tbackgroundSelected: '#c2dcf2',\n\t\t\tcolorDeleted: '#a2a5a8',\n\t\t\tcolorUsername: '#b3bac9',\n\t\t\tcolorTimestamp: '#ebedf2',\n\t\t\tbackgroundDate: 'rgba(0, 0, 0, 0.3)',\n\t\t\tcolorDate: '#bec5cc',\n\t\t\tbackgroundSystem: 'rgba(0, 0, 0, 0.3)',\n\t\t\tcolorSystem: '#bec5cc',\n\t\t\tbackgroundMedia: 'rgba(0, 0, 0, 0.18)',\n\t\t\tbackgroundReply: 'rgba(0, 0, 0, 0.18)',\n\t\t\tcolorReplyUsername: '#fff',\n\t\t\tcolorReply: '#d6d6d6',\n\t\t\tcolorTag: '#f0c60a',\n\t\t\tbackgroundImage: '#ddd',\n\t\t\tcolorNewMessages: '#fff',\n\t\t\tbackgroundScrollCounter: '#1976d2',\n\t\t\tcolorScrollCounter: '#fff',\n\t\t\tbackgroundReaction: 'none',\n\t\t\tborderStyleReaction: 'none',\n\t\t\tbackgroundReactionHover: '#202223',\n\t\t\tborderStyleReactionHover: 'none',\n\t\t\tcolorReactionCounter: '#fff',\n\t\t\tbackgroundReactionMe: '#4e9ad1',\n\t\t\tborderStyleReactionMe: 'none',\n\t\t\tbackgroundReactionHoverMe: '#4e9ad1',\n\t\t\tborderStyleReactionHoverMe: 'none',\n\t\t\tcolorReactionCounterMe: '#fff',\n\t\t\tbackgroundAudioRecord: '#eb4034',\n\t\t\tbackgroundAudioLine: 'rgba(255, 255, 255, 0.15)',\n\t\t\tbackgroundAudioProgress: '#b7d4d3',\n\t\t\tbackgroundAudioProgressSelector: '#b7d4d3',\n\t\t\tcolorFileExtension: '#a2a5a8'\n\t\t},\n\n\t\tmarkdown: {\n\t\t\tbackground: 'rgba(239, 239, 239, 0.7)',\n\t\t\tborder: 'rgba(212, 212, 212, 0.9)',\n\t\t\tcolor: '#e01e5a',\n\t\t\tcolorMulti: '#0a0a0a'\n\t\t},\n\n\t\troom: {\n\t\t\tcolorUsername: '#fff',\n\t\t\tcolorMessage: '#6c7278',\n\t\t\tcolorTimestamp: '#6c7278',\n\t\t\tcolorStateOnline: '#4caf50',\n\t\t\tcolorStateOffline: '#596269',\n\t\t\tbackgroundCounterBadge: '#1976d2',\n\t\t\tcolorCounterBadge: '#fff'\n\t\t},\n\n\t\temoji: {\n\t\t\tbackground: '#343740'\n\t\t},\n\n\t\ticons: {\n\t\t\tsearch: '#596269',\n\t\t\tadd: '#fff',\n\t\t\ttoggle: '#fff',\n\t\t\tmenu: '#fff',\n\t\t\tclose: '#9ca6af',\n\t\t\tcloseImage: '#fff',\n\t\t\tfile: '#1976d2',\n\t\t\tpaperclip: '#fff',\n\t\t\tcloseOutline: '#fff',\n\t\t\tclosePreview: '#fff',\n\t\t\tsend: '#fff',\n\t\t\tsendDisabled: '#646a70',\n\t\t\temoji: '#fff',\n\t\t\temojiReaction: '#fff',\n\t\t\tdocument: '#1976d2',\n\t\t\tpencil: '#ebedf2',\n\t\t\tcheckmark: '#ebedf2',\n\t\t\tcheckmarkSeen: '#f0d90a',\n\t\t\teye: '#fff',\n\t\t\tdropdownMessage: '#fff',\n\t\t\tdropdownMessageBackground: 'rgba(0, 0, 0, 0.25)',\n\t\t\tdropdownRoom: '#fff',\n\t\t\tdropdownScroll: '#0a0a0a',\n\t\t\tmicrophone: '#fff',\n\t\t\taudioPlay: '#b7d4d3',\n\t\t\taudioPause: '#b7d4d3',\n\t\t\taudioCancel: '#eb4034',\n\t\t\taudioConfirm: '#1ba65b'\n\t\t}\n\t}\n}\n\nexport const cssThemeVars = ({\n\tgeneral,\n\tcontainer,\n\theader,\n\tfooter,\n\tsidemenu,\n\tcontent,\n\tdropdown,\n\tmessage,\n\tmarkdown,\n\troom,\n\temoji,\n\ticons\n}) => {\n\treturn {\n\t\t// general\n\t\t'--chat-color': general.color,\n\t\t'--chat-color-button-clear': general.colorButtonClear,\n\t\t'--chat-color-button': general.colorButton,\n\t\t'--chat-bg-color-button': general.backgroundColorButton,\n\t\t'--chat-bg-color-input': general.backgroundInput,\n\t\t'--chat-color-spinner': general.colorSpinner,\n\t\t'--chat-color-placeholder': general.colorPlaceholder,\n\t\t'--chat-color-caret': general.colorCaret,\n\t\t'--chat-border-style': general.borderStyle,\n\t\t'--chat-bg-scroll-icon': general.backgroundScrollIcon,\n\n\t\t// container\n\t\t'--chat-container-border': container.border,\n\t\t'--chat-container-border-radius': container.borderRadius,\n\t\t'--chat-container-box-shadow': container.boxShadow,\n\n\t\t// header\n\t\t'--chat-header-bg-color': header.background,\n\t\t'--chat-header-color-name': header.colorRoomName,\n\t\t'--chat-header-color-info': header.colorRoomInfo,\n\n\t\t// footer\n\t\t'--chat-footer-bg-color': footer.background,\n\t\t'--chat-border-style-input': footer.borderStyleInput,\n\t\t'--chat-border-color-input-selected': footer.borderInputSelected,\n\t\t'--chat-footer-bg-color-reply': footer.backgroundReply,\n\t\t'--chat-footer-bg-color-tag-active': footer.backgroundTagActive,\n\t\t'--chat-footer-bg-color-tag': footer.backgroundTag,\n\n\t\t// content\n\t\t'--chat-content-bg-color': content.background,\n\n\t\t// sidemenu\n\t\t'--chat-sidemenu-bg-color': sidemenu.background,\n\t\t'--chat-sidemenu-bg-color-hover': sidemenu.backgroundHover,\n\t\t'--chat-sidemenu-bg-color-active': sidemenu.backgroundActive,\n\t\t'--chat-sidemenu-color-active': sidemenu.colorActive,\n\t\t'--chat-sidemenu-border-color-search': sidemenu.borderColorSearch,\n\n\t\t// dropdown\n\t\t'--chat-dropdown-bg-color': dropdown.background,\n\t\t'--chat-dropdown-bg-color-hover': dropdown.backgroundHover,\n\n\t\t// message\n\t\t'--chat-message-bg-color': message.background,\n\t\t'--chat-message-bg-color-me': message.backgroundMe,\n\t\t'--chat-message-color-started': message.colorStarted,\n\t\t'--chat-message-bg-color-deleted': message.backgroundDeleted,\n\t\t'--chat-message-bg-color-selected': message.backgroundSelected,\n\t\t'--chat-message-color-deleted': message.colorDeleted,\n\t\t'--chat-message-color-username': message.colorUsername,\n\t\t'--chat-message-color-timestamp': message.colorTimestamp,\n\t\t'--chat-message-bg-color-date': message.backgroundDate,\n\t\t'--chat-message-color-date': message.colorDate,\n\t\t'--chat-message-bg-color-system': message.backgroundSystem,\n\t\t'--chat-message-color-system': message.colorSystem,\n\t\t'--chat-message-color': message.color,\n\t\t'--chat-message-bg-color-media': message.backgroundMedia,\n\t\t'--chat-message-bg-color-reply': message.backgroundReply,\n\t\t'--chat-message-color-reply-username': message.colorReplyUsername,\n\t\t'--chat-message-color-reply-content': message.colorReply,\n\t\t'--chat-message-color-tag': message.colorTag,\n\t\t'--chat-message-bg-color-image': message.backgroundImage,\n\t\t'--chat-message-color-new-messages': message.colorNewMessages,\n\t\t'--chat-message-bg-color-scroll-counter': message.backgroundScrollCounter,\n\t\t'--chat-message-color-scroll-counter': message.colorScrollCounter,\n\t\t'--chat-message-bg-color-reaction': message.backgroundReaction,\n\t\t'--chat-message-border-style-reaction': message.borderStyleReaction,\n\t\t'--chat-message-bg-color-reaction-hover': message.backgroundReactionHover,\n\t\t'--chat-message-border-style-reaction-hover':\n\t\t\tmessage.borderStyleReactionHover,\n\t\t'--chat-message-color-reaction-counter': message.colorReactionCounter,\n\t\t'--chat-message-bg-color-reaction-me': message.backgroundReactionMe,\n\t\t'--chat-message-border-style-reaction-me': message.borderStyleReactionMe,\n\t\t'--chat-message-bg-color-reaction-hover-me':\n\t\t\tmessage.backgroundReactionHoverMe,\n\t\t'--chat-message-border-style-reaction-hover-me':\n\t\t\tmessage.borderStyleReactionHoverMe,\n\t\t'--chat-message-color-reaction-counter-me': message.colorReactionCounterMe,\n\t\t'--chat-message-bg-color-audio-record': message.backgroundAudioRecord,\n\t\t'--chat-message-bg-color-audio-line': message.backgroundAudioLine,\n\t\t'--chat-message-bg-color-audio-progress': message.backgroundAudioProgress,\n\t\t'--chat-message-bg-color-audio-progress-selector':\n\t\t\tmessage.backgroundAudioProgressSelector,\n\t\t'--chat-message-color-file-extension': message.colorFileExtension,\n\n\t\t// markdown\n\t\t'--chat-markdown-bg': markdown.background,\n\t\t'--chat-markdown-border': markdown.border,\n\t\t'--chat-markdown-color': markdown.color,\n\t\t'--chat-markdown-color-multi': markdown.colorMulti,\n\n\t\t// room\n\t\t'--chat-room-color-username': room.colorUsername,\n\t\t'--chat-room-color-message': room.colorMessage,\n\t\t'--chat-room-color-timestamp': room.colorTimestamp,\n\t\t'--chat-room-color-online': room.colorStateOnline,\n\t\t'--chat-room-color-offline': room.colorStateOffline,\n\t\t'--chat-room-bg-color-badge': room.backgroundCounterBadge,\n\t\t'--chat-room-color-badge': room.colorCounterBadge,\n\n\t\t// emoji\n\t\t'--chat-emoji-bg-color': emoji.background,\n\n\t\t// icons\n\t\t'--chat-icon-color-search': icons.search,\n\t\t'--chat-icon-color-add': icons.add,\n\t\t'--chat-icon-color-toggle': icons.toggle,\n\t\t'--chat-icon-color-menu': icons.menu,\n\t\t'--chat-icon-color-close': icons.close,\n\t\t'--chat-icon-color-close-image': icons.closeImage,\n\t\t'--chat-icon-color-file': icons.file,\n\t\t'--chat-icon-color-paperclip': icons.paperclip,\n\t\t'--chat-icon-color-close-outline': icons.closeOutline,\n\t\t'--chat-icon-color-close-preview': icons.closePreview,\n\t\t'--chat-icon-color-send': icons.send,\n\t\t'--chat-icon-color-send-disabled': icons.sendDisabled,\n\t\t'--chat-icon-color-emoji': icons.emoji,\n\t\t'--chat-icon-color-emoji-reaction': icons.emojiReaction,\n\t\t'--chat-icon-color-document': icons.document,\n\t\t'--chat-icon-color-pencil': icons.pencil,\n\t\t'--chat-icon-color-checkmark': icons.checkmark,\n\t\t'--chat-icon-color-checkmark-seen': icons.checkmarkSeen,\n\t\t'--chat-icon-color-eye': icons.eye,\n\t\t'--chat-icon-color-dropdown-message': icons.dropdownMessage,\n\t\t'--chat-icon-bg-dropdown-message': icons.dropdownMessageBackground,\n\t\t'--chat-icon-color-dropdown-room': icons.dropdownRoom,\n\t\t'--chat-icon-color-dropdown-scroll': icons.dropdownScroll,\n\t\t'--chat-icon-color-microphone': icons.microphone,\n\t\t'--chat-icon-color-audio-play': icons.audioPlay,\n\t\t'--chat-icon-color-audio-pause': icons.audioPause,\n\t\t'--chat-icon-color-audio-cancel': icons.audioCancel,\n\t\t'--chat-icon-color-audio-confirm': icons.audioConfirm\n\t}\n}\n","<template>\n\t<div class=\"vac-card-window\" :style=\"[{ height }, cssVars]\">\n\t\t<div class=\"vac-chat-container\">\n\t\t\t<rooms-list\n\t\t\t\tv-if=\"!singleRoom\"\n\t\t\t\t:current-user-id=\"currentUserId\"\n\t\t\t\t:rooms=\"orderedRooms\"\n\t\t\t\t:loading-rooms=\"loadingRooms\"\n\t\t\t\t:rooms-loaded=\"roomsLoaded\"\n\t\t\t\t:room=\"room\"\n\t\t\t\t:room-actions=\"roomActions\"\n\t\t\t\t:text-messages=\"t\"\n\t\t\t\t:show-search=\"showSearch\"\n\t\t\t\t:show-add-room=\"showAddRoom\"\n\t\t\t\t:show-rooms-list=\"showRoomsList\"\n\t\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t\t:link-options=\"linkOptions\"\n\t\t\t\t:is-mobile=\"isMobile\"\n\t\t\t\t:scroll-distance=\"scrollDistance\"\n\t\t\t\t@fetch-room=\"fetchRoom\"\n\t\t\t\t@fetch-more-rooms=\"fetchMoreRooms\"\n\t\t\t\t@loading-more-rooms=\"loadingMoreRooms = $event\"\n\t\t\t\t@add-room=\"addRoom\"\n\t\t\t\t@room-action-handler=\"roomActionHandler\"\n\t\t\t>\n\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t</template>\n\t\t\t</rooms-list>\n\n\t\t\t<room\n\t\t\t\t:current-user-id=\"currentUserId\"\n\t\t\t\t:rooms=\"rooms\"\n\t\t\t\t:room-id=\"room.roomId || ''\"\n\t\t\t\t:load-first-room=\"loadFirstRoom\"\n\t\t\t\t:messages=\"messages\"\n\t\t\t\t:room-message=\"roomMessage\"\n\t\t\t\t:messages-loaded=\"messagesLoaded\"\n\t\t\t\t:menu-actions=\"menuActions\"\n\t\t\t\t:message-actions=\"messageActions\"\n\t\t\t\t:message-selection-actions=\"messageSelectionActions\"\n\t\t\t\t:auto-scroll=\"autoScroll\"\n\t\t\t\t:show-send-icon=\"showSendIcon\"\n\t\t\t\t:show-files=\"showFiles\"\n\t\t\t\t:show-audio=\"showAudio\"\n\t\t\t\t:audio-bit-rate=\"audioBitRate\"\n\t\t\t\t:audio-sample-rate=\"audioSampleRate\"\n\t\t\t\t:show-emojis=\"showEmojis\"\n\t\t\t\t:show-reaction-emojis=\"showReactionEmojis\"\n\t\t\t\t:show-new-messages-divider=\"showNewMessagesDivider\"\n\t\t\t\t:show-footer=\"showFooter\"\n\t\t\t\t:text-messages=\"t\"\n\t\t\t\t:single-room=\"singleRoom\"\n\t\t\t\t:show-rooms-list=\"showRoomsList\"\n\t\t\t\t:text-formatting=\"textFormatting\"\n\t\t\t\t:link-options=\"linkOptions\"\n\t\t\t\t:is-mobile=\"isMobile\"\n\t\t\t\t:loading-rooms=\"loadingRooms\"\n\t\t\t\t:room-info-enabled=\"roomInfoEnabled\"\n\t\t\t\t:textarea-action-enabled=\"textareaActionEnabled\"\n\t\t\t\t:user-tags-enabled=\"userTagsEnabled\"\n\t\t\t\t:emojis-suggestion-enabled=\"emojisSuggestionEnabled\"\n\t\t\t\t:scroll-distance=\"scrollDistance\"\n\t\t\t\t:accepted-files=\"acceptedFiles\"\n\t\t\t\t:templates-text=\"templatesText\"\n\t\t\t\t:username-options=\"usernameOptions\"\n\t\t\t\t@toggle-rooms-list=\"toggleRoomsList\"\n\t\t\t\t@room-info=\"roomInfo\"\n\t\t\t\t@fetch-messages=\"fetchMessages\"\n\t\t\t\t@send-message=\"sendMessage\"\n\t\t\t\t@edit-message=\"editMessage\"\n\t\t\t\t@delete-message=\"deleteMessage\"\n\t\t\t\t@open-file=\"openFile\"\n\t\t\t\t@open-user-tag=\"openUserTag\"\n\t\t\t\t@open-failed-message=\"openFailedMessage\"\n\t\t\t\t@menu-action-handler=\"menuActionHandler\"\n\t\t\t\t@message-action-handler=\"messageActionHandler\"\n\t\t\t\t@message-selection-action-handler=\"messageSelectionActionHandler\"\n\t\t\t\t@send-message-reaction=\"sendMessageReaction\"\n\t\t\t\t@typing-message=\"typingMessage\"\n\t\t\t\t@textarea-action-handler=\"textareaActionHandler\"\n\t\t\t>\n\t\t\t\t<template v-for=\"(i, name) in $scopedSlots\" #[name]=\"data\">\n\t\t\t\t\t<slot :name=\"name\" v-bind=\"data\" />\n\t\t\t\t</template>\n\t\t\t</room>\n\t\t</div>\n\t\t<transition name=\"vac-fade-preview\" appear>\n\t\t\t<media-preview\n\t\t\t\tv-if=\"showMediaPreview\"\n\t\t\t\t:file=\"previewFile\"\n\t\t\t\t@close-media-preview=\"showMediaPreview = false\"\n\t\t\t/>\n\t\t</transition>\n\t</div>\n</template>\n\n<script>\nimport RoomsList from './RoomsList/RoomsList'\nimport Room from './Room/Room'\nimport MediaPreview from './MediaPreview/MediaPreview'\n\nimport locales from '../locales'\nimport { defaultThemeStyles, cssThemeVars } from '../themes'\nconst {\n\troomsValidation,\n\tpartcipantsValidation\n} = require('../utils/data-validation')\n\nexport default {\n\tname: 'ChatContainer',\n\tcomponents: {\n\t\tRoomsList,\n\t\tRoom,\n\t\tMediaPreview\n\t},\n\n\tprops: {\n\t\theight: { type: String, default: '600px' },\n\t\ttheme: { type: String, default: 'light' },\n\t\tstyles: { type: Object, default: () => ({}) },\n\t\tresponsiveBreakpoint: { type: Number, default: 900 },\n\t\tsingleRoom: { type: Boolean, default: false },\n\t\troomsListOpened: { type: Boolean, default: true },\n\t\ttextMessages: { type: Object, default: null },\n\t\tcurrentUserId: { type: [String, Number], default: '' },\n\t\trooms: { type: Array, default: () => [] },\n\t\troomsOrder: { type: String, default: 'desc' },\n\t\tloadingRooms: { type: Boolean, default: false },\n\t\troomsLoaded: { type: Boolean, default: false },\n\t\troomId: { type: [String, Number], default: null },\n\t\tloadFirstRoom: { type: Boolean, default: true },\n\t\tmessages: { type: Array, default: () => [] },\n\t\tmessagesLoaded: { type: Boolean, default: false },\n\t\troomActions: { type: Array, default: () => [] },\n\t\tmenuActions: { type: Array, default: () => [] },\n\t\tmessageActions: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [\n\t\t\t\t{ name: 'replyMessage', title: 'Reply' },\n\t\t\t\t{ name: 'editMessage', title: 'Edit Message', onlyMe: true },\n\t\t\t\t{ name: 'deleteMessage', title: 'Delete Message', onlyMe: true },\n\t\t\t\t{ name: 'selectMessages', title: 'Select' }\n\t\t\t]\n\t\t},\n\t\tmessageSelectionActions: { type: Array, default: () => [] },\n\t\tautoScroll: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {\n\t\t\t\treturn {\n\t\t\t\t\tsend: {\n\t\t\t\t\t\tnew: true,\n\t\t\t\t\t\tnewAfterScrollUp: true\n\t\t\t\t\t},\n\t\t\t\t\treceive: {\n\t\t\t\t\t\tnew: true,\n\t\t\t\t\t\tnewAfterScrollUp: false\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tshowSearch: { type: Boolean, default: true },\n\t\tshowAddRoom: { type: Boolean, default: true },\n\t\tshowSendIcon: { type: Boolean, default: true },\n\t\tshowFiles: { type: Boolean, default: true },\n\t\tshowAudio: { type: Boolean, default: true },\n\t\taudioBitRate: { type: Number, default: 128 },\n\t\taudioSampleRate: { type: Number, default: 44100 },\n\t\tshowEmojis: { type: Boolean, default: true },\n\t\tshowReactionEmojis: { type: Boolean, default: true },\n\t\tshowNewMessagesDivider: { type: Boolean, default: true },\n\t\tshowFooter: { type: Boolean, default: true },\n\t\ttextFormatting: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({\n\t\t\t\tdisabled: false,\n\t\t\t\titalic: '_',\n\t\t\t\tbold: '*',\n\t\t\t\tstrike: '~',\n\t\t\t\tunderline: '',\n\t\t\t\tmultilineCode: '```',\n\t\t\t\tinlineCode: '`'\n\t\t\t})\n\t\t},\n\t\tlinkOptions: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({ disabled: false, target: '_blank', rel: null })\n\t\t},\n\t\troomInfoEnabled: { type: Boolean, default: false },\n\t\ttextareaActionEnabled: { type: Boolean, default: false },\n\t\tuserTagsEnabled: { type: Boolean, default: true },\n\t\temojisSuggestionEnabled: { type: Boolean, default: true },\n\t\troomMessage: { type: String, default: '' },\n\t\tscrollDistance: { type: Number, default: 60 },\n\t\tacceptedFiles: { type: String, default: '*' },\n\t\ttemplatesText: { type: Array, default: null },\n\t\tmediaPreviewEnabled: { type: Boolean, default: true },\n\t\tusernameOptions: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({ minUsers: 3, currentUser: false })\n\t\t}\n\t},\n\n\temits: [\n\t\t'toggle-rooms-list',\n\t\t'room-info',\n\t\t'fetch-messages',\n\t\t'send-message',\n\t\t'edit-message',\n\t\t'delete-message',\n\t\t'open-file',\n\t\t'open-user-tag',\n\t\t'open-failed-message',\n\t\t'menu-action-handler',\n\t\t'message-action-handler',\n\t\t'send-message-reaction',\n\t\t'typing-message',\n\t\t'textarea-action-handler',\n\t\t'fetch-more-rooms',\n\t\t'add-room',\n\t\t'room-action-handler',\n\t\t'message-selection-action-handler'\n\t],\n\n\tdata() {\n\t\treturn {\n\t\t\troom: {},\n\t\t\tloadingMoreRooms: false,\n\t\t\tshowRoomsList: true,\n\t\t\tisMobile: false,\n\t\t\tshowMediaPreview: false,\n\t\t\tpreviewFile: {}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tt() {\n\t\t\treturn {\n\t\t\t\t...locales,\n\t\t\t\t...this.textMessages\n\t\t\t}\n\t\t},\n\t\tcssVars() {\n\t\t\tconst defaultStyles = defaultThemeStyles[this.theme]\n\t\t\tconst customStyles = {}\n\n\t\t\tObject.keys(defaultStyles).map(key => {\n\t\t\t\tcustomStyles[key] = {\n\t\t\t\t\t...defaultStyles[key],\n\t\t\t\t\t...(this.styles[key] || {})\n\t\t\t\t}\n\t\t\t})\n\n\t\t\treturn cssThemeVars(customStyles)\n\t\t},\n\t\torderedRooms() {\n\t\t\treturn this.rooms.slice().sort((a, b) => {\n\t\t\t\tconst aVal = a.index || 0\n\t\t\t\tconst bVal = b.index || 0\n\n\t\t\t\tif (this.roomsOrder === 'asc') {\n\t\t\t\t\treturn aVal < bVal ? -1 : bVal < aVal ? 1 : 0\n\t\t\t\t}\n\n\t\t\t\treturn aVal > bVal ? -1 : bVal > aVal ? 1 : 0\n\t\t\t})\n\t\t}\n\t},\n\n\twatch: {\n\t\trooms: {\n\t\t\timmediate: true,\n\t\t\tdeep: true,\n\t\t\thandler(newVal, oldVal) {\n\t\t\t\tif (\n\t\t\t\t\t!newVal[0] ||\n\t\t\t\t\t!newVal.find(room => room.roomId === this.room.roomId)\n\t\t\t\t) {\n\t\t\t\t\tthis.showRoomsList = true\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t!this.loadingMoreRooms &&\n\t\t\t\t\tthis.loadFirstRoom &&\n\t\t\t\t\tnewVal[0] &&\n\t\t\t\t\t(!oldVal || newVal.length !== oldVal.length)\n\t\t\t\t) {\n\t\t\t\t\tif (this.roomId) {\n\t\t\t\t\t\tconst room = newVal.find(r => r.roomId === this.roomId) || {}\n\t\t\t\t\t\tthis.fetchRoom({ room })\n\t\t\t\t\t} else if (!this.isMobile || this.singleRoom) {\n\t\t\t\t\t\tthis.fetchRoom({ room: this.orderedRooms[0] })\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.showRoomsList = true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tloadingRooms(val) {\n\t\t\tif (val) this.room = {}\n\t\t},\n\n\t\troomId: {\n\t\t\timmediate: true,\n\t\t\thandler(newVal, oldVal) {\n\t\t\t\tif (newVal && !this.loadingRooms && this.rooms.length) {\n\t\t\t\t\tconst room = this.rooms.find(r => r.roomId === newVal)\n\t\t\t\t\tthis.fetchRoom({ room })\n\t\t\t\t} else if (oldVal && !newVal) {\n\t\t\t\t\tthis.room = {}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\troom(val) {\n\t\t\tif (!val || Object.entries(val).length === 0) return\n\n\t\t\troomsValidation(val)\n\n\t\t\tval.users.forEach(user => {\n\t\t\t\tpartcipantsValidation(user)\n\t\t\t})\n\t\t},\n\n\t\troomsListOpened(val) {\n\t\t\tthis.showRoomsList = val\n\t\t}\n\t},\n\n\tcreated() {\n\t\tthis.updateResponsive()\n\t\twindow.addEventListener('resize', ev => {\n\t\t\tif (ev.isTrusted) this.updateResponsive()\n\t\t})\n\t},\n\n\tmethods: {\n\t\tupdateResponsive() {\n\t\t\tthis.isMobile = window.innerWidth < this.responsiveBreakpoint\n\t\t},\n\t\ttoggleRoomsList() {\n\t\t\tthis.showRoomsList = !this.showRoomsList\n\t\t\tif (this.isMobile) this.room = {}\n\t\t\tthis.$emit('toggle-rooms-list', { opened: this.showRoomsList })\n\t\t},\n\t\tfetchRoom({ room }) {\n\t\t\tthis.room = room\n\t\t\tthis.fetchMessages({ reset: true })\n\t\t\tif (this.isMobile) this.showRoomsList = false\n\t\t},\n\t\tfetchMoreRooms() {\n\t\t\tthis.$emit('fetch-more-rooms')\n\t\t},\n\t\troomInfo() {\n\t\t\tthis.$emit('room-info', this.room)\n\t\t},\n\t\taddRoom() {\n\t\t\tthis.$emit('add-room')\n\t\t},\n\t\tfetchMessages(options) {\n\t\t\tthis.$emit('fetch-messages', { room: this.room, options })\n\t\t},\n\t\tsendMessage(message) {\n\t\t\tthis.$emit('send-message', { ...message, roomId: this.room.roomId })\n\t\t},\n\t\teditMessage(message) {\n\t\t\tthis.$emit('edit-message', { ...message, roomId: this.room.roomId })\n\t\t},\n\t\tdeleteMessage(message) {\n\t\t\tthis.$emit('delete-message', { message, roomId: this.room.roomId })\n\t\t},\n\t\topenFile({ message, file }) {\n\t\t\tif (this.mediaPreviewEnabled && file.action === 'preview') {\n\t\t\t\tthis.previewFile = file.file\n\t\t\t\tthis.showMediaPreview = true\n\t\t\t} else {\n\t\t\t\tthis.$emit('open-file', { message, file })\n\t\t\t}\n\t\t},\n\t\topenUserTag({ user }) {\n\t\t\tthis.$emit('open-user-tag', { user })\n\t\t},\n\t\topenFailedMessage({ message }) {\n\t\t\tthis.$emit('open-failed-message', {\n\t\t\t\tmessage,\n\t\t\t\troomId: this.room.roomId\n\t\t\t})\n\t\t},\n\t\tmenuActionHandler(ev) {\n\t\t\tthis.$emit('menu-action-handler', {\n\t\t\t\taction: ev,\n\t\t\t\troomId: this.room.roomId\n\t\t\t})\n\t\t},\n\t\troomActionHandler({ action, roomId }) {\n\t\t\tthis.$emit('room-action-handler', {\n\t\t\t\taction,\n\t\t\t\troomId\n\t\t\t})\n\t\t},\n\t\tmessageActionHandler(ev) {\n\t\t\tthis.$emit('message-action-handler', {\n\t\t\t\t...ev,\n\t\t\t\troomId: this.room.roomId\n\t\t\t})\n\t\t},\n\t\tmessageSelectionActionHandler(ev) {\n\t\t\tthis.$emit('message-selection-action-handler', {\n\t\t\t\t...ev,\n\t\t\t\troomId: this.room.roomId\n\t\t\t})\n\t\t},\n\t\tsendMessageReaction(messageReaction) {\n\t\t\tthis.$emit('send-message-reaction', {\n\t\t\t\t...messageReaction,\n\t\t\t\troomId: this.room.roomId\n\t\t\t})\n\t\t},\n\t\ttypingMessage(message) {\n\t\t\tthis.$emit('typing-message', {\n\t\t\t\tmessage,\n\t\t\t\troomId: this.room.roomId\n\t\t\t})\n\t\t},\n\t\ttextareaActionHandler(message) {\n\t\t\tthis.$emit('textarea-action-handler', {\n\t\t\t\tmessage,\n\t\t\t\troomId: this.room.roomId\n\t\t\t})\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n@import '../styles/index.scss';\n</style>\n","import mod from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatWindow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../demo/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../demo/node_modules/thread-loader/dist/cjs.js!../../demo/node_modules/babel-loader/lib/index.js!../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatWindow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatWindow.vue?vue&type=template&id=1349ffc2&\"\nimport script from \"./ChatWindow.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatWindow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatWindow.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../demo/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div class=\"window-container\" :class=\"{ 'window-mobile': isDevice }\">\n\t\t<form v-if=\"addNewRoom\" @submit.prevent=\"createRoom\">\n\t\t\t<input v-model=\"addRoomUsername\" type=\"text\" placeholder=\"Add username\" />\n\t\t\t<button type=\"submit\" :disabled=\"disableForm || !addRoomUsername\">\n\t\t\t\tCreate Room\n\t\t\t</button>\n\t\t\t<button class=\"button-cancel\" @click=\"addNewRoom = false\">\n\t\t\t\tCancel\n\t\t\t</button>\n\t\t</form>\n\n\t\t<form v-if=\"inviteRoomId\" @submit.prevent=\"addRoomUser\">\n\t\t\t<input v-model=\"invitedUsername\" type=\"text\" placeholder=\"Add username\" />\n\t\t\t<button type=\"submit\" :disabled=\"disableForm || !invitedUsername\">\n\t\t\t\tAdd User\n\t\t\t</button>\n\t\t\t<button class=\"button-cancel\" @click=\"inviteRoomId = null\">\n\t\t\t\tCancel\n\t\t\t</button>\n\t\t</form>\n\n\t\t<form v-if=\"removeRoomId\" @submit.prevent=\"deleteRoomUser\">\n\t\t\t<select v-model=\"removeUserId\">\n\t\t\t\t<option default value=\"\">\n\t\t\t\t\tSelect User\n\t\t\t\t</option>\n\t\t\t\t<option v-for=\"user in removeUsers\" :key=\"user._id\" :value=\"user._id\">\n\t\t\t\t\t{{ user.username }}\n\t\t\t\t</option>\n\t\t\t</select>\n\t\t\t<button type=\"submit\" :disabled=\"disableForm || !removeUserId\">\n\t\t\t\tRemove User\n\t\t\t</button>\n\t\t\t<button class=\"button-cancel\" @click=\"removeRoomId = null\">\n\t\t\t\tCancel\n\t\t\t</button>\n\t\t</form>\n\n\t\t<chat-window\n\t\t\t:height=\"screenHeight\"\n\t\t\t:theme=\"theme\"\n\t\t\t:styles=\"styles\"\n\t\t\t:current-user-id=\"currentUserId\"\n\t\t\t:room-id=\"roomId\"\n\t\t\t:rooms=\"loadedRooms\"\n\t\t\t:loading-rooms=\"loadingRooms\"\n\t\t\t:messages=\"messages\"\n\t\t\t:messages-loaded=\"messagesLoaded\"\n\t\t\t:rooms-loaded=\"roomsLoaded\"\n\t\t\t:room-actions=\"roomActions\"\n\t\t\t:menu-actions=\"menuActions\"\n\t\t\t:message-selection-actions=\"messageSelectionActions\"\n\t\t\t:room-message=\"roomMessage\"\n\t\t\t:templates-text=\"templatesText\"\n\t\t\t@fetch-more-rooms=\"fetchMoreRooms\"\n\t\t\t@fetch-messages=\"fetchMessages\"\n\t\t\t@send-message=\"sendMessage\"\n\t\t\t@edit-message=\"editMessage\"\n\t\t\t@delete-message=\"deleteMessage\"\n\t\t\t@open-file=\"openFile\"\n\t\t\t@open-user-tag=\"openUserTag\"\n\t\t\t@add-room=\"addRoom\"\n\t\t\t@room-action-handler=\"menuActionHandler\"\n\t\t\t@menu-action-handler=\"menuActionHandler\"\n\t\t\t@message-selection-action-handler=\"messageSelectionActionHandler\"\n\t\t\t@send-message-reaction=\"sendMessageReaction\"\n\t\t\t@typing-message=\"typingMessage\"\n\t\t\t@toggle-rooms-list=\"$emit('show-demo-options', $event.opened)\"\n\t\t>\n\t\t\t<!-- <template #emoji-picker=\"{ emojiOpened, addEmoji }\">\n\t\t\t\t<button @click=\"addEmoji({ unicode: '' })\">\n\t\t\t\t\t{{ emojiOpened }}\n\t\t\t\t</button>\n\t\t\t</template> -->\n\t\t</chat-window>\n\t</div>\n</template>\n\n<script>\nimport * as firestoreService from '@/database/firestore'\nimport * as firebaseService from '@/database/firebase'\nimport * as storageService from '@/database/storage'\nimport { parseTimestamp, formatTimestamp } from '@/utils/dates'\n\nimport ChatWindow from './../../src/lib/ChatWindow'\n// import ChatWindow, { Rooms } from 'vue-advanced-chat'\n// import ChatWindow from 'vue-advanced-chat'\n// import 'vue-advanced-chat/dist/vue-advanced-chat.css'\n// import ChatWindow from './../../dist/vue-advanced-chat.umd.min.js'\n\nexport default {\n\tcomponents: {\n\t\tChatWindow\n\t},\n\n\tprops: {\n\t\tcurrentUserId: { type: String, required: true },\n\t\ttheme: { type: String, required: true },\n\t\tisDevice: { type: Boolean, required: true }\n\t},\n\n\temits: ['show-demo-options'],\n\n\tdata() {\n\t\treturn {\n\t\t\troomsPerPage: 15,\n\t\t\trooms: [],\n\t\t\troomId: '',\n\t\t\tstartRooms: null,\n\t\t\tendRooms: null,\n\t\t\troomsLoaded: false,\n\t\t\tloadingRooms: true,\n\t\t\tallUsers: [],\n\t\t\tloadingLastMessageByRoom: 0,\n\t\t\troomsLoadedCount: false,\n\t\t\tselectedRoom: null,\n\t\t\tmessagesPerPage: 20,\n\t\t\tmessages: [],\n\t\t\tmessagesLoaded: false,\n\t\t\troomMessage: '',\n\t\t\tlastLoadedMessage: null,\n\t\t\tpreviousLastLoadedMessage: null,\n\t\t\troomsListeners: [],\n\t\t\tlisteners: [],\n\t\t\ttypingMessageCache: '',\n\t\t\tdisableForm: false,\n\t\t\taddNewRoom: null,\n\t\t\taddRoomUsername: '',\n\t\t\tinviteRoomId: null,\n\t\t\tinvitedUsername: '',\n\t\t\tremoveRoomId: null,\n\t\t\tremoveUserId: '',\n\t\t\tremoveUsers: [],\n\t\t\troomActions: [\n\t\t\t\t{ name: 'inviteUser', title: 'Invite User' },\n\t\t\t\t{ name: 'removeUser', title: 'Remove User' },\n\t\t\t\t{ name: 'deleteRoom', title: 'Delete Room' }\n\t\t\t],\n\t\t\tmenuActions: [\n\t\t\t\t{ name: 'inviteUser', title: 'Invite User' },\n\t\t\t\t{ name: 'removeUser', title: 'Remove User' },\n\t\t\t\t{ name: 'deleteRoom', title: 'Delete Room' }\n\t\t\t],\n\t\t\tmessageSelectionActions: [{ name: 'deleteMessages', title: 'Delete' }],\n\t\t\tstyles: { container: { borderRadius: '4px' } },\n\t\t\ttemplatesText: [\n\t\t\t\t{\n\t\t\t\t\ttag: 'help',\n\t\t\t\t\ttext: 'This is the help'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttag: 'action',\n\t\t\t\t\ttext: 'This is the action'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttag: 'action 2',\n\t\t\t\t\ttext: 'This is the second action'\n\t\t\t\t}\n\t\t\t]\n\t\t\t// ,dbRequestCount: 0\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tloadedRooms() {\n\t\t\treturn this.rooms.slice(0, this.roomsLoadedCount)\n\t\t},\n\t\tscreenHeight() {\n\t\t\treturn this.isDevice ? window.innerHeight + 'px' : 'calc(100vh - 80px)'\n\t\t}\n\t},\n\n\tmounted() {\n\t\tthis.fetchRooms()\n\t\tfirebaseService.updateUserOnlineStatus(this.currentUserId)\n\t},\n\n\tmethods: {\n\t\tresetRooms() {\n\t\t\tthis.loadingRooms = true\n\t\t\tthis.loadingLastMessageByRoom = 0\n\t\t\tthis.roomsLoadedCount = 0\n\t\t\tthis.rooms = []\n\t\t\tthis.roomsLoaded = true\n\t\t\tthis.startRooms = null\n\t\t\tthis.endRooms = null\n\t\t\tthis.roomsListeners.forEach(listener => listener())\n\t\t\tthis.roomsListeners = []\n\t\t\tthis.resetMessages()\n\t\t},\n\n\t\tresetMessages() {\n\t\t\tthis.messages = []\n\t\t\tthis.messagesLoaded = false\n\t\t\tthis.lastLoadedMessage = null\n\t\t\tthis.previousLastLoadedMessage = null\n\t\t\tthis.listeners.forEach(listener => listener())\n\t\t\tthis.listeners = []\n\t\t},\n\n\t\tfetchRooms() {\n\t\t\tthis.resetRooms()\n\t\t\tthis.fetchMoreRooms()\n\t\t},\n\n\t\tasync fetchMoreRooms() {\n\t\t\tif (this.endRooms && !this.startRooms) {\n\t\t\t\tthis.roomsLoaded = true\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst query = firestoreService.roomsQuery(\n\t\t\t\tthis.currentUserId,\n\t\t\t\tthis.roomsPerPage,\n\t\t\t\tthis.startRooms\n\t\t\t)\n\n\t\t\tconst { data, docs } = await firestoreService.getRooms(query)\n\t\t\t// this.incrementDbCounter('Fetch Rooms', data.length)\n\n\t\t\tthis.roomsLoaded = data.length === 0 || data.length < this.roomsPerPage\n\n\t\t\tif (this.startRooms) this.endRooms = this.startRooms\n\t\t\tthis.startRooms = docs[docs.length - 1]\n\n\t\t\tconst roomUserIds = []\n\t\t\tdata.forEach(room => {\n\t\t\t\troom.users.forEach(userId => {\n\t\t\t\t\tconst foundUser = this.allUsers.find(user => user?._id === userId)\n\t\t\t\t\tif (!foundUser && roomUserIds.indexOf(userId) === -1) {\n\t\t\t\t\t\troomUserIds.push(userId)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\t// this.incrementDbCounter('Fetch Room Users', roomUserIds.length)\n\t\t\tconst rawUsers = []\n\t\t\troomUserIds.forEach(userId => {\n\t\t\t\tconst promise = firestoreService.getUser(userId)\n\t\t\t\trawUsers.push(promise)\n\t\t\t})\n\n\t\t\tthis.allUsers = [...this.allUsers, ...(await Promise.all(rawUsers))]\n\n\t\t\tconst roomList = {}\n\t\t\tdata.forEach(room => {\n\t\t\t\troomList[room.id] = { ...room, users: [] }\n\n\t\t\t\troom.users.forEach(userId => {\n\t\t\t\t\tconst foundUser = this.allUsers.find(user => user?._id === userId)\n\t\t\t\t\tif (foundUser) roomList[room.id].users.push(foundUser)\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tconst formattedRooms = []\n\n\t\t\tObject.keys(roomList).forEach(key => {\n\t\t\t\tconst room = roomList[key]\n\n\t\t\t\tconst roomContacts = room.users.filter(\n\t\t\t\t\tuser => user._id !== this.currentUserId\n\t\t\t\t)\n\n\t\t\t\troom.roomName =\n\t\t\t\t\troomContacts.map(user => user.username).join(', ') || 'Myself'\n\n\t\t\t\tconst roomAvatar =\n\t\t\t\t\troomContacts.length === 1 && roomContacts[0].avatar\n\t\t\t\t\t\t? roomContacts[0].avatar\n\t\t\t\t\t\t: require('@/assets/logo.png')\n\n\t\t\t\tformattedRooms.push({\n\t\t\t\t\t...room,\n\t\t\t\t\troomId: key,\n\t\t\t\t\tavatar: roomAvatar,\n\t\t\t\t\tindex: room.lastUpdated.seconds,\n\t\t\t\t\tlastMessage: {\n\t\t\t\t\t\tcontent: 'Room created',\n\t\t\t\t\t\ttimestamp: formatTimestamp(\n\t\t\t\t\t\t\tnew Date(room.lastUpdated.seconds),\n\t\t\t\t\t\t\troom.lastUpdated\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tthis.rooms = this.rooms.concat(formattedRooms)\n\t\t\tformattedRooms.forEach(room => this.listenLastMessage(room))\n\n\t\t\tif (!this.rooms.length) {\n\t\t\t\tthis.loadingRooms = false\n\t\t\t\tthis.roomsLoadedCount = 0\n\t\t\t}\n\n\t\t\tthis.listenUsersOnlineStatus(formattedRooms)\n\t\t\tthis.listenRooms(query)\n\t\t\t// setTimeout(() => console.log('TOTAL', this.dbRequestCount), 2000)\n\t\t},\n\n\t\tlistenLastMessage(room) {\n\t\t\tconst listener = firestoreService.listenLastMessage(\n\t\t\t\troom.roomId,\n\t\t\t\tmessages => {\n\t\t\t\t\t// this.incrementDbCounter('Listen Last Room Message', messages.length)\n\t\t\t\t\tmessages.forEach(message => {\n\t\t\t\t\t\tconst lastMessage = this.formatLastMessage(message, room)\n\t\t\t\t\t\tconst roomIndex = this.rooms.findIndex(\n\t\t\t\t\t\t\tr => room.roomId === r.roomId\n\t\t\t\t\t\t)\n\t\t\t\t\t\tthis.rooms[roomIndex].lastMessage = lastMessage\n\t\t\t\t\t\tthis.rooms = [...this.rooms]\n\t\t\t\t\t})\n\t\t\t\t\tif (this.loadingLastMessageByRoom < this.rooms.length) {\n\t\t\t\t\t\tthis.loadingLastMessageByRoom++\n\n\t\t\t\t\t\tif (this.loadingLastMessageByRoom === this.rooms.length) {\n\t\t\t\t\t\t\tthis.loadingRooms = false\n\t\t\t\t\t\t\tthis.roomsLoadedCount = this.rooms.length\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\n\t\t\tthis.roomsListeners.push(listener)\n\t\t},\n\n\t\tformatLastMessage(message, room) {\n\t\t\tif (!message.timestamp) return\n\n\t\t\tlet content = message.content\n\t\t\tif (message.files?.length) {\n\t\t\t\tconst file = message.files[0]\n\t\t\t\tcontent = `${file.name}.${file.extension || file.type}`\n\t\t\t}\n\n\t\t\tconst username =\n\t\t\t\tmessage.sender_id !== this.currentUserId\n\t\t\t\t\t? room.users.find(user => message.sender_id === user._id)?.username\n\t\t\t\t\t: ''\n\n\t\t\treturn {\n\t\t\t\t...message,\n\t\t\t\t...{\n\t\t\t\t\tcontent,\n\t\t\t\t\ttimestamp: formatTimestamp(\n\t\t\t\t\t\tnew Date(message.timestamp.seconds * 1000),\n\t\t\t\t\t\tmessage.timestamp\n\t\t\t\t\t),\n\t\t\t\t\tusername: username,\n\t\t\t\t\tdistributed: true,\n\t\t\t\t\tseen: message.sender_id === this.currentUserId ? message.seen : null,\n\t\t\t\t\tnew:\n\t\t\t\t\t\tmessage.sender_id !== this.currentUserId &&\n\t\t\t\t\t\t(!message.seen || !message.seen[this.currentUserId])\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tfetchMessages({ room, options = {} }) {\n\t\t\tthis.$emit('show-demo-options', false)\n\n\t\t\tif (options.reset) {\n\t\t\t\tthis.resetMessages()\n\t\t\t\tthis.roomId = room.roomId\n\t\t\t}\n\n\t\t\tif (this.previousLastLoadedMessage && !this.lastLoadedMessage) {\n\t\t\t\tthis.messagesLoaded = true\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.selectedRoom = room.roomId\n\n\t\t\tfirestoreService\n\t\t\t\t.getMessages(room.roomId, this.messagesPerPage, this.lastLoadedMessage)\n\t\t\t\t.then(({ data, docs }) => {\n\t\t\t\t\t// this.incrementDbCounter('Fetch Room Messages', messages.length)\n\t\t\t\t\tif (this.selectedRoom !== room.roomId) return\n\n\t\t\t\t\tif (data.length === 0 || data.length < this.messagesPerPage) {\n\t\t\t\t\t\tsetTimeout(() => (this.messagesLoaded = true), 0)\n\t\t\t\t\t}\n\n\t\t\t\t\tif (options.reset) this.messages = []\n\n\t\t\t\t\tdata.forEach(message => {\n\t\t\t\t\t\tconst formattedMessage = this.formatMessage(room, message)\n\t\t\t\t\t\tthis.messages.unshift(formattedMessage)\n\t\t\t\t\t})\n\n\t\t\t\t\tif (this.lastLoadedMessage) {\n\t\t\t\t\t\tthis.previousLastLoadedMessage = this.lastLoadedMessage\n\t\t\t\t\t}\n\t\t\t\t\tthis.lastLoadedMessage = docs[docs.length - 1]\n\n\t\t\t\t\tthis.listenMessages(room)\n\t\t\t\t})\n\t\t},\n\n\t\tlistenMessages(room) {\n\t\t\tconst listener = firestoreService.listenMessages(\n\t\t\t\troom.roomId,\n\t\t\t\tthis.lastLoadedMessage,\n\t\t\t\tthis.previousLastLoadedMessage,\n\t\t\t\tmessages => {\n\t\t\t\t\tmessages.forEach(message => {\n\t\t\t\t\t\tconst formattedMessage = this.formatMessage(room, message)\n\t\t\t\t\t\tconst messageIndex = this.messages.findIndex(\n\t\t\t\t\t\t\tm => m._id === message.id\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\tif (messageIndex === -1) {\n\t\t\t\t\t\t\tthis.messages = this.messages.concat([formattedMessage])\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.messages[messageIndex] = formattedMessage\n\t\t\t\t\t\t\tthis.messages = [...this.messages]\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.markMessagesSeen(room, message)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t)\n\t\t\tthis.listeners.push(listener)\n\t\t},\n\n\t\tmarkMessagesSeen(room, message) {\n\t\t\tif (\n\t\t\t\tmessage.sender_id !== this.currentUserId &&\n\t\t\t\t(!message.seen || !message.seen[this.currentUserId])\n\t\t\t) {\n\t\t\t\tfirestoreService.updateMessage(room.roomId, message.id, {\n\t\t\t\t\t[`seen.${this.currentUserId}`]: new Date()\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\n\t\tformatMessage(room, message) {\n\t\t\tconst formattedMessage = {\n\t\t\t\t...message,\n\t\t\t\t...{\n\t\t\t\t\tsenderId: message.sender_id,\n\t\t\t\t\t_id: message.id,\n\t\t\t\t\tseconds: message.timestamp.seconds,\n\t\t\t\t\ttimestamp: parseTimestamp(message.timestamp, 'HH:mm'),\n\t\t\t\t\tdate: parseTimestamp(message.timestamp, 'DD MMMM YYYY'),\n\t\t\t\t\tusername: room.users.find(user => message.sender_id === user._id)\n\t\t\t\t\t\t?.username,\n\t\t\t\t\t// avatar: senderUser ? senderUser.avatar : null,\n\t\t\t\t\tdistributed: true\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (message.replyMessage) {\n\t\t\t\tformattedMessage.replyMessage = {\n\t\t\t\t\t...message.replyMessage,\n\t\t\t\t\t...{\n\t\t\t\t\t\tsenderId: message.replyMessage.sender_id\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn formattedMessage\n\t\t},\n\n\t\tasync sendMessage({ content, roomId, files, replyMessage }) {\n\t\t\tconst message = {\n\t\t\t\tsender_id: this.currentUserId,\n\t\t\t\tcontent,\n\t\t\t\ttimestamp: new Date()\n\t\t\t}\n\n\t\t\tif (files) {\n\t\t\t\tmessage.files = this.formattedFiles(files)\n\t\t\t}\n\n\t\t\tif (replyMessage) {\n\t\t\t\tmessage.replyMessage = {\n\t\t\t\t\t_id: replyMessage._id,\n\t\t\t\t\tcontent: replyMessage.content,\n\t\t\t\t\tsender_id: replyMessage.senderId\n\t\t\t\t}\n\n\t\t\t\tif (replyMessage.files) {\n\t\t\t\t\tmessage.replyMessage.files = replyMessage.files\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst { id } = await firestoreService.addMessage(roomId, message)\n\n\t\t\tif (files) {\n\t\t\t\tfor (let index = 0; index < files.length; index++) {\n\t\t\t\t\tawait this.uploadFile({ file: files[index], messageId: id, roomId })\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfirestoreService.updateRoom(roomId, { lastUpdated: new Date() })\n\t\t},\n\n\t\tasync editMessage({ messageId, newContent, roomId, files }) {\n\t\t\tconst newMessage = { edited: new Date() }\n\t\t\tnewMessage.content = newContent\n\n\t\t\tif (files) {\n\t\t\t\tnewMessage.files = this.formattedFiles(files)\n\t\t\t} else {\n\t\t\t\tnewMessage.files = firestoreService.deleteDbField\n\t\t\t}\n\n\t\t\tawait firestoreService.updateMessage(roomId, messageId, newMessage)\n\n\t\t\tif (files) {\n\t\t\t\tfor (let index = 0; index < files.length; index++) {\n\t\t\t\t\tif (files[index]?.blob) {\n\t\t\t\t\t\tawait this.uploadFile({ file: files[index], messageId, roomId })\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tasync deleteMessage({ message, roomId }) {\n\t\t\tawait firestoreService.updateMessage(roomId, message._id, {\n\t\t\t\tdeleted: new Date()\n\t\t\t})\n\n\t\t\tconst { files } = message\n\n\t\t\tif (files) {\n\t\t\t\tfiles.forEach(file => {\n\t\t\t\t\tstorageService.deleteFile(this.currentUserId, message._id, file)\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\n\t\tasync uploadFile({ file, messageId, roomId }) {\n\t\t\treturn new Promise(resolve => {\n\t\t\t\tlet type = file.extension || file.type\n\t\t\t\tif (type === 'svg' || type === 'pdf') {\n\t\t\t\t\ttype = file.type\n\t\t\t\t}\n\n\t\t\t\tstorageService.listenUploadImageProgress(\n\t\t\t\t\tthis.currentUserId,\n\t\t\t\t\tmessageId,\n\t\t\t\t\tfile,\n\t\t\t\t\ttype,\n\t\t\t\t\tprogress => {\n\t\t\t\t\t\tthis.updateFileProgress(messageId, file.localUrl, progress)\n\t\t\t\t\t},\n\t\t\t\t\t_error => {\n\t\t\t\t\t\tresolve(false)\n\t\t\t\t\t},\n\t\t\t\t\tasync url => {\n\t\t\t\t\t\tconst message = await firestoreService.getMessage(roomId, messageId)\n\n\t\t\t\t\t\tmessage.files.forEach(f => {\n\t\t\t\t\t\t\tif (f.url === file.localUrl) {\n\t\t\t\t\t\t\t\tf.url = url\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\tawait firestoreService.updateMessage(roomId, messageId, {\n\t\t\t\t\t\t\tfiles: message.files\n\t\t\t\t\t\t})\n\t\t\t\t\t\tresolve(true)\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t})\n\t\t},\n\n\t\tupdateFileProgress(messageId, fileUrl, progress) {\n\t\t\tconst message = this.messages.find(message => message._id === messageId)\n\n\t\t\tif (!message || !message.files) return\n\n\t\t\tmessage.files.find(file => file.url === fileUrl).progress = progress\n\t\t\tthis.messages = [...this.messages]\n\t\t},\n\n\t\tformattedFiles(files) {\n\t\t\tconst formattedFiles = []\n\n\t\t\tfiles.forEach(file => {\n\t\t\t\tconst messageFile = {\n\t\t\t\t\tname: file.name,\n\t\t\t\t\tsize: file.size,\n\t\t\t\t\ttype: file.type,\n\t\t\t\t\textension: file.extension || file.type,\n\t\t\t\t\turl: file.url || file.localUrl\n\t\t\t\t}\n\n\t\t\t\tif (file.audio) {\n\t\t\t\t\tmessageFile.audio = true\n\t\t\t\t\tmessageFile.duration = file.duration\n\t\t\t\t}\n\n\t\t\t\tformattedFiles.push(messageFile)\n\t\t\t})\n\n\t\t\treturn formattedFiles\n\t\t},\n\n\t\topenFile({ file }) {\n\t\t\twindow.open(file.file.url, '_blank')\n\t\t},\n\n\t\tasync openUserTag({ user }) {\n\t\t\tlet roomId\n\n\t\t\tthis.rooms.forEach(room => {\n\t\t\t\tif (room.users.length === 2) {\n\t\t\t\t\tconst userId1 = room.users[0]._id\n\t\t\t\t\tconst userId2 = room.users[1]._id\n\t\t\t\t\tif (\n\t\t\t\t\t\t(userId1 === user._id || userId1 === this.currentUserId) &&\n\t\t\t\t\t\t(userId2 === user._id || userId2 === this.currentUserId)\n\t\t\t\t\t) {\n\t\t\t\t\t\troomId = room.roomId\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tif (roomId) {\n\t\t\t\tthis.roomId = roomId\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst query1 = await firestoreService.getUserRooms(\n\t\t\t\tthis.currentUserId,\n\t\t\t\tuser._id\n\t\t\t)\n\n\t\t\tif (query1.data.length) {\n\t\t\t\treturn this.loadRoom(query1)\n\t\t\t}\n\n\t\t\tconst query2 = await firestoreService.getUserRooms(\n\t\t\t\tuser._id,\n\t\t\t\tthis.currentUserId\n\t\t\t)\n\n\t\t\tif (query2.data.length) {\n\t\t\t\treturn this.loadRoom(query2)\n\t\t\t}\n\n\t\t\tconst users =\n\t\t\t\tuser._id === this.currentUserId\n\t\t\t\t\t? [this.currentUserId]\n\t\t\t\t\t: [user._id, this.currentUserId]\n\n\t\t\tconst room = await firestoreService.addRoom({\n\t\t\t\tusers: users,\n\t\t\t\tlastUpdated: new Date()\n\t\t\t})\n\n\t\t\tthis.roomId = room.id\n\t\t\tthis.fetchRooms()\n\t\t},\n\n\t\tasync loadRoom(query) {\n\t\t\tquery.forEach(async room => {\n\t\t\t\tif (this.loadingRooms) return\n\t\t\t\tawait firestoreService.updateRoom(room.id, { lastUpdated: new Date() })\n\t\t\t\tthis.roomId = room.id\n\t\t\t\tthis.fetchRooms()\n\t\t\t})\n\t\t},\n\n\t\tmenuActionHandler({ action, roomId }) {\n\t\t\tswitch (action.name) {\n\t\t\t\tcase 'inviteUser':\n\t\t\t\t\treturn this.inviteUser(roomId)\n\t\t\t\tcase 'removeUser':\n\t\t\t\t\treturn this.removeUser(roomId)\n\t\t\t\tcase 'deleteRoom':\n\t\t\t\t\treturn this.deleteRoom(roomId)\n\t\t\t}\n\t\t},\n\n\t\tmessageSelectionActionHandler({ action, messages, roomId }) {\n\t\t\tswitch (action.name) {\n\t\t\t\tcase 'deleteMessages':\n\t\t\t\t\tmessages.forEach(message => {\n\t\t\t\t\t\tthis.deleteMessage({ message, roomId })\n\t\t\t\t\t})\n\t\t\t}\n\t\t},\n\n\t\tasync sendMessageReaction({ reaction, remove, messageId, roomId }) {\n\t\t\tfirestoreService.updateMessageReactions(\n\t\t\t\troomId,\n\t\t\t\tmessageId,\n\t\t\t\tthis.currentUserId,\n\t\t\t\treaction.unicode,\n\t\t\t\tremove ? 'remove' : 'add'\n\t\t\t)\n\t\t},\n\n\t\ttypingMessage({ message, roomId }) {\n\t\t\tif (roomId) {\n\t\t\t\tif (message?.length > 1) {\n\t\t\t\t\tthis.typingMessageCache = message\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tif (message?.length === 1 && this.typingMessageCache) {\n\t\t\t\t\tthis.typingMessageCache = message\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tthis.typingMessageCache = message\n\n\t\t\t\tfirestoreService.updateRoomTypingUsers(\n\t\t\t\t\troomId,\n\t\t\t\t\tthis.currentUserId,\n\t\t\t\t\tmessage ? 'add' : 'remove'\n\t\t\t\t)\n\t\t\t}\n\t\t},\n\n\t\tasync listenRooms(query) {\n\t\t\tconst listener = firestoreService.listenRooms(query, rooms => {\n\t\t\t\t// this.incrementDbCounter('Listen Rooms Typing Users', rooms.length)\n\t\t\t\trooms.forEach(room => {\n\t\t\t\t\tconst foundRoom = this.rooms.find(r => r.roomId === room.id)\n\t\t\t\t\tif (foundRoom) {\n\t\t\t\t\t\tfoundRoom.typingUsers = room.typingUsers\n\t\t\t\t\t\tfoundRoom.index = room.lastUpdated.seconds\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t\tthis.roomsListeners.push(listener)\n\t\t},\n\n\t\tlistenUsersOnlineStatus(rooms) {\n\t\t\trooms.forEach(room => {\n\t\t\t\troom.users.forEach(user => {\n\t\t\t\t\tconst listener = firebaseService.firebaseListener(\n\t\t\t\t\t\tfirebaseService.userStatusRef(user._id),\n\t\t\t\t\t\tsnapshot => {\n\t\t\t\t\t\t\tif (!snapshot || !snapshot.val()) return\n\n\t\t\t\t\t\t\tconst lastChanged = formatTimestamp(\n\t\t\t\t\t\t\t\tnew Date(snapshot.val().lastChanged),\n\t\t\t\t\t\t\t\tnew Date(snapshot.val().lastChanged)\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\tuser.status = { ...snapshot.val(), lastChanged }\n\n\t\t\t\t\t\t\tconst roomIndex = this.rooms.findIndex(\n\t\t\t\t\t\t\t\tr => room.roomId === r.roomId\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\tthis.rooms[roomIndex] = room\n\t\t\t\t\t\t\tthis.rooms = [...this.rooms]\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t\tthis.roomsListeners.push(listener)\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\n\t\taddRoom() {\n\t\t\tthis.resetForms()\n\t\t\tthis.addNewRoom = true\n\t\t},\n\n\t\tasync createRoom() {\n\t\t\tthis.disableForm = true\n\n\t\t\tconst { id } = await firestoreService.addUser({\n\t\t\t\tusername: this.addRoomUsername\n\t\t\t})\n\t\t\tawait firestoreService.updateUser(id, { _id: id })\n\n\t\t\tawait firestoreService.addRoom({\n\t\t\t\tusers: [id, this.currentUserId],\n\t\t\t\tlastUpdated: new Date()\n\t\t\t})\n\n\t\t\tthis.addNewRoom = false\n\t\t\tthis.addRoomUsername = ''\n\t\t\tthis.fetchRooms()\n\t\t},\n\n\t\tinviteUser(roomId) {\n\t\t\tthis.resetForms()\n\t\t\tthis.inviteRoomId = roomId\n\t\t},\n\n\t\tasync addRoomUser() {\n\t\t\tthis.disableForm = true\n\n\t\t\tconst { id } = await firestoreService.addUser({\n\t\t\t\tusername: this.invitedUsername\n\t\t\t})\n\t\t\tawait firestoreService.updateUser(id, { _id: id })\n\n\t\t\tawait firestoreService.addRoomUser(this.inviteRoomId, id)\n\n\t\t\tthis.inviteRoomId = null\n\t\t\tthis.invitedUsername = ''\n\t\t\tthis.fetchRooms()\n\t\t},\n\n\t\tremoveUser(roomId) {\n\t\t\tthis.resetForms()\n\t\t\tthis.removeRoomId = roomId\n\t\t\tthis.removeUsers = this.rooms.find(room => room.roomId === roomId).users\n\t\t},\n\n\t\tasync deleteRoomUser() {\n\t\t\tthis.disableForm = true\n\n\t\t\tawait firestoreService.removeRoomUser(\n\t\t\t\tthis.removeRoomId,\n\t\t\t\tthis.removeUserId\n\t\t\t)\n\n\t\t\tthis.removeRoomId = null\n\t\t\tthis.removeUserId = ''\n\t\t\tthis.fetchRooms()\n\t\t},\n\n\t\tasync deleteRoom(roomId) {\n\t\t\tconst room = this.rooms.find(r => r.roomId === roomId)\n\t\t\tif (\n\t\t\t\troom.users.find(user => user._id === 'SGmFnBZB4xxMv9V4CVlW') ||\n\t\t\t\troom.users.find(user => user._id === '6jMsIXUrBHBj7o2cRlau')\n\t\t\t) {\n\t\t\t\treturn alert('Nope, for demo purposes you cannot delete this room')\n\t\t\t}\n\n\t\t\tfirestoreService.getMessages(roomId).then(({ data }) => {\n\t\t\t\tdata.forEach(message => {\n\t\t\t\t\tfirestoreService.deleteMessage(roomId, message.id)\n\t\t\t\t\tif (message.files) {\n\t\t\t\t\t\tmessage.files.forEach(file => {\n\t\t\t\t\t\t\tstorageService.deleteFile(this.currentUserId, message.id, file)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tawait firestoreService.deleteRoom(roomId)\n\n\t\t\tthis.fetchRooms()\n\t\t},\n\n\t\tresetForms() {\n\t\t\tthis.disableForm = false\n\t\t\tthis.addNewRoom = null\n\t\t\tthis.addRoomUsername = ''\n\t\t\tthis.inviteRoomId = null\n\t\t\tthis.invitedUsername = ''\n\t\t\tthis.removeRoomId = null\n\t\t\tthis.removeUserId = ''\n\t\t}\n\n\t\t// ,incrementDbCounter(type, size) {\n\t\t// \tsize = size || 1\n\t\t// \tthis.dbRequestCount += size\n\t\t// \tconsole.log(type, size)\n\t\t// }\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.window-container {\n\twidth: 100%;\n}\n\n.window-mobile {\n\tform {\n\t\tpadding: 0 10px 10px;\n\t}\n}\n\nform {\n\tpadding-bottom: 20px;\n}\n\ninput {\n\tpadding: 5px;\n\twidth: 140px;\n\theight: 21px;\n\tborder-radius: 4px;\n\tborder: 1px solid #d2d6da;\n\toutline: none;\n\tfont-size: 14px;\n\tvertical-align: middle;\n\n\t&::placeholder {\n\t\tcolor: #9ca6af;\n\t}\n}\n\nbutton {\n\tbackground: #1976d2;\n\tcolor: #fff;\n\toutline: none;\n\tcursor: pointer;\n\tborder-radius: 4px;\n\tpadding: 8px 12px;\n\tmargin-left: 10px;\n\tborder: none;\n\tfont-size: 14px;\n\ttransition: 0.3s;\n\tvertical-align: middle;\n\n\t&:hover {\n\t\topacity: 0.8;\n\t}\n\n\t&:active {\n\t\topacity: 0.6;\n\t}\n\n\t&:disabled {\n\t\tcursor: initial;\n\t\tbackground: #c6c9cc;\n\t\topacity: 0.6;\n\t}\n}\n\n.button-cancel {\n\tcolor: #a8aeb3;\n\tbackground: none;\n\tmargin-left: 5px;\n}\n\nselect {\n\tvertical-align: middle;\n\theight: 33px;\n\twidth: 152px;\n\tfont-size: 13px;\n\tmargin: 0 !important;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatContainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatContainer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatContainer.vue?vue&type=template&id=62e5eb8d&scoped=true&\"\nimport script from \"./ChatContainer.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatContainer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatContainer.vue?vue&type=style&index=0&id=62e5eb8d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62e5eb8d\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div>\n\t\t<div\n\t\t\tclass=\"app-container\"\n\t\t\t:class=\"{ 'app-mobile': isDevice, 'app-mobile-dark': theme === 'dark' }\"\n\t\t>\n\t\t\t<!-- <div>\n\t\t\t\t<button @click=\"resetData\">\n\t\t\t\t\tClear Data\n\t\t\t\t</button>\n\t\t\t\t<button :disabled=\"updatingData\" @click=\"addData\">\n\t\t\t\t\tAdd Data\n\t\t\t\t</button>\n\t\t\t</div> -->\n\t\t\t<span\n\t\t\t\tv-if=\"showOptions\"\n\t\t\t\tclass=\"user-logged\"\n\t\t\t\t:class=\"{ 'user-logged-dark': theme === 'dark' }\"\n\t\t\t>\n\t\t\t\tLogged as\n\t\t\t</span>\n\t\t\t<select v-if=\"showOptions\" v-model=\"currentUserId\">\n\t\t\t\t<option v-for=\"user in users\" :key=\"user._id\" :value=\"user._id\">\n\t\t\t\t\t{{ user.username }}\n\t\t\t\t</option>\n\t\t\t</select>\n\n\t\t\t<div v-if=\"showOptions\" class=\"button-theme\">\n\t\t\t\t<button class=\"button-light\" @click=\"theme = 'light'\">\n\t\t\t\t\tLight\n\t\t\t\t</button>\n\t\t\t\t<button class=\"button-dark\" @click=\"theme = 'dark'\">\n\t\t\t\t\tDark\n\t\t\t\t</button>\n\t\t\t\t<button class=\"button-github\">\n\t\t\t\t\t<a href=\"https://github.com/antoine92190/vue-advanced-chat\">\n\t\t\t\t\t\t<img src=\"@/assets/github.svg\" />\n\t\t\t\t\t</a>\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<chat-container\n\t\t\t\tv-if=\"showChat\"\n\t\t\t\t:current-user-id=\"currentUserId\"\n\t\t\t\t:theme=\"theme\"\n\t\t\t\t:is-device=\"isDevice\"\n\t\t\t\t@show-demo-options=\"showDemoOptions = $event\"\n\t\t\t/>\n\n\t\t\t<!-- <div class=\"version-container\">\n\t\t\t\tv1.0.0\n\t\t\t</div> -->\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport * as firestoreService from '@/database/firestore'\nimport * as storageService from '@/database/storage'\n\nimport ChatContainer from './ChatContainer'\n\nexport default {\n\tcomponents: {\n\t\tChatContainer\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\ttheme: 'light',\n\t\t\tshowChat: true,\n\t\t\tusers: [\n\t\t\t\t{\n\t\t\t\t\t_id: '6R0MijpK6M4AIrwaaCY2',\n\t\t\t\t\tusername: 'Luke',\n\t\t\t\t\tavatar: 'https://66.media.tumblr.com/avatar_c6a8eae4303e_512.pnj'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t_id: 'SGmFnBZB4xxMv9V4CVlW',\n\t\t\t\t\tusername: 'Leia',\n\t\t\t\t\tavatar: 'https://avatarfiles.alphacoders.com/184/thumb-184913.jpg'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t_id: '6jMsIXUrBHBj7o2cRlau',\n\t\t\t\t\tusername: 'Yoda',\n\t\t\t\t\tavatar:\n\t\t\t\t\t\t'https://vignette.wikia.nocookie.net/teamavatarone/images/4/45/Yoda.jpg/revision/latest?cb=20130224160049'\n\t\t\t\t}\n\t\t\t],\n\t\t\tcurrentUserId: '6R0MijpK6M4AIrwaaCY2',\n\t\t\tisDevice: false,\n\t\t\tshowDemoOptions: true,\n\t\t\tupdatingData: false\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tshowOptions() {\n\t\t\treturn !this.isDevice || this.showDemoOptions\n\t\t}\n\t},\n\n\twatch: {\n\t\tcurrentUserId() {\n\t\t\tthis.showChat = false\n\t\t\tsetTimeout(() => (this.showChat = true), 150)\n\t\t}\n\t},\n\n\tmounted() {\n\t\tthis.isDevice = window.innerWidth < 500\n\t\twindow.addEventListener('resize', ev => {\n\t\t\tif (ev.isTrusted) this.isDevice = window.innerWidth < 500\n\t\t})\n\t},\n\n\tmethods: {\n\t\tresetData() {\n\t\t\tfirestoreService.getAllRooms().then(({ data }) => {\n\t\t\t\tdata.forEach(async room => {\n\t\t\t\t\tawait firestoreService.getMessages(room.id).then(({ data }) => {\n\t\t\t\t\t\tdata.forEach(message => {\n\t\t\t\t\t\t\tfirestoreService.deleteMessage(room.id, message.id)\n\t\t\t\t\t\t\tif (message.files) {\n\t\t\t\t\t\t\t\tmessage.files.forEach(file => {\n\t\t\t\t\t\t\t\t\tstorageService.deleteFile(\n\t\t\t\t\t\t\t\t\t\tthis.currentUserId,\n\t\t\t\t\t\t\t\t\t\tmessage.id,\n\t\t\t\t\t\t\t\t\t\tfile\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\n\t\t\t\t\tfirestoreService.deleteRoom(room.id)\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tfirestoreService.getAllUsers().then(({ data }) => {\n\t\t\t\tdata.forEach(user => {\n\t\t\t\t\tfirestoreService.deleteUser(user.id)\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\tasync addData() {\n\t\t\tthis.updatingData = true\n\n\t\t\tconst user1 = this.users[0]\n\t\t\tawait firestoreService.addIdentifiedUser(user1._id, user1)\n\n\t\t\tconst user2 = this.users[1]\n\t\t\tawait firestoreService.addIdentifiedUser(user2._id, user2)\n\n\t\t\tconst user3 = this.users[2]\n\t\t\tawait firestoreService.addIdentifiedUser(user3._id, user3)\n\n\t\t\tawait firestoreService.addRoom({\n\t\t\t\tusers: [user1._id, user2._id],\n\t\t\t\tlastUpdated: new Date()\n\t\t\t})\n\t\t\tawait firestoreService.addRoom({\n\t\t\t\tusers: [user1._id, user3._id],\n\t\t\t\tlastUpdated: new Date()\n\t\t\t})\n\t\t\tawait firestoreService.addRoom({\n\t\t\t\tusers: [user2._id, user3._id],\n\t\t\t\tlastUpdated: new Date()\n\t\t\t})\n\t\t\tawait firestoreService.addRoom({\n\t\t\t\tusers: [user1._id, user2._id, user3._id],\n\t\t\t\tlastUpdated: new Date()\n\t\t\t})\n\n\t\t\tthis.updatingData = false\n\t\t\tlocation.reload()\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\nbody {\n\tbackground: #fafafa;\n\tmargin: 0;\n}\n\ninput {\n\t-webkit-appearance: none;\n}\n\n.app-container {\n\tfont-family: 'Quicksand', sans-serif;\n\tpadding: 20px 30px 30px;\n}\n\n.app-mobile {\n\tpadding: 0;\n\n\t&.app-mobile-dark {\n\t\tbackground: #131415;\n\t}\n\n\t.user-logged {\n\t\tmargin: 10px 5px 0 10px;\n\t}\n\n\tselect {\n\t\tmargin: 10px 0;\n\t}\n\n\t.button-theme {\n\t\tmargin: 10px 10px 0 0;\n\n\t\t.button-github {\n\t\t\theight: 23px;\n\n\t\t\timg {\n\t\t\t\theight: 23px;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.user-logged {\n\tfont-size: 12px;\n\tmargin-right: 5px;\n\tmargin-top: 10px;\n\n\t&.user-logged-dark {\n\t\tcolor: #fff;\n\t}\n}\n\nselect {\n\theight: 20px;\n\toutline: none;\n\tborder: 1px solid #e0e2e4;\n\tborder-radius: 4px;\n\tbackground: #fff;\n\tmargin-bottom: 20px;\n}\n\n.button-theme {\n\tfloat: right;\n\tdisplay: flex;\n\talign-items: center;\n\n\t.button-light {\n\t\tbackground: #fff;\n\t\tborder: 1px solid #46484e;\n\t\tcolor: #46484e;\n\t}\n\n\t.button-dark {\n\t\tbackground: #1c1d21;\n\t\tborder: 1px solid #1c1d21;\n\t}\n\n\tbutton {\n\t\tcolor: #fff;\n\t\toutline: none;\n\t\tcursor: pointer;\n\t\tborder-radius: 4px;\n\t\tpadding: 6px 12px;\n\t\tmargin-left: 10px;\n\t\tborder: none;\n\t\tfont-size: 14px;\n\t\ttransition: 0.3s;\n\t\tvertical-align: middle;\n\n\t\t&.button-github {\n\t\t\theight: 30px;\n\t\t\tbackground: none;\n\t\t\tpadding: 0;\n\t\t\tmargin-left: 20px;\n\n\t\t\timg {\n\t\t\t\theight: 30px;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\topacity: 0.8;\n\t\t}\n\n\t\t&:active {\n\t\t\topacity: 0.6;\n\t\t}\n\n\t\t@media only screen and (max-width: 768px) {\n\t\t\tpadding: 3px 6px;\n\t\t\tfont-size: 13px;\n\t\t}\n\t}\n}\n\n.version-container {\n\tpadding-top: 20px;\n\ttext-align: right;\n\tfont-size: 14px;\n\tcolor: grey;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=319e53a6&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n\trender: h => h(App)\n}).$mount('#app')\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","export function detectMobile() {\n\tvar userAgent = getUserAgent()\n\n\tvar userAgentPart = userAgent.substr(0, 4)\n\n\treturn (\n\t\t/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(\n\t\t\tuserAgent\n\t\t) ||\n\t\t/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw(n|u)|c55\\/|capi|ccwa|cdm|cell|chtm|cldc|cmd|co(mp|nd)|craw|da(it|ll|ng)|dbte|dcs|devi|dica|dmob|do(c|p)o|ds(12|d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(|_)|g1 u|g560|gene|gf5|gmo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd(m|p|t)|hei|hi(pt|ta)|hp( i|ip)|hsc|ht(c(| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i(20|go|ma)|i230|iac( ||\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|[a-w])|libw|lynx|m1w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|mcr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|([1-8]|c))|phil|pire|pl(ay|uc)|pn2|po(ck|rt|se)|prox|psio|ptg|qaa|qc(07|12|21|32|60|[2-7]|i)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h|oo|p)|sdk\\/|se(c(|0|1)|47|mc|nd|ri)|sgh|shar|sie(|m)|sk0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h|v|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl|tdg|tel(i|m)|tim|tmo|to(pl|sh)|ts(70|m|m3|m5)|tx9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas|your|zeto|zte/i.test(\n\t\t\tuserAgentPart\n\t\t)\n\t)\n}\n\nfunction getUserAgent() {\n\tvar userAgent =\n\t\tnavigator.userAgent || navigator.vendor || window.opera || null\n\n\tif (!userAgent) throw new Error('Failed to look for user agent information.')\n\n\treturn userAgent\n}\n","export function roomsValidation(obj) {\n\tconst roomsValidate = [\n\t\t{ key: 'roomId', type: ['string', 'number'] },\n\t\t{ key: 'roomName', type: ['string'] },\n\t\t{ key: 'users', type: ['array'] }\n\t]\n\n\tconst validate = (obj, props) => {\n\t\treturn props.every(prop => {\n\t\t\tlet validType = false\n\n\t\t\tif (prop.type[0] === 'array' && Array.isArray(obj[prop.key])) {\n\t\t\t\tvalidType = true\n\t\t\t} else if (prop.type.find(t => t === typeof obj[prop.key])) {\n\t\t\t\tvalidType = true\n\t\t\t}\n\n\t\t\treturn validType && checkObjectValid(obj, prop.key)\n\t\t})\n\t}\n\n\tif (!validate(obj, roomsValidate)) {\n\t\tthrow new Error(\n\t\t\t'Rooms object is not valid! Must contain roomId[String, Number], roomName[String] and users[Array]'\n\t\t)\n\t}\n}\n\nexport function partcipantsValidation(obj) {\n\tconst participantsValidate = [\n\t\t{ key: '_id', type: ['string', 'number'] },\n\t\t{ key: 'username', type: ['string'] }\n\t]\n\n\tconst validate = (obj, props) => {\n\t\treturn props.every(prop => {\n\t\t\tconst validType = prop.type.find(t => t === typeof obj[prop.key])\n\t\t\treturn validType && checkObjectValid(obj, prop.key)\n\t\t})\n\t}\n\n\tif (!validate(obj, participantsValidate)) {\n\t\tthrow new Error(\n\t\t\t'Participants object is not valid! Must contain _id[String, Number] and username[String]'\n\t\t)\n\t}\n}\n\nexport function messagesValidation(obj) {\n\tconst messagesValidate = [\n\t\t{ key: '_id', type: ['string', 'number'] },\n\t\t{ key: 'content', type: ['string', 'number'] },\n\t\t{ key: 'senderId', type: ['string', 'number'] }\n\t]\n\n\tconst validate = (obj, props) => {\n\t\treturn props.every(prop => {\n\t\t\tconst validType = prop.type.find(t => t === typeof obj[prop.key])\n\t\t\treturn validType && checkObjectValid(obj, prop.key)\n\t\t})\n\t}\n\n\tif (!validate(obj, messagesValidate)) {\n\t\tthrow new Error(\n\t\t\t'Messages object is not valid! Must contain _id[String, Number], content[String, Number] and senderId[String, Number]'\n\t\t)\n\t}\n}\n\nfunction checkObjectValid(obj, key) {\n\treturn (\n\t\tObject.prototype.hasOwnProperty.call(obj, key) &&\n\t\tobj[key] !== null &&\n\t\tobj[key] !== undefined\n\t)\n}\n","export * from \"-!../../demo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../demo/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../demo/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../demo/node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../demo/node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../demo/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../demo/node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatWindow.vue?vue&type=style&index=0&lang=scss&\"","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}